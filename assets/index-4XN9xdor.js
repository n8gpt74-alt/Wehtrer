import{j as n,c as po}from"./three-vendor-CI3MW61Y.js";import{a as g,g as xo,C as ar,S as or,X as pe,K as go,M as yt,b as xe,c as Is,D as os,B as Ke,d as Tn,e as Mn,f as Ee,P as yo,T as bo,h as Cn,W as vo,i as wo,I as ls,j as ct,k as se,l as ye,m as ne,n as ee,N as jo,G as lr,E as No,o as Fs,p as Os,q as So,F as To,s as Mo,t as cr,u as Co,v as Po,w as ko,x as Oe,y as dr,z as We,A as Do,H as cs,J as Ao,L as Eo,O as Bs,Q as Ro,U as Vo,V as Lo,Y as Pn,Z as ur,_ as $o,$ as Io,a0 as Bt,a1 as Wt,a2 as Fo}from"./icons-vendor-SGWv98kV.js";import{r as Oo}from"./utils-vendor-DmWYg8YC.js";import{R as Ze,A as hr,C as kt,X as Dt,Y as At,T as Et,a as ds,b as Bo,B as Wo,c as mr,d as Uo,e as Ho,L as _o,f as zo,P as Ko,g as Go,h as Xo}from"./charts-vendor-DcEz_Smi.js";import"./react-vendor-DldvXD6N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const Ws=g.createContext({});function Us(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const fr=typeof window<"u",pr=fr?g.useLayoutEffect:g.useEffect,Rt=g.createContext(null);function Hs(e,t){e.indexOf(t)===-1&&e.push(t)}function bt(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const te=(e,t,s)=>s>t?t:s<e?e:s;let _s=()=>{};const ie={},xr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gr(e){return typeof e=="object"&&e!==null}const yr=e=>/^0[^.\s]+$/u.test(e);function br(e){let t;return()=>(t===void 0&&(t=e()),t)}const K=e=>e,qo=(e,t)=>s=>t(e(s)),Qe=(...e)=>e.reduce(qo),Ge=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i};class zs{constructor(){this.subscriptions=[]}add(t){return Hs(this.subscriptions,t),()=>bt(this.subscriptions,t)}notify(t,s,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,i);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const q=e=>e*1e3,z=e=>e/1e3;function vr(e,t){return t?e*(1e3/t):0}const wr=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Yo=1e-7,Jo=12;function Zo(e,t,s,i,r){let o,a,l=0;do a=t+(s-t)/2,o=wr(a,i,r)-e,o>0?s=a:t=a;while(Math.abs(o)>Yo&&++l<Jo);return a}function et(e,t,s,i){if(e===t&&s===i)return K;const r=o=>Zo(o,0,1,e,s);return o=>o===0||o===1?o:wr(r(o),t,i)}const jr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Nr=e=>t=>1-e(1-t),Sr=et(.33,1.53,.69,.99),Ks=Nr(Sr),Tr=jr(Ks),Mr=e=>(e*=2)<1?.5*Ks(e):.5*(2-Math.pow(2,-10*(e-1))),Gs=e=>1-Math.sin(Math.acos(e)),Cr=Nr(Gs),Pr=jr(Gs),Qo=et(.42,0,1,1),el=et(0,0,.58,1),kr=et(.42,0,.58,1),tl=e=>Array.isArray(e)&&typeof e[0]!="number",Dr=e=>Array.isArray(e)&&typeof e[0]=="number",sl={linear:K,easeIn:Qo,easeInOut:kr,easeOut:el,circIn:Gs,circInOut:Pr,circOut:Cr,backIn:Ks,backInOut:Tr,backOut:Sr,anticipate:Mr},nl=e=>typeof e=="string",kn=e=>{if(Dr(e)){_s(e.length===4);const[t,s,i,r]=e;return et(t,s,i,r)}else if(nl(e))return sl[e];return e},nt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function il(e,t){let s=new Set,i=new Set,r=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(h.schedule(m),e()),m(l)}const h={schedule:(m,c=!1,u=!1)=>{const p=u&&r?s:i;return c&&a.add(m),p.has(m)||p.add(m),m},cancel:m=>{i.delete(m),a.delete(m)},process:m=>{if(l=m,r){o=!0;return}r=!0,[s,i]=[i,s],s.forEach(d),s.clear(),r=!1,o&&(o=!1,h.process(m))}};return h}const rl=40;function Ar(e,t){let s=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=nt.reduce((b,S)=>(b[S]=il(o),b),{}),{setup:l,read:d,resolveKeyframes:h,preUpdate:m,update:c,preRender:u,render:f,postRender:p}=a,j=()=>{const b=ie.useManualTiming?r.timestamp:performance.now();s=!1,ie.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(b-r.timestamp,rl),1)),r.timestamp=b,r.isProcessing=!0,l.process(r),d.process(r),h.process(r),m.process(r),c.process(r),u.process(r),f.process(r),p.process(r),r.isProcessing=!1,s&&t&&(i=!1,e(j))},x=()=>{s=!0,i=!0,r.isProcessing||e(j)};return{schedule:nt.reduce((b,S)=>{const N=a[S];return b[S]=(C,A=!1,M=!1)=>(s||x(),N.schedule(C,A,M)),b},{}),cancel:b=>{for(let S=0;S<nt.length;S++)a[nt[S]].cancel(b)},state:r,steps:a}}const{schedule:D,cancel:le,state:F,steps:Ut}=Ar(typeof requestAnimationFrame<"u"?requestAnimationFrame:K,!0);let dt;function al(){dt=void 0}const B={now:()=>(dt===void 0&&B.set(F.isProcessing||ie.useManualTiming?F.timestamp:performance.now()),dt),set:e=>{dt=e,queueMicrotask(al)}},Er=e=>t=>typeof t=="string"&&t.startsWith(e),Rr=Er("--"),ol=Er("var(--"),Xs=e=>ol(e)?ll.test(e.split("/*")[0].trim()):!1,ll=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Dn(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ve={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xe={...Ve,transform:e=>te(0,1,e)},it={...Ve,default:1},Ue=e=>Math.round(e*1e5)/1e5,qs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cl(e){return e==null}const dl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ys=(e,t)=>s=>!!(typeof s=="string"&&dl.test(s)&&s.startsWith(e)||t&&!cl(s)&&Object.prototype.hasOwnProperty.call(s,t)),Vr=(e,t,s)=>i=>{if(typeof i!="string")return i;const[r,o,a,l]=i.match(qs);return{[e]:parseFloat(r),[t]:parseFloat(o),[s]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},ul=e=>te(0,255,e),Ht={...Ve,transform:e=>Math.round(ul(e))},me={test:Ys("rgb","red"),parse:Vr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Ht.transform(e)+", "+Ht.transform(t)+", "+Ht.transform(s)+", "+Ue(Xe.transform(i))+")"};function hl(e){let t="",s="",i="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const us={test:Ys("#"),parse:hl,transform:me.transform},tt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),re=tt("deg"),Q=tt("%"),T=tt("px"),ml=tt("vh"),fl=tt("vw"),An={...Q,parse:e=>Q.parse(e)/100,transform:e=>Q.transform(e*100)},Te={test:Ys("hsl","hue"),parse:Vr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+Q.transform(Ue(t))+", "+Q.transform(Ue(s))+", "+Ue(Xe.transform(i))+")"},V={test:e=>me.test(e)||us.test(e)||Te.test(e),parse:e=>me.test(e)?me.parse(e):Te.test(e)?Te.parse(e):us.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?me.transform(e):Te.transform(e),getAnimatableNone:e=>{const t=V.parse(e);return t.alpha=0,V.transform(t)}},pl=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xl(e){return isNaN(e)&&typeof e=="string"&&(e.match(qs)?.length||0)+(e.match(pl)?.length||0)>0}const Lr="number",$r="color",gl="var",yl="var(",En="${}",bl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qe(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},r=[];let o=0;const l=t.replace(bl,d=>(V.test(d)?(i.color.push(o),r.push($r),s.push(V.parse(d))):d.startsWith(yl)?(i.var.push(o),r.push(gl),s.push(d)):(i.number.push(o),r.push(Lr),s.push(parseFloat(d))),++o,En)).split(En);return{values:s,split:l,indexes:i,types:r}}function Ir(e){return qe(e).values}function Fr(e){const{split:t,types:s}=qe(e),i=t.length;return r=>{let o="";for(let a=0;a<i;a++)if(o+=t[a],r[a]!==void 0){const l=s[a];l===Lr?o+=Ue(r[a]):l===$r?o+=V.transform(r[a]):o+=r[a]}return o}}const vl=e=>typeof e=="number"?0:V.test(e)?V.getAnimatableNone(e):e;function wl(e){const t=Ir(e);return Fr(e)(t.map(vl))}const Y={test:xl,parse:Ir,createTransformer:Fr,getAnimatableNone:wl};function _t(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function jl({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let r=0,o=0,a=0;if(!t)r=o=a=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;r=_t(d,l,e+1/3),o=_t(d,l,e),a=_t(d,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function vt(e,t){return s=>s>0?t:e}const E=(e,t,s)=>e+(t-e)*s,zt=(e,t,s)=>{const i=e*e,r=s*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Nl=[us,me,Te],Sl=e=>Nl.find(t=>t.test(e));function Rn(e){const t=Sl(e);if(!t)return!1;let s=t.parse(e);return t===Te&&(s=jl(s)),s}const Vn=(e,t)=>{const s=Rn(e),i=Rn(t);if(!s||!i)return vt(e,t);const r={...s};return o=>(r.red=zt(s.red,i.red,o),r.green=zt(s.green,i.green,o),r.blue=zt(s.blue,i.blue,o),r.alpha=E(s.alpha,i.alpha,o),me.transform(r))},hs=new Set(["none","hidden"]);function Tl(e,t){return hs.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Ml(e,t){return s=>E(e,t,s)}function Js(e){return typeof e=="number"?Ml:typeof e=="string"?Xs(e)?vt:V.test(e)?Vn:kl:Array.isArray(e)?Or:typeof e=="object"?V.test(e)?Vn:Cl:vt}function Or(e,t){const s=[...e],i=s.length,r=e.map((o,a)=>Js(o)(o,t[a]));return o=>{for(let a=0;a<i;a++)s[a]=r[a](o);return s}}function Cl(e,t){const s={...e,...t},i={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(i[r]=Js(e[r])(e[r],t[r]));return r=>{for(const o in i)s[o]=i[o](r);return s}}function Pl(e,t){const s=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][i[o]],l=e.values[a]??0;s[r]=l,i[o]++}return s}const kl=(e,t)=>{const s=Y.createTransformer(t),i=qe(e),r=qe(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hs.has(e)&&!r.values.length||hs.has(t)&&!i.values.length?Tl(e,t):Qe(Or(Pl(i,r),r.values),s):vt(e,t)};function Br(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?E(e,t,s):Js(e)(e,t)}const Dl=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>D.update(t,s),stop:()=>le(t),now:()=>F.isProcessing?F.timestamp:B.now()}},Wr=(e,t,s=10)=>{let i="";const r=Math.max(Math.round(t/s),2);for(let o=0;o<r;o++)i+=Math.round(e(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},wt=2e4;function Zs(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<wt;)t+=s,i=e.next(t);return t>=wt?1/0:t}function Al(e,t=100,s){const i=s({...e,keyframes:[0,t]}),r=Math.min(Zs(i),wt);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:z(r)}}const El=5;function Ur(e,t,s){const i=Math.max(t-El,0);return vr(s-e(i),t-i)}const R={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kt=.001;function Rl({duration:e=R.duration,bounce:t=R.bounce,velocity:s=R.velocity,mass:i=R.mass}){let r,o,a=1-t;a=te(R.minDamping,R.maxDamping,a),e=te(R.minDuration,R.maxDuration,z(e)),a<1?(r=h=>{const m=h*a,c=m*e,u=m-s,f=ms(h,a),p=Math.exp(-c);return Kt-u/f*p},o=h=>{const c=h*a*e,u=c*s+s,f=Math.pow(a,2)*Math.pow(h,2)*e,p=Math.exp(-c),j=ms(Math.pow(h,2),a);return(-r(h)+Kt>0?-1:1)*((u-f)*p)/j}):(r=h=>{const m=Math.exp(-h*e),c=(h-s)*e+1;return-Kt+m*c},o=h=>{const m=Math.exp(-h*e),c=(s-h)*(e*e);return m*c});const l=5/e,d=Ll(r,o,l);if(e=q(e),isNaN(d))return{stiffness:R.stiffness,damping:R.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:e}}}const Vl=12;function Ll(e,t,s){let i=s;for(let r=1;r<Vl;r++)i=i-e(i)/t(i);return i}function ms(e,t){return e*Math.sqrt(1-t*t)}const $l=["duration","bounce"],Il=["stiffness","damping","mass"];function Ln(e,t){return t.some(s=>e[s]!==void 0)}function Fl(e){let t={velocity:R.velocity,stiffness:R.stiffness,damping:R.damping,mass:R.mass,isResolvedFromDuration:!1,...e};if(!Ln(e,Il)&&Ln(e,$l))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),r=i*i,o=2*te(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:R.mass,stiffness:r,damping:o}}else{const s=Rl(e);t={...t,...s,mass:R.mass},t.isResolvedFromDuration=!0}return t}function jt(e=R.visualDuration,t=R.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:c,velocity:u,isResolvedFromDuration:f}=Fl({...s,velocity:-z(s.velocity||0)}),p=u||0,j=h/(2*Math.sqrt(d*m)),x=a-o,v=z(Math.sqrt(d/m)),y=Math.abs(x)<5;i||(i=y?R.restSpeed.granular:R.restSpeed.default),r||(r=y?R.restDelta.granular:R.restDelta.default);let b;if(j<1){const N=ms(v,j);b=C=>{const A=Math.exp(-j*v*C);return a-A*((p+j*v*x)/N*Math.sin(N*C)+x*Math.cos(N*C))}}else if(j===1)b=N=>a-Math.exp(-v*N)*(x+(p+v*x)*N);else{const N=v*Math.sqrt(j*j-1);b=C=>{const A=Math.exp(-j*v*C),M=Math.min(N*C,300);return a-A*((p+j*v*x)*Math.sinh(M)+N*x*Math.cosh(M))/N}}const S={calculatedDuration:f&&c||null,next:N=>{const C=b(N);if(f)l.done=N>=c;else{let A=N===0?p:0;j<1&&(A=N===0?q(p):Ur(b,N,C));const M=Math.abs(A)<=i,P=Math.abs(a-C)<=r;l.done=M&&P}return l.value=l.done?a:C,l},toString:()=>{const N=Math.min(Zs(S),wt),C=Wr(A=>S.next(N*A).value,N,30);return N+"ms "+C},toTransition:()=>{}};return S}jt.applyToOptions=e=>{const t=Al(e,100,jt);return e.ease=t.ease,e.duration=q(t.duration),e.type="keyframes",e};function fs({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:d,restDelta:h=.5,restSpeed:m}){const c=e[0],u={done:!1,value:c},f=M=>l!==void 0&&M<l||d!==void 0&&M>d,p=M=>l===void 0?d:d===void 0||Math.abs(l-M)<Math.abs(d-M)?l:d;let j=s*t;const x=c+j,v=a===void 0?x:a(x);v!==x&&(j=v-c);const y=M=>-j*Math.exp(-M/i),b=M=>v+y(M),S=M=>{const P=y(M),L=b(M);u.done=Math.abs(P)<=h,u.value=u.done?v:L};let N,C;const A=M=>{f(u.value)&&(N=M,C=jt({keyframes:[u.value,p(u.value)],velocity:Ur(b,M,u.value),damping:r,stiffness:o,restDelta:h,restSpeed:m}))};return A(0),{calculatedDuration:null,next:M=>{let P=!1;return!C&&N===void 0&&(P=!0,S(M),A(M)),N!==void 0&&M>=N?C.next(M-N):(!P&&S(M),u)}}}function Ol(e,t,s){const i=[],r=s||ie.mix||Br,o=e.length-1;for(let a=0;a<o;a++){let l=r(e[a],e[a+1]);if(t){const d=Array.isArray(t)?t[a]||K:t;l=Qe(d,l)}i.push(l)}return i}function Bl(e,t,{clamp:s=!0,ease:i,mixer:r}={}){const o=e.length;if(_s(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ol(t,i,r),d=l.length,h=m=>{if(a&&m<e[0])return t[0];let c=0;if(d>1)for(;c<e.length-2&&!(m<e[c+1]);c++);const u=Ge(e[c],e[c+1],m);return l[c](u)};return s?m=>h(te(e[0],e[o-1],m)):h}function Wl(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const r=Ge(0,t,i);e.push(E(s,1,r))}}function Ul(e){const t=[0];return Wl(t,e.length-1),t}function Hl(e,t){return e.map(s=>s*t)}function _l(e,t){return e.map(()=>t||kr).splice(0,e.length-1)}function He({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const r=tl(i)?i.map(kn):kn(i),o={done:!1,value:t[0]},a=Hl(s&&s.length===t.length?s:Ul(t),e),l=Bl(a,t,{ease:Array.isArray(r)?r:_l(t,r)});return{calculatedDuration:e,next:d=>(o.value=l(d),o.done=d>=e,o)}}const zl=e=>e!==null;function Qs(e,{repeat:t,repeatType:s="loop"},i,r=1){const o=e.filter(zl),l=r<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const Kl={decay:fs,inertia:fs,tween:He,keyframes:He,spring:jt};function Hr(e){typeof e.type=="string"&&(e.type=Kl[e.type])}class en{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Gl=e=>e/100;class tn extends en{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==B.now()&&this.tick(B.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hr(t);const{type:s=He,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const d=s||He;d!==He&&typeof l[0]!="number"&&(this.mixKeyframes=Qe(Gl,Br(l[0],l[1])),l=[0,100]);const h=d({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Zs(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:c,repeatType:u,repeatDelay:f,type:p,onUpdate:j,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-h*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let b=this.currentTime,S=i;if(c){const M=Math.min(this.currentTime,r)/l;let P=Math.floor(M),L=M%1;!L&&M>=1&&(L=1),L===1&&P--,P=Math.min(P,c+1),P%2&&(u==="reverse"?(L=1-L,f&&(L-=f/l)):u==="mirror"&&(S=a)),b=te(0,1,L)*l}const N=y?{done:!1,value:m[0]}:S.next(b);o&&(N.value=o(N.value));let{done:C}=N;!y&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return A&&p!==fs&&(N.value=Qs(m,this.options,x,this.speed)),j&&j(N.value),A&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return z(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+z(t)}get time(){return z(this.currentTime)}set time(t){t=q(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(B.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=z(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Dl,startTime:s}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(B.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Xl(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fe=e=>e*180/Math.PI,ps=e=>{const t=fe(Math.atan2(e[1],e[0]));return xs(t)},ql={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ps,rotateZ:ps,skewX:e=>fe(Math.atan(e[1])),skewY:e=>fe(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xs=e=>(e=e%360,e<0&&(e+=360),e),$n=ps,In=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Fn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Yl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:In,scaleY:Fn,scale:e=>(In(e)+Fn(e))/2,rotateX:e=>xs(fe(Math.atan2(e[6],e[5]))),rotateY:e=>xs(fe(Math.atan2(-e[2],e[0]))),rotateZ:$n,rotate:$n,skewX:e=>fe(Math.atan(e[4])),skewY:e=>fe(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gs(e){return e.includes("scale")?1:0}function ys(e,t){if(!e||e==="none")return gs(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(s)i=Yl,r=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ql,r=l}if(!r)return gs(t);const o=i[t],a=r[1].split(",").map(Zl);return typeof o=="function"?o(a):a[o]}const Jl=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ys(s,t)};function Zl(e){return parseFloat(e.trim())}const Le=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$e=new Set(Le),On=e=>e===Ve||e===T,Ql=new Set(["x","y","z"]),ec=Le.filter(e=>!Ql.has(e));function tc(e){const t=[];return ec.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const ae={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ys(t,"x"),y:(e,{transform:t})=>ys(t,"y")};ae.translateX=ae.x;ae.translateY=ae.y;const ge=new Set;let bs=!1,vs=!1,ws=!1;function _r(){if(vs){const e=Array.from(ge).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const r=tc(i);r.length&&(s.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=s.get(i);r&&r.forEach(([o,a])=>{i.getValue(o)?.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vs=!1,bs=!1,ge.forEach(e=>e.complete(ws)),ge.clear()}function zr(){ge.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vs=!0)})}function sc(){ws=!0,zr(),_r(),ws=!1}class sn{constructor(t,s,i,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ge.add(this),bs||(bs=!0,D.read(zr),D.resolveKeyframes(_r))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&s){const l=i.readValue(s,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&o===void 0&&r.set(t[0])}Xl(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ge.delete(this)}cancel(){this.state==="scheduled"&&(ge.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nc=e=>e.startsWith("--");function ic(e,t,s){nc(t)?e.style.setProperty(t,s):e.style[t]=s}const rc={};function Kr(e,t){const s=br(e);return()=>rc[t]??s()}const ac=Kr(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Gr=Kr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Be=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,Bn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Be([0,.65,.55,1]),circOut:Be([.55,0,1,.45]),backIn:Be([.31,.01,.66,-.59]),backOut:Be([.33,1.53,.69,.99])};function Xr(e,t){if(e)return typeof e=="function"?Gr()?Wr(e,t):"ease-out":Dr(e)?Be(e):Array.isArray(e)?e.map(s=>Xr(s,t)||Bn.easeOut):Bn[e]}function oc(e,t,s,{delay:i=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:d}={},h=void 0){const m={[t]:s};d&&(m.offset=d);const c=Xr(l,r);Array.isArray(c)&&(m.easing=c);const u={delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return h&&(u.pseudoElement=h),e.animate(m,u)}function qr(e){return typeof e=="function"&&"applyToOptions"in e}function lc({type:e,...t}){return qr(e)&&Gr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Yr extends en{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:i,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,_s(typeof t.type!="string");const h=lc(t);this.animation=oc(s,i,r,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Qs(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):ic(s,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return z(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+z(t)}get time(){return z(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=q(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ac()?(this.animation.timeline=t,K):s(this)}}const Jr={anticipate:Mr,backInOut:Tr,circInOut:Pr};function cc(e){return e in Jr}function dc(e){typeof e.ease=="string"&&cc(e.ease)&&(e.ease=Jr[e.ease])}const Gt=10;class uc extends Yr{constructor(t){dc(t),Hr(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:r,element:o,...a}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new tn({...a,autoplay:!1}),d=Math.max(Gt,B.now()-this.startTime),h=te(0,Gt,d-Gt);s.setWithVelocity(l.sample(Math.max(0,d-h)).value,l.sample(d).value,h),l.stop()}}const Wn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Y.test(e)||e==="0")&&!e.startsWith("url("));function hc(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function mc(e,t,s,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Wn(r,t),l=Wn(o,t);return!a||!l?!1:hc(e)||(s==="spring"||qr(s))&&i}function js(e){e.duration=0,e.type="keyframes"}const fc=new Set(["opacity","clipPath","filter","transform"]),pc=br(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xc(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:o,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return pc()&&s&&fc.has(s)&&(s!=="transform"||!h)&&!d&&!i&&r!=="mirror"&&o!==0&&a!=="inertia"}const gc=40;class yc extends en{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:d,motionValue:h,element:m,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=B.now();const u={autoplay:t,delay:s,type:i,repeat:r,repeatDelay:o,repeatType:a,name:d,motionValue:h,element:m,...c},f=m?.KeyframeResolver||sn;this.keyframeResolver=new f(l,(p,j,x)=>this.onKeyframesResolved(p,j,u,!x),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,i,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=B.now(),mc(t,o,a,l)||((ie.instantAnimations||!d)&&m?.(Qs(t,i,s)),t[0]=t[t.length-1],js(i),i.repeat=0);const u={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>gc?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},f=!h&&xc(u),p=u.motionValue?.owner?.current,j=f?new uc({...u,element:p}):new tn(u);j.finished.then(()=>{this.notifyFinished()}).catch(K),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sc()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Zr(e,t,s,i=0,r=1){const o=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),a=e.size,l=(a-1)*i;return typeof s=="function"?s(o,a):r===1?o*i:l-o*i}const bc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vc(e){const t=bc.exec(e);if(!t)return[,];const[,s,i,r]=t;return[`--${s??i}`,r]}function Qr(e,t,s=1){const[i,r]=vc(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const a=o.trim();return xr(a)?parseFloat(a):a}return Xs(r)?Qr(r,t,s+1):r}const wc={type:"spring",stiffness:500,damping:25,restSpeed:10},jc=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Nc={type:"keyframes",duration:.8},Sc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tc=(e,{keyframes:t})=>t.length>2?Nc:$e.has(e)?e.startsWith("scale")?jc(t[1]):wc:Sc,Mc=e=>e!==null;function Cc(e,{repeat:t,repeatType:s="loop"},i){const r=e.filter(Mc),o=t&&s!=="loop"&&t%2===1?0:r.length-1;return r[o]}function ea(e,t){if(e?.inherit&&t){const{inherit:s,...i}=e;return{...t,...i}}return e}function nn(e,t){const s=e?.[t]??e?.default??e;return s!==e?ea(s,e):s}function Pc({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:l,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const rn=(e,t,s,i={},r,o)=>a=>{const l=nn(i,e)||{},d=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-q(d);const m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-h,onUpdate:u=>{t.set(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:r};Pc(l)||Object.assign(m,Tc(e,m)),m.duration&&(m.duration=q(m.duration)),m.repeatDelay&&(m.repeatDelay=q(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let c=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(js(m),m.delay===0&&(c=!0)),(ie.instantAnimations||ie.skipAnimations||r?.shouldSkipAnimations)&&(c=!0,js(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,c&&!o&&t.get()!==void 0){const u=Cc(m.keyframes,l);if(u!==void 0){D.update(()=>{m.onUpdate(u),m.onComplete()});return}}return l.isSync?new tn(m):new yc(m)};function Un(e){const t=[{},{}];return e?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function an(e,t,s,i){if(typeof t=="function"){const[r,o]=Un(i);t=t(s!==void 0?s:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=Un(i);t=t(s!==void 0?s:e.custom,r,o)}return t}function De(e,t,s){const i=e.getProps();return an(i,t,s!==void 0?s:i.custom,e)}const ta=new Set(["width","height","top","left","right","bottom",...Le]),Hn=30,kc=e=>!isNaN(parseFloat(e));class Dc{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=B.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=B.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kc(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new zs);const i=this.events[t].add(s);return t==="change"?()=>{i(),D.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=B.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Hn);return vr(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Re(e,t){return new Dc(e,t)}const Ns=e=>Array.isArray(e);function Ac(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Re(s))}function Ec(e){return Ns(e)?e[e.length-1]||0:e}function Rc(e,t){const s=De(e,t);let{transitionEnd:i={},transition:r={},...o}=s||{};o={...o,...i};for(const a in o){const l=Ec(o[a]);Ac(e,a,l)}}const O=e=>!!(e&&e.getVelocity);function Vc(e){return!!(O(e)&&e.add)}function Ss(e,t){const s=e.getValue("willChange");if(Vc(s))return s.add(t);if(!s&&ie.WillChange){const i=new ie.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function on(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Lc="framerAppearId",sa="data-"+on(Lc);function na(e){return e.props[sa]}function $c({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function ia(e,t,{delay:s=0,transitionOverride:i,type:r}={}){let{transition:o,transitionEnd:a,...l}=t;const d=e.getDefaultTransition();o=o?ea(o,d):d;const h=o?.reduceMotion;i&&(o=i);const m=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),p=l[u];if(p===void 0||c&&$c(c,u))continue;const j={delay:s,...nn(o||{},u)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!j.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const S=na(e);if(S){const N=window.MotionHandoffAnimation(S,u,D);N!==null&&(j.startTime=N,v=!0)}}Ss(e,u);const y=h??e.shouldReduceMotion;f.start(rn(u,f,p,y&&ta.has(u)?{type:!1}:j,e,v));const b=f.animation;b&&m.push(b)}if(a){const u=()=>D.update(()=>{a&&Rc(e,a)});m.length?Promise.all(m).then(u):u()}return m}function Ts(e,t,s={}){const i=De(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(r=s.transitionOverride);const o=i?()=>Promise.all(ia(e,i,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:c}=r;return Ic(e,t,d,h,m,c,s)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,h]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>h())}else return Promise.all([o(),a(s.delay)])}function Ic(e,t,s=0,i=0,r=0,o=1,a){const l=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),l.push(Ts(d,t,{...a,delay:s+(typeof i=="function"?0:i)+Zr(e.variantChildren,d,i,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(l)}function Fc(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>Ts(e,o,s));i=Promise.all(r)}else if(typeof t=="string")i=Ts(e,t,s);else{const r=typeof t=="function"?De(e,t,s.custom):t;i=Promise.all(ia(e,r,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}const Oc={test:e=>e==="auto",parse:e=>e},ra=e=>t=>t.test(e),aa=[Ve,T,Q,re,fl,ml,Oc],_n=e=>aa.find(ra(e));function Bc(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yr(e):!0}const Wc=new Set(["brightness","contrast","saturate","opacity"]);function Uc(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(qs)||[];if(!i)return e;const r=s.replace(i,"");let o=Wc.has(t)?1:0;return i!==s&&(o*=100),t+"("+o+r+")"}const Hc=/\b([a-z-]*)\(.*?\)/gu,Ms={...Y,getAnimatableNone:e=>{const t=e.match(Hc);return t?t.map(Uc).join(" "):e}},Cs={...Y,getAnimatableNone:e=>{const t=Y.parse(e);return Y.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},zn={...Ve,transform:Math.round},_c={rotate:re,rotateX:re,rotateY:re,rotateZ:re,scale:it,scaleX:it,scaleY:it,scaleZ:it,skew:re,skewX:re,skewY:re,distance:T,translateX:T,translateY:T,translateZ:T,x:T,y:T,z:T,perspective:T,transformPerspective:T,opacity:Xe,originX:An,originY:An,originZ:T},ln={borderWidth:T,borderTopWidth:T,borderRightWidth:T,borderBottomWidth:T,borderLeftWidth:T,borderRadius:T,borderTopLeftRadius:T,borderTopRightRadius:T,borderBottomRightRadius:T,borderBottomLeftRadius:T,width:T,maxWidth:T,height:T,maxHeight:T,top:T,right:T,bottom:T,left:T,inset:T,insetBlock:T,insetBlockStart:T,insetBlockEnd:T,insetInline:T,insetInlineStart:T,insetInlineEnd:T,padding:T,paddingTop:T,paddingRight:T,paddingBottom:T,paddingLeft:T,paddingBlock:T,paddingBlockStart:T,paddingBlockEnd:T,paddingInline:T,paddingInlineStart:T,paddingInlineEnd:T,margin:T,marginTop:T,marginRight:T,marginBottom:T,marginLeft:T,marginBlock:T,marginBlockStart:T,marginBlockEnd:T,marginInline:T,marginInlineStart:T,marginInlineEnd:T,fontSize:T,backgroundPositionX:T,backgroundPositionY:T,..._c,zIndex:zn,fillOpacity:Xe,strokeOpacity:Xe,numOctaves:zn},zc={...ln,color:V,backgroundColor:V,outlineColor:V,fill:V,stroke:V,borderColor:V,borderTopColor:V,borderRightColor:V,borderBottomColor:V,borderLeftColor:V,filter:Ms,WebkitFilter:Ms,mask:Cs,WebkitMask:Cs},oa=e=>zc[e],Kc=new Set([Ms,Cs]);function la(e,t){let s=oa(e);return Kc.has(s)||(s=Y),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Gc=new Set(["auto","none","0"]);function Xc(e,t,s){let i=0,r;for(;i<e.length&&!r;){const o=e[i];typeof o=="string"&&!Gc.has(o)&&qe(o).values.length&&(r=e[i]),i++}if(r&&s)for(const o of t)e[o]=la(s,r)}class qc extends sn{constructor(t,s,i,r,o){super(t,s,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let c=t[m];if(typeof c=="string"&&(c=c.trim(),Xs(c))){const u=Qr(c,s.current);u!==void 0&&(t[m]=u),m===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ta.has(i)||t.length!==2)return;const[r,o]=t,a=_n(r),l=_n(o),d=Dn(r),h=Dn(o);if(d!==h&&ae[i]){this.needsMeasurement=!0;return}if(a!==l)if(On(a)&&On(l))for(let m=0;m<t.length;m++){const c=t[m];typeof c=="string"&&(t[m]=parseFloat(c))}else ae[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||Bc(t[r]))&&i.push(r);i.length&&Xc(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ae[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ae[s](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const Yc=new Set(["opacity","clipPath","filter","transform"]);function ca(e,t,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=s?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(i=>i!=null)}const da=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ps(e){return gr(e)&&"offsetHeight"in e}const{schedule:cn}=Ar(queueMicrotask,!1),X={x:!1,y:!1};function ua(){return X.x||X.y}function Jc(e){return e==="x"||e==="y"?X[e]?null:(X[e]=!0,()=>{X[e]=!1}):X.x||X.y?null:(X.x=X.y=!0,()=>{X.x=X.y=!1})}function ha(e,t){const s=ca(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[s,r,()=>i.abort()]}function Zc(e){return!(e.pointerType==="touch"||ua())}function Qc(e,t,s={}){const[i,r,o]=ha(e,s);return i.forEach(a=>{let l=!1,d=!1,h;const m=()=>{a.removeEventListener("pointerleave",p)},c=x=>{h&&(h(x),h=void 0),m()},u=x=>{l=!1,window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",u),d&&(d=!1,c(x))},f=()=>{l=!0,window.addEventListener("pointerup",u,r),window.addEventListener("pointercancel",u,r)},p=x=>{if(x.pointerType!=="touch"){if(l){d=!0;return}c(x)}},j=x=>{if(!Zc(x))return;d=!1;const v=t(a,x);typeof v=="function"&&(h=v,a.addEventListener("pointerleave",p,r))};a.addEventListener("pointerenter",j,r),a.addEventListener("pointerdown",f,r)}),o}const ma=(e,t)=>t?e===t?!0:ma(e,t.parentElement):!1,dn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ed=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function td(e){return ed.has(e.tagName)||e.isContentEditable===!0}const sd=new Set(["INPUT","SELECT","TEXTAREA"]);function nd(e){return sd.has(e.tagName)||e.isContentEditable===!0}const ut=new WeakSet;function Kn(e){return t=>{t.key==="Enter"&&e(t)}}function Xt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const id=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=Kn(()=>{if(ut.has(s))return;Xt(s,"down");const r=Kn(()=>{Xt(s,"up")}),o=()=>Xt(s,"cancel");s.addEventListener("keyup",r,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function Gn(e){return dn(e)&&!ua()}const Xn=new WeakSet;function rd(e,t,s={}){const[i,r,o]=ha(e,s),a=l=>{const d=l.currentTarget;if(!Gn(l)||Xn.has(l))return;ut.add(d),s.stopPropagation&&Xn.add(l);const h=t(d,l),m=(f,p)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",u),ut.has(d)&&ut.delete(d),Gn(f)&&typeof h=="function"&&h(f,{success:p})},c=f=>{m(f,d===window||d===document||s.useGlobalTarget||ma(d,f.target))},u=f=>{m(f,!1)};window.addEventListener("pointerup",c,r),window.addEventListener("pointercancel",u,r)};return i.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),Ps(l)&&(l.addEventListener("focus",h=>id(h,r)),!td(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function un(e){return gr(e)&&"ownerSVGElement"in e}const ht=new WeakMap;let mt;const fa=(e,t,s)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:un(i)&&"getBBox"in i?i.getBBox()[t]:i[s],ad=fa("inline","width","offsetWidth"),od=fa("block","height","offsetHeight");function ld({target:e,borderBoxSize:t}){ht.get(e)?.forEach(s=>{s(e,{get width(){return ad(e,t)},get height(){return od(e,t)}})})}function cd(e){e.forEach(ld)}function dd(){typeof ResizeObserver>"u"||(mt=new ResizeObserver(cd))}function ud(e,t){mt||dd();const s=ca(e);return s.forEach(i=>{let r=ht.get(i);r||(r=new Set,ht.set(i,r)),r.add(t),mt?.observe(i)}),()=>{s.forEach(i=>{const r=ht.get(i);r?.delete(t),r?.size||mt?.unobserve(i)})}}const ft=new Set;let Me;function hd(){Me=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ft.forEach(t=>t(e))},window.addEventListener("resize",Me)}function md(e){return ft.add(e),Me||hd(),()=>{ft.delete(e),!ft.size&&typeof Me=="function"&&(window.removeEventListener("resize",Me),Me=void 0)}}function qn(e,t){return typeof e=="function"?md(e):ud(e,t)}function fd(e){return un(e)&&e.tagName==="svg"}const pd=[...aa,V,Y],xd=e=>pd.find(ra(e)),Yn=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ce=()=>({x:Yn(),y:Yn()}),Jn=()=>({min:0,max:0}),$=()=>({x:Jn(),y:Jn()}),gd=new WeakMap;function Vt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ye(e){return typeof e=="string"||Array.isArray(e)}const hn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mn=["initial",...hn];function Lt(e){return Vt(e.animate)||mn.some(t=>Ye(e[t]))}function pa(e){return!!(Lt(e)||e.variants)}function yd(e,t,s){for(const i in t){const r=t[i],o=s[i];if(O(r))e.addValue(i,r);else if(O(o))e.addValue(i,Re(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(i);e.addValue(i,Re(a!==void 0?a:r,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const ks={current:null},xa={current:!1},bd=typeof window<"u";function vd(){if(xa.current=!0,!!bd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ks.current=e.matches;e.addEventListener("change",t),t()}else ks.current=!1}const Zn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nt={};function ga(e){Nt=e}function wd(){return Nt}class jd{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:r,skipAnimations:o,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=sn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=B.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,D.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Lt(s),this.isVariantNode=pa(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in u){const p=u[f];h[f]!==void 0&&O(p)&&p.set(h[f])}}mount(t){if(this.hasBeenMounted)for(const s in this.initialValues)this.values.get(s)?.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=t,gd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xa.current||vd(),this.shouldReduceMotion=ks.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),le(this.notifyUpdate),le(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),s.accelerate&&Yc.has(t)&&this.current instanceof HTMLElement){const{factory:a,keyframes:l,times:d,ease:h,duration:m}=s.accelerate,c=new Yr({element:this.current,name:t,keyframes:l,times:d,ease:h,duration:q(m)}),u=a(c);this.valueSubscriptions.set(t,()=>{u(),c.cancel()});return}const i=$e.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&D.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nt){const s=Nt[t];if(!s)continue;const{isEnabled:i,Feature:r}=s;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Zn.length;i++){const r=Zn[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=t[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=yd(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Re(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xr(i)||yr(i))?i=parseFloat(i):!xd(i)&&Y.test(s)&&(i=la(t,s)),this.setBaseTarget(t,O(i)?i.get():i)),O(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=an(this.props,s,this.presenceContext?.custom);o&&(i=o[t])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!O(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new zs),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){cn.render(this.render)}}class ya extends jd{constructor(){super(...arguments),this.KeyframeResolver=qc}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const i=t.style;return i?i[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;O(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class ce{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ba({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function Nd({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Sd(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function qt(e){return e===void 0||e===1}function Ds({scale:e,scaleX:t,scaleY:s}){return!qt(e)||!qt(t)||!qt(s)}function he(e){return Ds(e)||va(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function va(e){return Qn(e.x)||Qn(e.y)}function Qn(e){return e&&e!=="0%"}function St(e,t,s){const i=e-s,r=t*i;return s+r}function ei(e,t,s,i,r){return r!==void 0&&(e=St(e,r,i)),St(e,s,i)+t}function As(e,t=0,s=1,i,r){e.min=ei(e.min,t,s,i,r),e.max=ei(e.max,t,s,i,r)}function wa(e,{x:t,y:s}){As(e.x,t.translate,t.scale,t.originPoint),As(e.y,s.translate,s.scale,s.originPoint)}const ti=.999999999999,si=1.0000000000001;function Td(e,t,s,i=!1){const r=s.length;if(!r)return;t.x=t.y=1;let o,a;for(let l=0;l<r;l++){o=s[l],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ke(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,wa(e,a)),i&&he(o.latestValues)&&ke(e,o.latestValues))}t.x<si&&t.x>ti&&(t.x=1),t.y<si&&t.y>ti&&(t.y=1)}function Pe(e,t){e.min=e.min+t,e.max=e.max+t}function ni(e,t,s,i,r=.5){const o=E(e.min,e.max,r);As(e,t,s,o,i)}function ke(e,t){ni(e.x,t.x,t.scaleX,t.scale,t.originX),ni(e.y,t.y,t.scaleY,t.scale,t.originY)}function ja(e,t){return ba(Sd(e.getBoundingClientRect(),t))}function Md(e,t,s){const i=ja(e,s),{scroll:r}=t;return r&&(Pe(i.x,r.offset.x),Pe(i.y,r.offset.y)),i}const Cd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pd=Le.length;function kd(e,t,s){let i="",r=!0;for(let o=0;o<Pd;o++){const a=Le[o],l=e[a];if(l===void 0)continue;let d=!0;if(typeof l=="number")d=l===(a.startsWith("scale")?1:0);else{const h=parseFloat(l);d=a.startsWith("scale")?h===1:h===0}if(!d||s){const h=da(l,ln[a]);if(!d){r=!1;const m=Cd[a]||a;i+=`${m}(${h}) `}s&&(t[a]=h)}}return i=i.trim(),s?i=s(t,r?"":i):r&&(i="none"),i}function fn(e,t,s){const{style:i,vars:r,transformOrigin:o}=e;let a=!1,l=!1;for(const d in t){const h=t[d];if($e.has(d)){a=!0;continue}else if(Rr(d)){r[d]=h;continue}else{const m=da(h,ln[d]);d.startsWith("origin")?(l=!0,o[d]=m):i[d]=m}}if(t.transform||(a||s?i.transform=kd(t,e.transform,s):i.transform&&(i.transform="none")),l){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${h} ${m}`}}function Na(e,{style:t,vars:s},i,r){const o=e.style;let a;for(a in t)o[a]=t[a];r?.applyProjectionStyles(o,i);for(a in s)o.setProperty(a,s[a])}function ii(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fe={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(T.test(e))e=parseFloat(e);else return e;const s=ii(e,t.target.x),i=ii(e,t.target.y);return`${s}% ${i}%`}},Dd={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,r=Y.parse(e);if(r.length>5)return i;const o=Y.createTransformer(e),a=typeof r[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;r[0+a]/=l,r[1+a]/=d;const h=E(l,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),o(r)}},Es={borderRadius:{...Fe,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomLeftRadius:Fe,borderBottomRightRadius:Fe,boxShadow:Dd};function Sa(e,{layout:t,layoutId:s}){return $e.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Es[e]||e==="opacity")}function pn(e,t,s){const i=e.style,r=t?.style,o={};if(!i)return o;for(const a in i)(O(i[a])||r&&O(r[a])||Sa(a,e)||s?.getValue(a)?.liveStyle!==void 0)&&(o[a]=i[a]);return o}function Ad(e){return window.getComputedStyle(e)}class Ed extends ya{constructor(){super(...arguments),this.type="html",this.renderInstance=Na}readValueFromInstance(t,s){if($e.has(s))return this.projection?.isProjecting?gs(s):Jl(t,s);{const i=Ad(t),r=(Rr(s)?i.getPropertyValue(s):i[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:s}){return ja(t,s)}build(t,s,i){fn(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return pn(t,s,i)}}const Rd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vd={offset:"strokeDashoffset",array:"strokeDasharray"};function Ld(e,t,s=1,i=0,r=!0){e.pathLength=1;const o=r?Rd:Vd;e[o.offset]=`${-i}`,e[o.array]=`${t} ${s}`}const $d=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ta(e,{attrX:t,attrY:s,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...l},d,h,m){if(fn(e,l,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:c,style:u}=e;c.transform&&(u.transform=c.transform,delete c.transform),(u.transform||c.transformOrigin)&&(u.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),u.transform&&(u.transformBox=m?.transformBox??"fill-box",delete c.transformBox);for(const f of $d)c[f]!==void 0&&(u[f]=c[f],delete c[f]);t!==void 0&&(c.x=t),s!==void 0&&(c.y=s),i!==void 0&&(c.scale=i),r!==void 0&&Ld(c,r,o,a,!1)}const Ma=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ca=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Id(e,t,s,i){Na(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Ma.has(r)?r:on(r),t.attrs[r])}function Pa(e,t,s){const i=pn(e,t,s);for(const r in e)if(O(e[r])||O(t[r])){const o=Le.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=e[r]}return i}class Fd extends ya{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if($e.has(s)){const i=oa(s);return i&&i.default||0}return s=Ma.has(s)?s:on(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return Pa(t,s,i)}build(t,s,i){Ta(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,r){Id(t,s,i,r)}mount(t){this.isSVGTag=Ca(t.tagName),super.mount(t)}}const Od=mn.length;function ka(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?ka(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Od;s++){const i=mn[s],r=e.props[i];(Ye(r)||r===!1)&&(t[i]=r)}return t}function Da(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}const Bd=[...hn].reverse(),Wd=hn.length;function Ud(e){return t=>Promise.all(t.map(({animation:s,options:i})=>Fc(e,s,i)))}function Hd(e){let t=Ud(e),s=ri(),i=!0;const r=d=>(h,m)=>{const c=De(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(c){const{transition:u,transitionEnd:f,...p}=c;h={...h,...p,...f}}return h};function o(d){t=d(e)}function a(d){const{props:h}=e,m=ka(e.parent)||{},c=[],u=new Set;let f={},p=1/0;for(let x=0;x<Wd;x++){const v=Bd[x],y=s[v],b=h[v]!==void 0?h[v]:m[v],S=Ye(b),N=v===d?y.isActive:null;N===!1&&(p=x);let C=b===m[v]&&b!==h[v]&&S;if(C&&i&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...f},!y.isActive&&N===null||!b&&!y.prevProp||Vt(b)||typeof b=="boolean")continue;if(v==="exit"&&y.isActive&&N!==!0){y.prevResolvedValues&&(f={...f,...y.prevResolvedValues});continue}const A=_d(y.prevProp,b);let M=A||v===d&&y.isActive&&!C&&S||x>p&&S,P=!1;const L=Array.isArray(b)?b:[b];let J=L.reduce(r(v),{});N===!1&&(J={});const{prevResolvedValues:Ie={}}=y,Ot={...Ie,...J},Nn=I=>{M=!0,u.has(I)&&(P=!0,u.delete(I)),y.needsAnimating[I]=!0;const _=e.getValue(I);_&&(_.liveStyle=!1)};for(const I in Ot){const _=J[I],de=Ie[I];if(f.hasOwnProperty(I))continue;let be=!1;Ns(_)&&Ns(de)?be=!Da(_,de):be=_!==de,be?_!=null?Nn(I):u.add(I):_!==void 0&&u.has(I)?Nn(I):y.protectedKeys[I]=!0}y.prevProp=b,y.prevResolvedValues=J,y.isActive&&(f={...f,...J}),i&&e.blockInitialAnimation&&(M=!1);const Sn=C&&A;M&&(!Sn||P)&&c.push(...L.map(I=>{const _={type:v};if(typeof I=="string"&&i&&!Sn&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,be=De(de,I);if(de.enteringChildren&&be){const{delayChildren:fo}=be.transition||{};_.delay=Zr(de.enteringChildren,e,fo)}}return{animation:I,options:_}}))}if(u.size){const x={};if(typeof h.initial!="boolean"){const v=De(e,Array.isArray(h.initial)?h.initial[0]:h.initial);v&&v.transition&&(x.transition=v.transition)}u.forEach(v=>{const y=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),x[v]=y??null}),c.push({animation:x})}let j=!!c.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(j=!1),i=!1,j?t(c):Promise.resolve()}function l(d,h){if(s[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(c=>c.animationState?.setActive(d,h)),s[d].isActive=h;const m=a(d);for(const c in s)s[c].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=ri()}}}function _d(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Da(t,e):!1}function ue(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ri(){return{animate:ue(!0),whileInView:ue(),whileHover:ue(),whileTap:ue(),whileDrag:ue(),whileFocus:ue(),exit:ue()}}function ai(e,t){e.min=t.min,e.max=t.max}function G(e,t){ai(e.x,t.x),ai(e.y,t.y)}function oi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Aa=1e-4,zd=1-Aa,Kd=1+Aa,Ea=.01,Gd=0-Ea,Xd=0+Ea;function W(e){return e.max-e.min}function qd(e,t,s){return Math.abs(e-t)<=s}function li(e,t,s,i=.5){e.origin=i,e.originPoint=E(t.min,t.max,e.origin),e.scale=W(s)/W(t),e.translate=E(s.min,s.max,e.origin)-e.originPoint,(e.scale>=zd&&e.scale<=Kd||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gd&&e.translate<=Xd||isNaN(e.translate))&&(e.translate=0)}function _e(e,t,s,i){li(e.x,t.x,s.x,i?i.originX:void 0),li(e.y,t.y,s.y,i?i.originY:void 0)}function ci(e,t,s){e.min=s.min+t.min,e.max=e.min+W(t)}function Yd(e,t,s){ci(e.x,t.x,s.x),ci(e.y,t.y,s.y)}function di(e,t,s){e.min=t.min-s.min,e.max=e.min+W(t)}function Tt(e,t,s){di(e.x,t.x,s.x),di(e.y,t.y,s.y)}function ui(e,t,s,i,r){return e-=t,e=St(e,1/s,i),r!==void 0&&(e=St(e,1/r,i)),e}function Jd(e,t=0,s=1,i=.5,r,o=e,a=e){if(Q.test(t)&&(t=parseFloat(t),t=E(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=E(o.min,o.max,i);e===o&&(l-=t),e.min=ui(e.min,t,s,l,r),e.max=ui(e.max,t,s,l,r)}function hi(e,t,[s,i,r],o,a){Jd(e,t[s],t[i],t[r],t.scale,o,a)}const Zd=["x","scaleX","originX"],Qd=["y","scaleY","originY"];function mi(e,t,s,i){hi(e.x,t,Zd,s?s.x:void 0,i?i.x:void 0),hi(e.y,t,Qd,s?s.y:void 0,i?i.y:void 0)}function fi(e){return e.translate===0&&e.scale===1}function Ra(e){return fi(e.x)&&fi(e.y)}function pi(e,t){return e.min===t.min&&e.max===t.max}function eu(e,t){return pi(e.x,t.x)&&pi(e.y,t.y)}function xi(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Va(e,t){return xi(e.x,t.x)&&xi(e.y,t.y)}function gi(e){return W(e.x)/W(e.y)}function yi(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Z(e){return[e("x"),e("y")]}function tu(e,t,s){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,a=s?.z||0;if((r||o||a)&&(i=`translate3d(${r}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:h,rotate:m,rotateX:c,rotateY:u,skewX:f,skewY:p}=s;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `),f&&(i+=`skewX(${f}deg) `),p&&(i+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(i+=`scale(${l}, ${d})`),i||"none"}const La=["TopLeft","TopRight","BottomLeft","BottomRight"],su=La.length,bi=e=>typeof e=="string"?parseFloat(e):e,vi=e=>typeof e=="number"||T.test(e);function nu(e,t,s,i,r,o){r?(e.opacity=E(0,s.opacity??1,iu(i)),e.opacityExit=E(t.opacity??1,0,ru(i))):o&&(e.opacity=E(t.opacity??1,s.opacity??1,i));for(let a=0;a<su;a++){const l=`border${La[a]}Radius`;let d=wi(t,l),h=wi(s,l);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||vi(d)===vi(h)?(e[l]=Math.max(E(bi(d),bi(h),i),0),(Q.test(h)||Q.test(d))&&(e[l]+="%")):e[l]=h}(t.rotate||s.rotate)&&(e.rotate=E(t.rotate||0,s.rotate||0,i))}function wi(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iu=$a(0,.5,Cr),ru=$a(.5,.95,K);function $a(e,t,s){return i=>i<e?0:i>t?1:s(Ge(e,t,i))}function au(e,t,s){const i=O(e)?e:Re(e);return i.start(rn("",i,t,s)),i.animation}function Je(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}const ou=(e,t)=>e.depth-t.depth;class lu{constructor(){this.children=[],this.isDirty=!1}add(t){Hs(this.children,t),this.isDirty=!0}remove(t){bt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ou),this.isDirty=!1,this.children.forEach(t)}}function cu(e,t){const s=B.now(),i=({timestamp:r})=>{const o=r-s;o>=t&&(le(i),e(o-t))};return D.setup(i,!0),()=>le(i)}function pt(e){return O(e)?e.get():e}class du{constructor(){this.members=[]}add(t){Hs(this.members,t);for(let s=this.members.length-1;s>=0;s--){const i=this.members[s];if(i===t||i===this.lead||i===this.prevLead)continue;const r=i.instance;r&&r.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&bt(this.members,i)}t.scheduleRender()}remove(t){if(bt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let i;for(let r=s;r>=0;r--){const o=this.members[r],a=o.instance;if(o.isPresent!==!1&&(!a||a.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const r=i.options.layoutDependency,o=t.options.layoutDependency;if(!(r!==void 0&&o!==void 0&&r===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const xt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Yt=["","X","Y","Z"],uu=1e3;let hu=0;function Jt(e,t,s,i){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Ia(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=na(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",D,!(r||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Ia(i)}function Fa({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},l=t?.()){this.id=hu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pu),this.nodes.forEach(bu),this.nodes.forEach(vu),this.nodes.forEach(xu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new lu)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new zs),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const d=this.eventHandlers.get(a);d&&d.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=un(a)&&!fd(a),this.instance=a;const{layoutId:l,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let m,c=0;const u=()=>this.root.updateBlockedByResize=!1;D.read(()=>{c=window.innerWidth}),e(a,()=>{const f=window.innerWidth;f!==c&&(c=f,this.root.updateBlockedByResize=!0,m&&m(),m=cu(u,250),xt.hasAnimatedSinceResize&&(xt.hasAnimatedSinceResize=!1,this.nodes.forEach(Si)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:c,hasRelativeLayoutChanged:u,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||h.getDefaultTransition()||Tu,{onLayoutAnimationStart:j,onLayoutAnimationComplete:x}=h.getProps(),v=!this.targetLayout||!Va(this.targetLayout,f),y=!c&&u;if(this.options.layoutRoot||this.resumeFrom||y||c&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...nn(p,"layout"),onPlay:j,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(m,y)}else c||Si(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),le(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wu),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ia(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const c=this.path[m];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ji);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ni);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yu),this.nodes.forEach(mu),this.nodes.forEach(fu)):this.nodes.forEach(Ni),this.clearAllSnapshots();const l=B.now();F.delta=te(0,1e3/60,l-F.timestamp),F.timestamp=l,F.isProcessing=!0,Ut.update.process(F),Ut.preRender.process(F),Ut.render.process(F),F.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gu),this.sharedNodes.forEach(ju)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,D.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!W(this.snapshot.measuredBox.x)&&!W(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ra(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||he(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return a&&(d=this.removeTransform(d)),Mu(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return $();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Cu))){const{scroll:h}=this.root;h&&(Pe(l.x,h.offset.x),Pe(l.y,h.offset.y))}return l}removeElementScroll(a){const l=$();if(G(l,a),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:c}=h;h!==this.root&&m&&c.layoutScroll&&(m.wasRoot&&G(l,a),Pe(l.x,m.offset.x),Pe(l.y,m.offset.y))}return l}applyTransform(a,l=!1){const d=$();G(d,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ke(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),he(m.latestValues)&&ke(d,m.latestValues)}return he(this.latestValues)&&ke(d,this.latestValues),d}removeTransform(a){const l=$();G(l,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!he(h.latestValues))continue;Ds(h.latestValues)&&h.updateSnapshot();const m=$(),c=h.measurePageBox();G(m,c),mi(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return he(this.latestValues)&&mi(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==F.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:c}=this.options;if(!this.layout||!(m||c))return;this.resolvedRelativeTargetAt=F.timestamp;const u=this.getClosestProjectingParent();u&&this.linkedParentVersion!==u.layoutVersion&&!u.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(u&&u.layout?this.createRelativeTarget(u,this.layout.layoutBox,u.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$(),this.targetWithTransforms=$()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):G(this.target,this.layout.layoutBox),wa(this.target,this.targetDelta)):G(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,u&&!!u.resumingFrom==!!this.resumingFrom&&!u.options.layoutScroll&&u.target&&this.animationProgress!==1?this.createRelativeTarget(u,this.target,u.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ds(this.parent.latestValues)||va(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,d){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$(),this.relativeTargetOrigin=$(),Tt(this.relativeTargetOrigin,l,d),G(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===F.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;G(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,u=this.treeScale.y;Td(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oi(this.prevProjectionDelta.x,this.projectionDelta.x),oi(this.prevProjectionDelta.y,this.projectionDelta.y)),_e(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==u||!yi(this.projectionDelta.x,this.prevProjectionDelta.x)||!yi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ce(),this.projectionDelta=Ce(),this.projectionDeltaWithTransform=Ce()}setAnimationOrigin(a,l=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},c=Ce();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const u=$(),f=d?d.source:void 0,p=this.layout?this.layout.source:void 0,j=f!==p,x=this.getStack(),v=!x||x.members.length<=1,y=!!(j&&!v&&this.options.crossfade===!0&&!this.path.some(Su));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const N=S/1e3;Ti(c.x,a.x,N),Ti(c.y,a.y,N),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tt(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nu(this.relativeTarget,this.relativeTargetOrigin,u,N),b&&eu(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=$()),G(b,this.relativeTarget)),j&&(this.animationValues=m,nu(m,h,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(le(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{xt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Re(0)),this.currentAnimation=au(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:d,layout:h,latestValues:m}=a;if(!(!l||!d||!h)){if(this!==a&&this.layout&&h&&Oa(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||$();const c=W(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+c;const u=W(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+u}G(l,d),ke(l,m),_e(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new du),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const h={};d.z&&Jt("z",a,h,this.animationValues);for(let m=0;m<Yt.length;m++)Jt(`rotate${Yt[m]}`,a,h,this.animationValues),Jt(`skew${Yt[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=pt(l?.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=pt(l?.pointerEvents)||""),this.hasProjected&&!he(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let c=tu(this.projectionDeltaWithTransform,this.treeScale,m);d&&(c=d(m,c)),a.transform=c;const{x:u,y:f}=this.projectionDelta;a.transformOrigin=`${u.origin*100}% ${f.origin*100}% 0`,h.animationValues?a.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Es){if(m[p]===void 0)continue;const{correct:j,applyTo:x,isCSSVariable:v}=Es[p],y=c==="none"?m[p]:j(m[p],h);if(x){const b=x.length;for(let S=0;S<b;S++)a[x[S]]=y}else v?this.options.visualElement.renderState.vars[p]=y:a[p]=y}this.options.layoutId&&(a.pointerEvents=h===this?pt(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(ji),this.root.sharedNodes.clear()}}}function mu(e){e.updateLayout()}function fu(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?Z(m=>{const c=o?t.measuredBox[m]:t.layoutBox[m],u=W(c);c.min=s[m].min,c.max=c.min+u}):Oa(r,t.layoutBox,s)&&Z(m=>{const c=o?t.measuredBox[m]:t.layoutBox[m],u=W(s[m]);c.max=c.min+u,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+u)});const a=Ce();_e(a,s,t.layoutBox);const l=Ce();o?_e(l,e.applyTransform(i,!0),t.measuredBox):_e(l,s,t.layoutBox);const d=!Ra(a);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:c,layout:u}=m;if(c&&u){const f=$();Tt(f,t.layoutBox,c.layoutBox);const p=$();Tt(p,s,u.layoutBox),Va(f,p)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=f,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function pu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gu(e){e.clearSnapshot()}function ji(e){e.clearMeasurements()}function Ni(e){e.isLayoutDirty=!1}function yu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Si(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bu(e){e.resolveTargetDelta()}function vu(e){e.calcProjection()}function wu(e){e.resetSkewAndRotation()}function ju(e){e.removeLeadSnapshot()}function Ti(e,t,s){e.translate=E(t.translate,0,s),e.scale=E(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Mi(e,t,s,i){e.min=E(t.min,s.min,i),e.max=E(t.max,s.max,i)}function Nu(e,t,s,i){Mi(e.x,t.x,s.x,i),Mi(e.y,t.y,s.y,i)}function Su(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Tu={duration:.45,ease:[.4,0,.1,1]},Ci=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Pi=Ci("applewebkit/")&&!Ci("chrome/")?Math.round:K;function ki(e){e.min=Pi(e.min),e.max=Pi(e.max)}function Mu(e){ki(e.x),ki(e.y)}function Oa(e,t,s){return e==="position"||e==="preserve-aspect"&&!qd(gi(t),gi(s),.2)}function Cu(e){return e!==e.root&&e.scroll?.wasRoot}const Pu=Fa({attachResizeListener:(e,t)=>Je(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Zt={current:void 0},Ba=Fa({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zt.current){const e=new Pu({});e.mount(window),e.setOptions({layoutScroll:!0}),Zt.current=e}return Zt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xn=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Di(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ku(...e){return t=>{let s=!1;const i=e.map(r=>{const o=Di(r,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():Di(e[r],null)}}}}function Du(...e){return g.useCallback(ku(...e),e)}class Au extends g.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=s.offsetParent,r=Ps(i)&&i.offsetWidth||0,o=Ps(i)&&i.offsetHeight||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=r-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Eu({children:e,isPresent:t,anchorX:s,anchorY:i,root:r,pop:o}){const a=g.useId(),l=g.useRef(null),d=g.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=g.useContext(xn),m=e.props?.ref??e?.ref,c=Du(l,m);return g.useInsertionEffect(()=>{const{width:u,height:f,top:p,left:j,right:x,bottom:v}=d.current;if(t||o===!1||!l.current||!u||!f)return;const y=s==="left"?`left: ${j}`:`right: ${x}`,b=i==="bottom"?`bottom: ${v}`:`top: ${p}`;l.current.dataset.motionPopId=a;const S=document.createElement("style");h&&(S.nonce=h);const N=r??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${y}px !important;
            ${b}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[t]),n.jsx(Au,{isPresent:t,childRef:l,sizeRef:d,pop:o,children:o===!1?e:g.cloneElement(e,{ref:c})})}const Ru=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:a,anchorX:l,anchorY:d,root:h})=>{const m=Us(Vu),c=g.useId();let u=!0,f=g.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:s,custom:r,onExitComplete:p=>{m.set(p,!0);for(const j of m.values())if(!j)return;i&&i()},register:p=>(m.set(p,!1),()=>m.delete(p))}),[s,m,i]);return o&&u&&(f={...f}),g.useMemo(()=>{m.forEach((p,j)=>m.set(j,!1))},[s]),g.useEffect(()=>{!s&&!m.size&&i&&i()},[s]),e=n.jsx(Eu,{pop:a==="popLayout",isPresent:s,anchorX:l,anchorY:d,root:h,children:e}),n.jsx(Rt.Provider,{value:f,children:e})};function Vu(){return new Map}function Wa(e=!0){const t=g.useContext(Rt);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:r}=t,o=g.useId();g.useEffect(()=>{if(e)return r(o)},[e]);const a=g.useCallback(()=>e&&i&&i(o),[o,i,e]);return!s&&i?[!1,a]:[!0]}const rt=e=>e.key||"";function Ai(e){const t=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&t.push(s)}),t}const $t=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",anchorY:d="top",root:h})=>{const[m,c]=Wa(a),u=g.useMemo(()=>Ai(e),[e]),f=a&&!m?[]:u.map(rt),p=g.useRef(!0),j=g.useRef(u),x=Us(()=>new Map),v=g.useRef(new Set),[y,b]=g.useState(u),[S,N]=g.useState(u);pr(()=>{p.current=!1,j.current=u;for(let M=0;M<S.length;M++){const P=rt(S[M]);f.includes(P)?(x.delete(P),v.current.delete(P)):x.get(P)!==!0&&x.set(P,!1)}},[S,f.length,f.join("-")]);const C=[];if(u!==y){let M=[...u];for(let P=0;P<S.length;P++){const L=S[P],J=rt(L);f.includes(J)||(M.splice(P,0,L),C.push(L))}return o==="wait"&&C.length&&(M=C),N(Ai(M)),b(u),null}const{forceRender:A}=g.useContext(Ws);return n.jsx(n.Fragment,{children:S.map(M=>{const P=rt(M),L=a&&!m?!1:u===S||f.includes(P),J=()=>{if(v.current.has(P))return;if(v.current.add(P),x.has(P))x.set(P,!0);else return;let Ie=!0;x.forEach(Ot=>{Ot||(Ie=!1)}),Ie&&(A?.(),N(j.current),a&&c?.(),i&&i())};return n.jsx(Ru,{isPresent:L,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:h,onExitComplete:L?void 0:J,anchorX:l,anchorY:d,children:M},P)})})},Ua=g.createContext({strict:!1}),Ei={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ri=!1;function Lu(){if(Ri)return;const e={};for(const t in Ei)e[t]={isEnabled:s=>Ei[t].some(i=>!!s[i])};ga(e),Ri=!0}function Ha(){return Lu(),wd()}function $u(e){const t=Ha();for(const s in e)t[s]={...t[s],...e[s]};ga(t)}const Iu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Mt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Iu.has(e)}let _a=e=>!Mt(e);function Fu(e){typeof e=="function"&&(_a=t=>t.startsWith("on")?!Mt(t):e(t))}try{Fu(require("@emotion/is-prop-valid").default)}catch{}function Ou(e,t,s){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(_a(r)||s===!0&&Mt(r)||!t&&!Mt(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const It=g.createContext({});function Bu(e,t){if(Lt(e)){const{initial:s,animate:i}=e;return{initial:s===!1||Ye(s)?s:void 0,animate:Ye(i)?i:void 0}}return e.inherit!==!1?t:{}}function Wu(e){const{initial:t,animate:s}=Bu(e,g.useContext(It));return g.useMemo(()=>({initial:t,animate:s}),[Vi(t),Vi(s)])}function Vi(e){return Array.isArray(e)?e.join(" "):e}const gn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function za(e,t,s){for(const i in t)!O(t[i])&&!Sa(i,s)&&(e[i]=t[i])}function Uu({transformTemplate:e},t){return g.useMemo(()=>{const s=gn();return fn(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Hu(e,t){const s=e.style||{},i={};return za(i,s,e),Object.assign(i,Uu(e,t)),i}function _u(e,t){const s={},i=Hu(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const Ka=()=>({...gn(),attrs:{}});function zu(e,t,s,i){const r=g.useMemo(()=>{const o=Ka();return Ta(o,t,Ca(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};za(o,e.style,e),r.style={...o,...r.style}}return r}const Ku=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yn(e){return typeof e!="string"||e.includes("-")?!1:!!(Ku.indexOf(e)>-1||/[A-Z]/u.test(e))}function Gu(e,t,s,{latestValues:i},r,o=!1,a){const d=(a??yn(e)?zu:_u)(t,i,r,e),h=Ou(t,typeof e=="string",o),m=e!==g.Fragment?{...h,...d,ref:s}:{},{children:c}=t,u=g.useMemo(()=>O(c)?c.get():c,[c]);return g.createElement(e,{...m,children:u})}function Xu({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,r){return{latestValues:qu(s,i,r,e),renderState:t()}}function qu(e,t,s,i){const r={},o=i(e,{});for(const u in o)r[u]=pt(o[u]);let{initial:a,animate:l}=e;const d=Lt(e),h=pa(e);t&&h&&!d&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let m=s?s.initial===!1:!1;m=m||a===!1;const c=m?l:a;if(c&&typeof c!="boolean"&&!Vt(c)){const u=Array.isArray(c)?c:[c];for(let f=0;f<u.length;f++){const p=an(e,u[f]);if(p){const{transitionEnd:j,transition:x,...v}=p;for(const y in v){let b=v[y];if(Array.isArray(b)){const S=m?b.length-1:0;b=b[S]}b!==null&&(r[y]=b)}for(const y in j)r[y]=j[y]}}}return r}const Ga=e=>(t,s)=>{const i=g.useContext(It),r=g.useContext(Rt),o=()=>Xu(e,t,i,r);return s?o():Us(o)},Yu=Ga({scrapeMotionValuesFromProps:pn,createRenderState:gn}),Ju=Ga({scrapeMotionValuesFromProps:Pa,createRenderState:Ka}),Zu=Symbol.for("motionComponentSymbol");function Qu(e,t,s){const i=g.useRef(s);g.useInsertionEffect(()=>{i.current=s});const r=g.useRef(null);return g.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const a=i.current;if(typeof a=="function")if(o){const l=a(o);typeof l=="function"&&(r.current=l)}else r.current?(r.current(),r.current=null):a(o);else a&&(a.current=o)},[t])}const Xa=g.createContext({});function Ne(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eh(e,t,s,i,r,o){const{visualElement:a}=g.useContext(It),l=g.useContext(Ua),d=g.useContext(Rt),h=g.useContext(xn),m=h.reducedMotion,c=h.skipAnimations,u=g.useRef(null),f=g.useRef(!1);i=i||l.renderer,!u.current&&i&&(u.current=i(e,{visualState:t,parent:a,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:c,isSVG:o}),f.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const p=u.current,j=g.useContext(Xa);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&th(u.current,s,r,j);const x=g.useRef(!1);g.useInsertionEffect(()=>{p&&x.current&&p.update(s,d)});const v=s[sa],y=g.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return pr(()=>{f.current=!0,p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),y.current&&p.animationState&&p.animationState.animateChanges())}),g.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),y.current=!1),p.enteringChildren=void 0)}),p}function th(e,t,s,i){const{layoutId:r,layout:o,drag:a,dragConstraints:l,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:qa(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||l&&Ne(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function qa(e){if(e)return e.options.allowProjection!==!1?e.projection:qa(e.parent)}function Qt(e,{forwardMotionProps:t=!1,type:s}={},i,r){i&&$u(i);const o=s?s==="svg":yn(e),a=o?Ju:Yu;function l(h,m){let c;const u={...g.useContext(xn),...h,layoutId:sh(h)},{isStatic:f}=u,p=Wu(h),j=a(h,f);if(!f&&fr){nh();const x=ih(u);c=x.MeasureLayout,p.visualElement=eh(e,j,u,r,x.ProjectionNode,o)}return n.jsxs(It.Provider,{value:p,children:[c&&p.visualElement?n.jsx(c,{visualElement:p.visualElement,...u}):null,Gu(e,h,Qu(j,p.visualElement,m),j,f,t,o)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=g.forwardRef(l);return d[Zu]=e,d}function sh({layoutId:e}){const t=g.useContext(Ws).id;return t&&e!==void 0?t+"-"+e:e}function nh(e,t){g.useContext(Ua).strict}function ih(e){const t=Ha(),{drag:s,layout:i}=t;if(!s&&!i)return{};const r={...s,...i};return{MeasureLayout:s?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rh(e,t){if(typeof Proxy>"u")return Qt;const s=new Map,i=(o,a)=>Qt(o,a,e,t),r=(o,a)=>i(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?i:(s.has(a)||s.set(a,Qt(a,void 0,e,t)),s.get(a))})}const ah=(e,t)=>t.isSVG??yn(e)?new Fd(t):new Ed(t,{allowProjection:e!==g.Fragment});class oh extends ce{constructor(t){super(t),t.animationState||(t.animationState=Hd(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let lh=0;class ch extends ce{constructor(){super(...arguments),this.id=lh++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);s&&!t&&r.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dh={animation:{Feature:oh},exit:{Feature:ch}};function st(e){return{point:{x:e.pageX,y:e.pageY}}}const uh=e=>t=>dn(t)&&e(t,st(t));function ze(e,t,s,i){return Je(e,t,uh(s),i)}const Ya=({current:e})=>e?e.ownerDocument.defaultView:null,Li=(e,t)=>Math.abs(e-t);function hh(e,t){const s=Li(e.x,t.x),i=Li(e.y,t.y);return Math.sqrt(s**2+i**2)}const $i=new Set(["auto","scroll"]);class Ja{constructor(t,s,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ts(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,j=hh(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!j)return;const{point:x}=f,{timestamp:v}=F;this.history.push({...x,timestamp:v});const{onStart:y,onMove:b}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=es(p,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:j,onSessionEnd:x,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ts(f.type==="pointercancel"?this.lastMoveEventInfo:es(p,this.transformPagePoint),this.history);this.startEvent&&j&&j(f,y),x&&x(f,y)},!dn(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const d=st(t),h=es(d,this.transformPagePoint),{point:m}=h,{timestamp:c}=F;this.history=[{...m,timestamp:c}];const{onSessionStart:u}=s;u&&u(t,ts(h,this.history)),this.removeListeners=Qe(ze(this.contextWindow,"pointermove",this.handlePointerMove),ze(this.contextWindow,"pointerup",this.handlePointerUp),ze(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let s=t.parentElement;for(;s;){const i=getComputedStyle(s);($i.has(i.overflowX)||$i.has(i.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const i=t===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:r.x-s.x,y:r.y-s.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,r),D.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),le(this.updatePoint)}}function es(e,t){return t?{point:t(e.point)}:e}function Ii(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ts({point:e},t){return{point:e,delta:Ii(e,Za(t)),offset:Ii(e,mh(t)),velocity:fh(t,.1)}}function mh(e){return e[0]}function Za(e){return e[e.length-1]}function fh(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const r=Za(e);for(;s>=0&&(i=e[s],!(r.timestamp-i.timestamp>q(t)));)s--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&r.timestamp-i.timestamp>q(t)*2&&(i=e[1]);const o=z(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ph(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?E(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?E(s,e,i.max):Math.min(e,s)),e}function Fi(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function xh(e,{top:t,left:s,bottom:i,right:r}){return{x:Fi(e.x,s,r),y:Fi(e.y,t,i)}}function Oi(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function gh(e,t){return{x:Oi(e.x,t.x),y:Oi(e.y,t.y)}}function yh(e,t){let s=.5;const i=W(e),r=W(t);return r>i?s=Ge(t.min,t.max-i,e.min):i>r&&(s=Ge(e.min,e.max-r,t.min)),te(0,1,s)}function bh(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Rs=.35;function vh(e=Rs){return e===!1?e=0:e===!0&&(e=Rs),{x:Bi(e,"left","right"),y:Bi(e,"top","bottom")}}function Bi(e,t,s){return{min:Wi(e,t),max:Wi(e,s)}}function Wi(e,t){return typeof e=="number"?e:e[t]||0}const wh=new WeakMap;class jh{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{s&&this.snapToCursor(st(c).point),this.stopAnimation()},a=(c,u)=>{const{drag:f,dragPropagation:p,onDragStart:j}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jc(f),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Z(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Q.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[v];S&&(y=W(S)*(parseFloat(y)/100))}}this.originPoint[v]=y}),j&&D.update(()=>j(c,u),!1,!0),Ss(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(c,u)=>{this.latestPointerEvent=c,this.latestPanInfo=u;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:j,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=u;if(p&&this.currentDirection===null){this.currentDirection=Sh(v),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),x&&D.update(()=>x(c,u),!1,!0)},d=(c,u)=>{this.latestPointerEvent=c,this.latestPanInfo=u,this.stop(c,u),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:c}=this.getProps();(c||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ja(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:Ya(this.visualElement),element:this.visualElement.current})}stop(t,s){const i=t||this.latestPointerEvent,r=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&D.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,i){const{drag:r}=this.getProps();if(!i||!at(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=ph(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Ne(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=xh(i.layoutBox,t):this.constraints=!1,this.elastic=vh(s),r!==this.constraints&&!Ne(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Z(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bh(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ne(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=Md(i,r.root,this.visualElement.getTransformPagePoint());let a=gh(r.layout.layoutBox,o);if(s){const l=s(Nd(a));this.hasMutatedConstraints=!!l,l&&(a=ba(l))}return a}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},h=Z(m=>{if(!at(m,s,this.currentDirection))return;let c=d&&d[m]||{};a&&(c={min:0,max:0});const u=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?t[m]:0,bounceStiffness:u,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...c};return this.startAxisValueAnimation(m,p)});return Promise.all(h).then(l)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return Ss(this.visualElement,t),i.start(rn(t,i,0,s,this.visualElement,!1))}stopAnimation(){Z(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[s];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Z(s=>{const{drag:i}=this.getProps();if(!at(s,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(s);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[s],d=o.get()||0;o.set(t[s]-E(a,l,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Ne(s)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Z(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const d=l.get();r[a]=yh({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Z(a=>{if(!at(a,t,null))return;const l=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];l.set(E(d,h,r[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;wh.set(this.visualElement,this);const t=this.visualElement.current,s=ze(t,"pointerdown",h=>{const{drag:m,dragListener:c=!0}=this.getProps(),u=h.target,f=u!==t&&nd(u);m&&c&&!f&&this.start(h)});let i;const r=()=>{const{dragConstraints:h}=this.getProps();Ne(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=Nh(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),D.read(r);const l=Je(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Z(c=>{const u=this.getAxisMotionValue(c);u&&(this.originPoint[c]+=h[c].translate,u.set(u.get()+h[c].translate))}),this.visualElement.render())}));return()=>{l(),s(),a(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=Rs,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Ui(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Nh(e,t,s){const i=qn(e,Ui(s)),r=qn(t,Ui(s));return()=>{i(),r()}}function at(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Sh(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Th extends ce{constructor(t){super(t),this.removeGroupControls=K,this.removeListeners=K,this.controls=new jh(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||K}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const ss=e=>(t,s)=>{e&&D.update(()=>e(t,s),!1,!0)};class Mh extends ce{constructor(){super(...arguments),this.removePointerDownListener=K}onPointerDown(t){this.session=new Ja(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ya(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:ss(t),onStart:ss(s),onMove:ss(i),onEnd:(o,a)=>{delete this.session,r&&D.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=ze(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ns=!1;class Ch extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;o&&(s.group&&s.group.add(o),i&&i.register&&r&&i.register(o),ns&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),xt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:r,isPresent:o}=this.props,{projection:a}=i;return a&&(a.isPresent=o,t.layoutDependency!==s&&a.setOptions({...a.options,layoutDependency:s}),ns=!0,r||t.layoutDependency!==s||s===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||D.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:r}=t;ns=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Qa(e){const[t,s]=Wa(),i=g.useContext(Ws);return n.jsx(Ch,{...e,layoutGroup:i,switchLayoutGroup:g.useContext(Xa),isPresent:t,safeToRemove:s})}const Ph={pan:{Feature:Mh},drag:{Feature:Th,ProjectionNode:Ba,MeasureLayout:Qa}};function Hi(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,o=i[r];o&&D.postRender(()=>o(t,st(t)))}class kh extends ce{mount(){const{current:t}=this.node;t&&(this.unmount=Qc(t,(s,i)=>(Hi(this.node,i,"Start"),r=>Hi(this.node,r,"End"))))}unmount(){}}class Dh extends ce{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qe(Je(this.node.current,"focus",()=>this.onFocus()),Je(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _i(e,t,s){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),o=i[r];o&&D.postRender(()=>o(t,st(t)))}class Ah extends ce{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:s,propagate:i}=this.node.props;this.unmount=rd(t,(r,o)=>(_i(this.node,o,"Start"),(a,{success:l})=>_i(this.node,a,l?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:i?.tap===!1})}unmount(){}}const Vs=new WeakMap,is=new WeakMap,Eh=e=>{const t=Vs.get(e.target);t&&t(e)},Rh=e=>{e.forEach(Eh)};function Vh({root:e,...t}){const s=e||document;is.has(s)||is.set(s,{});const i=is.get(s),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(Rh,{root:e,...t})),i[r]}function Lh(e,t,s){const i=Vh(t);return Vs.set(e,s),i.observe(e),()=>{Vs.delete(e),i.unobserve(e)}}const $h={some:0,all:1};class Ih extends ce{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:r="some",once:o}=t,a={root:s?s.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:$h[r]},l=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:c}=this.node.getProps(),u=h?m:c;u&&u(d)};return Lh(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Fh(t,s))&&this.startObserver()}unmount(){}}function Fh({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Oh={inView:{Feature:Ih},tap:{Feature:Ah},focus:{Feature:Dh},hover:{Feature:kh}},Bh={layout:{ProjectionNode:Ba,MeasureLayout:Qa}},Wh={...dh,...Oh,...Ph,...Bh},w=rh(Wh,ah),bn=()=>{const e=[],t=new Date,s=5;for(let i=0;i<48;i++){const r=new Date(t.getTime()+i*60*60*1e3),o=r.getHours(),a=Math.sin((o-6)*Math.PI/12)*4,l=s+a+(Math.random()-.5)*2;e.push({time:r.toISOString(),hour:`${o}:00`,temperature:Math.round(l*10)/10,feelsLike:Math.round((l-2+Math.random())*10)/10,humidity:Math.round(60+Math.random()*30),precipitation:Math.random()>.7?Math.round(Math.random()*5*10)/10:0,precipitationProbability:Math.round(Math.random()*100),windSpeed:Math.round((8+Math.random()*12)*10)/10,windGust:Math.round((15+Math.random()*15)*10)/10,windDirection:Math.round(Math.random()*360),pressure:Math.round(1013+(Math.random()-.5)*20),visibility:Math.round(8+Math.random()*12),uvIndex:o>=6&&o<=18?Math.round(Math.random()*6):0,cloudCover:Math.round(Math.random()*100)})}return e},eo=()=>{const e=[],t=new Date,s=["","","","","","",""],i=[{code:"sunny",label:"",icon:"sun"},{code:"partly_cloudy",label:" ",icon:"cloud-sun"},{code:"cloudy",label:"",icon:"cloud"},{code:"rain",label:"",icon:"cloud-rain"},{code:"snow",label:"",icon:"cloud-snow"}];for(let r=0;r<7;r++){const o=new Date(t.getTime()+r*24*60*60*1e3),a=3+Math.sin(r*.5)*3,l=i[Math.floor(Math.random()*i.length)];e.push({date:o.toISOString(),dayName:s[o.getDay()],dayNumber:o.getDate(),month:o.toLocaleDateString("ru-RU",{month:"short"}),tempMax:Math.round((a+4+Math.random()*3)*10)/10,tempMin:Math.round((a-2+Math.random()*2)*10)/10,humidity:Math.round(55+Math.random()*35),precipitationProbability:Math.round(Math.random()*100),precipitation:Math.random()>.5?Math.round(Math.random()*10*10)/10:0,windSpeed:Math.round((5+Math.random()*15)*10)/10,windDirection:Math.round(Math.random()*360),condition:l,uvIndex:Math.round(Math.random()*5),sunrise:"07:45",sunset:"17:30"})}return e},Uh=e=>{const t=["","","","","","","","","","","","","","","",""],s=Math.round(e/22.5)%16;return t[s]},to=()=>{const t=bn()[0],s=[{code:"partly_cloudy",label:" ",icon:"cloud-sun"}];return{temperature:t.temperature,feelsLike:t.feelsLike,humidity:t.humidity,pressure:t.pressure,windSpeed:t.windSpeed,windGust:t.windGust,windDirection:t.windDirection,windDirectionLabel:Uh(t.windDirection),visibility:t.visibility,uvIndex:t.uvIndex,cloudCover:t.cloudCover,condition:s[0],dewPoint:Math.round((t.temperature-(100-t.humidity)/5)*10)/10,lastUpdated:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}},Hh=()=>["","","","","","","",""].map((t,s)=>({direction:t,angle:s*45,frequency:Math.round(5+Math.random()*20),avgSpeed:Math.round((5+Math.random()*15)*10)/10})),so=()=>{const e=Math.round(30+Math.random()*70);let t,s;return e<=50?(t="",s="green"):e<=100?(t="",s="yellow"):e<=150?(t="  ",s="orange"):(t="",s="red"),{aqi:e,category:t,color:s,pm25:Math.round(10+Math.random()*30),pm10:Math.round(20+Math.random()*40),o3:Math.round(30+Math.random()*50),no2:Math.round(10+Math.random()*30)}},no={location:{city:"",country:"",coordinates:{lat:55.7558,lon:37.6173},timezone:"Europe/Moscow"},current:to(),hourly:bn(),daily:eo(),airQuality:so()},_h=()=>({location:no.location,current:to(),hourly:bn(),daily:eo(),windRose:Hh(),airQuality:so()});var zh=Oo();const ot=xo(zh),lt="https://api.openweathermap.org/data/2.5",gt=()=>localStorage.getItem("owm_api_key"),Kh=e=>localStorage.setItem("owm_api_key",e),Gh=()=>!!gt(),zi=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("  "));return}navigator.geolocation.getCurrentPosition(s=>e({lat:s.coords.latitude,lon:s.coords.longitude}),s=>t(s),{enableHighAccuracy:!0,timeout:1e4})}),vn=(e,t)=>{const s=t?.includes("n");return e>=200&&e<300?{code:"thunderstorm",label:"",icon:"cloud-lightning",animation:"thunderstorm"}:e>=300&&e<400?{code:"drizzle",label:"",icon:"cloud-drizzle",animation:"rain"}:e>=500&&e<600?{code:"rain",label:"",icon:"cloud-rain",animation:"rain"}:e>=600&&e<700?{code:"snow",label:"",icon:"cloud-snow",animation:"snow"}:e>=700&&e<800?{code:"mist",label:"",icon:"cloud-fog",animation:"fog"}:e===800?s?{code:"clear_night",label:"",icon:"moon",animation:"clear-night"}:{code:"sunny",label:"",icon:"sun",animation:"sunny"}:e===801?{code:"partly_cloudy",label:"",icon:"cloud-sun",animation:"partly-cloudy"}:e>=802?{code:"cloudy",label:"",icon:"cloud",animation:"cloudy"}:{code:"unknown",label:"",icon:"cloud",animation:"cloudy"}},Xh=e=>{const t=["","","","","","","","","","","","","","","",""],s=Math.round(e/22.5)%16;return t[s]},Ki=(e,t,s=new Date)=>{const i=ot.getTimes(s,e,t),r=ot.getMoonIllumination(s),o=ot.getMoonPosition(s,e,t),a=ot.getPosition(s,e,t),l=[""," "," "," ",""," "," "," "],d=Math.round(r.phase*8)%8;return{sunrise:i.sunrise?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",sunset:i.sunset?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",solarNoon:i.solarNoon?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",goldenHour:i.goldenHour?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",dawn:i.dawn?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",dusk:i.dusk?.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})||"--:--",moonPhase:l[d],moonIllumination:Math.round(r.fraction*100),moonAltitude:Math.round(o.altitude*180/Math.PI),sunAltitude:Math.round(a.altitude*180/Math.PI),dayLength:i.sunset&&i.sunrise?Math.round((i.sunset-i.sunrise)/1e3/60):0}},Gi=()=>{const e=new Date().getMonth(),t=e>=2&&e<=4,s=e>=5&&e<=7,i=e>=8&&e<=10;return{overall:t||s?"":"",overallIndex:Math.round(t||s?40+Math.random()*40:10+Math.random()*20),types:[{name:"",level:t?"":"",index:Math.round(t?60+Math.random()*30:5+Math.random()*15),species:["","",""]},{name:"",level:s?"":"",index:Math.round(s?50+Math.random()*40:5+Math.random()*10),species:["","",""]},{name:"",level:i?"":"",index:Math.round(i?30+Math.random()*30:5+Math.random()*10),species:["","",""]},{name:"",level:"",index:Math.round(10+Math.random()*20),species:["Alternaria","Cladosporium"]}],forecast:[{day:"",level:t||s?"":""},{day:"",level:t||s?"":""},{day:"",level:t||s?"":""}],recommendations:t||s?["   ","  "," "]:["  "]}},Xi=(e,t,s)=>{const i=Math.min(100,Math.max(0,t*.7+(s>0?20:0))),r=Math.max(0,e*.3+(100-t)*.05).toFixed(1),a=e<5?{status:"",color:"red",description:"   "}:e>35?{status:"",color:"red",description:"  "}:t<30?{status:"",color:"yellow",description:" "}:e>=15&&e<=25&&t>=50?{status:"",color:"green",description:" "}:{status:"",color:"lime",description:" "};return{soilMoisture:Math.round(i),soilTemperature:Math.round(e*.8),evapotranspiration:parseFloat(r),growingDegreeDays:Math.max(0,Math.round((e-10)*1)),frostRisk:e<3?"":e<7?"":"",frostRiskPercent:e<0?100:e<3?70:e<7?30:5,irrigationNeed:i<40?"":i<60?"":" ",irrigationAmount:Math.max(0,Math.round((60-i)*.5)),conditions:a,crops:[{name:"",status:e>5&&e<30?"":""},{name:"",status:e>10&&e<25?"":""},{name:"",status:e>15&&e<30?"":""},{name:"",status:e>5?"":" "}],sprayingConditions:{suitable:t<80&&e>10&&e<30,reason:t>=80?" ":e<=10?" ":" "}}},qh=e=>{const t=vn(e.weather[0].id,e.weather[0].icon);return{temperature:Math.round(e.main.temp*10)/10,feelsLike:Math.round(e.main.feels_like*10)/10,humidity:e.main.humidity,pressure:e.main.pressure,windSpeed:Math.round(e.wind.speed*10)/10,windGust:e.wind.gust?Math.round(e.wind.gust*10)/10:e.wind.speed*1.3,windDirection:e.wind.deg||0,windDirectionLabel:Xh(e.wind.deg||0),visibility:e.visibility?Math.round(e.visibility/1e3):10,uvIndex:e.uvi||0,cloudCover:e.clouds?.all||0,condition:t,dewPoint:Math.round((e.main.temp-(100-e.main.humidity)/5)*10)/10,lastUpdated:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),description:e.weather[0].description}},Yh=e=>e.slice(0,48).map(t=>{const s=new Date(t.dt*1e3);return{time:s.toISOString(),hour:`${s.getHours()}:00`,temperature:Math.round(t.main.temp*10)/10,feelsLike:Math.round(t.main.feels_like*10)/10,humidity:t.main.humidity,precipitation:t.rain?.["3h"]||t.snow?.["3h"]||0,precipitationProbability:Math.round((t.pop||0)*100),windSpeed:Math.round(t.wind.speed*10)/10,windGust:t.wind.gust?Math.round(t.wind.gust*10)/10:t.wind.speed*1.3,windDirection:t.wind.deg||0,pressure:t.main.pressure,visibility:t.visibility?Math.round(t.visibility/1e3):10,uvIndex:t.uvi||0,cloudCover:t.clouds?.all||0,condition:vn(t.weather[0].id,t.weather[0].icon)}}),Jh=e=>{const t=["","","","","","",""],s=new Map;return e.forEach(i=>{const r=new Date(i.dt*1e3),o=r.toDateString();s.has(o)||s.set(o,{date:r.toISOString(),dayName:t[r.getDay()],dayNumber:r.getDate(),month:r.toLocaleDateString("ru-RU",{month:"short"}),temps:[],humidity:[],precipitation:0,precipitationProbability:0,windSpeed:[],windDirection:[],condition:null});const a=s.get(o);a.temps.push(i.main.temp),a.humidity.push(i.main.humidity),a.precipitation+=i.rain?.["3h"]||i.snow?.["3h"]||0,a.precipitationProbability=Math.max(a.precipitationProbability,(i.pop||0)*100),a.windSpeed.push(i.wind.speed),a.windDirection.push(i.wind.deg||0),(!a.condition||i.weather[0].id<800)&&(a.condition=vn(i.weather[0].id,i.weather[0].icon))}),Array.from(s.values()).slice(0,7).map(i=>({date:i.date,dayName:i.dayName,dayNumber:i.dayNumber,month:i.month,tempMax:Math.round(Math.max(...i.temps)*10)/10,tempMin:Math.round(Math.min(...i.temps)*10)/10,humidity:Math.round(i.humidity.reduce((r,o)=>r+o,0)/i.humidity.length),precipitation:Math.round(i.precipitation*10)/10,precipitationProbability:Math.round(i.precipitationProbability),windSpeed:Math.round(i.windSpeed.reduce((r,o)=>r+o,0)/i.windSpeed.length*10)/10,windDirection:Math.round(i.windDirection.reduce((r,o)=>r+o,0)/i.windDirection.length),condition:i.condition,uvIndex:Math.round(Math.random()*6)}))},Zh=e=>{const t=e.list[0].main.aqi,s=e.list[0].components,i=["","","","",""," "],r=["","bg-green-500","bg-lime-500","bg-yellow-500","bg-orange-500","bg-red-500"];return{aqi:t*50,category:i[t]||"",color:r[t]||"bg-gray-500",pm25:Math.round(s.pm2_5),pm10:Math.round(s.pm10),o3:Math.round(s.o3),no2:Math.round(s.no2),so2:Math.round(s.so2),co:Math.round(s.co)}},Qh=e=>{const t=["","","","","","","",""],s=t.map(()=>({count:0,totalSpeed:0}));e.forEach(r=>{const o=Math.round(r.windDirection/45)%8;s[o].count++,s[o].totalSpeed+=r.windSpeed});const i=e.length;return t.map((r,o)=>({direction:r,angle:o*45,frequency:i>0?Math.round(s[o].count/i*100):0,avgSpeed:s[o].count>0?Math.round(s[o].totalSpeed/s[o].count*10)/10:0}))},Se={getApiKey:gt,setApiKey:Kh,hasApiKey:Gh,getCurrentPosition:zi,async getWeatherData(e=null){const t=gt();if(!t){await new Promise(i=>setTimeout(i,500));const s=_h();return{...s,astronomy:Ki(s.location.coordinates.lat,s.location.coordinates.lon),pollen:Gi(),agriculture:Xi(s.current.temperature,s.current.humidity,s.hourly[0]?.precipitation||0)}}try{let{lat:s,lon:i}=e||{};if(!s||!i)try{const y=await zi();s=y.lat,i=y.lon}catch{s=55.7558,i=37.6173}const[r,o,a]=await Promise.all([fetch(`${lt}/weather?lat=${s}&lon=${i}&appid=${t}&units=metric&lang=ru`),fetch(`${lt}/forecast?lat=${s}&lon=${i}&appid=${t}&units=metric&lang=ru`),fetch(`${lt}/air_pollution?lat=${s}&lon=${i}&appid=${t}`),fetch(`${lt}/weather?lat=${s}&lon=${i}&appid=${t}&units=metric&lang=ru`)]);if(!r.ok)throw new Error(" API: "+r.status);const[l,d,h]=await Promise.all([r.json(),o.json(),a.json()]),m=qh(l,s,i),c=Yh(d.list),u=Jh(d.list),f=Zh(h),p=Qh(c),j=Ki(s,i),x=Gi(),v=Xi(m.temperature,m.humidity,c[0]?.precipitation||0);return{location:{city:l.name,country:l.sys.country,coordinates:{lat:s,lon:i},timezone:l.timezone},current:m,hourly:c,daily:u,airQuality:f,windRose:p,astronomy:j,pollen:x,agriculture:v}}catch(s){throw console.error("Weather API error:",s),s}},async searchCity(e){const t=gt();if(!t)return[];try{return(await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(e)}&limit=5&appid=${t}`)).json()).map(r=>({name:r.local_names?.ru||r.name,country:r.country,lat:r.lat,lon:r.lon,state:r.state}))}catch(s){return console.error("City search error:",s),[]}},getLocation(){return no.location}},em=(e=null)=>{const[t,s]=g.useState(null),[i,r]=g.useState(!0),[o,a]=g.useState(null),[l,d]=g.useState(null),h=g.useCallback(async(c=null)=>{try{r(!0),a(null);const u=await Se.getWeatherData(c||e);s(u),d(u.location)}catch(u){a(u.message||"  "),d(Se.getLocation())}finally{r(!1)}},[e]);g.useEffect(()=>{h()},[h]);const m=g.useCallback((c=null)=>{h(c)},[h]);return{data:t,loading:i,error:o,refresh:m,location:l||Se.getLocation(),hasApiKey:Se.hasApiKey(),setApiKey:Se.setApiKey}},tm=()=>n.jsxs(w.div,{className:"min-h-screen flex flex-col items-center justify-center gap-6 relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((e,t)=>n.jsx(w.div,{className:"absolute w-1 h-1 bg-blue-400/30 rounded-full",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:-10},animate:{y:typeof window<"u"?window.innerHeight+10:1e3},transition:{duration:3+Math.random()*3,repeat:1/0,delay:Math.random()*2,ease:"linear"}},t))}),n.jsx("div",{className:"relative z-10",children:n.jsxs(w.div,{className:"w-24 h-24 relative",animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[n.jsx(w.div,{className:"absolute inset-0 rounded-full border-4 border-slate-700",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),n.jsx(w.div,{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-400 border-r-cyan-400",animate:{rotate:-360},transition:{duration:2,repeat:1/0,ease:"linear"}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(w.div,{animate:{scale:[1,1.1,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:n.jsx(ar,{className:"w-10 h-10 text-blue-400"})})})]})}),n.jsxs(w.div,{className:"relative z-10 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[n.jsx(w.p,{className:"text-slate-400 text-sm font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"   ..."}),n.jsx("div",{className:"mt-4 space-y-2",children:n.jsx(w.div,{className:"w-48 h-2 bg-slate-700/50 rounded-full overflow-hidden",initial:{opacity:.5},animate:{opacity:1},transition:{duration:1,repeat:1/0,repeatType:"reverse"},children:n.jsx(w.div,{className:"h-full w-1/3 bg-gradient-to-r from-blue-500/50 to-cyan-500/50",animate:{x:["-100%","300%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})})]})]}),qi=({isOpen:e,onClose:t,onSave:s})=>{const[i,r]=g.useState(""),[o,a]=g.useState(!0),[l,d]=g.useState({type:"",message:""});g.useEffect(()=>{if(e){const m=localStorage.getItem("owm_api_key")||"",c=localStorage.getItem("use_geolocation")!=="false";r(m),a(c)}},[e]);const h=async()=>{if(i){d({type:"loading",message:" ..."});try{if(!(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=55.75&lon=37.61&appid=${i}`)).ok){d({type:"error",message:" API "});return}d({type:"success",message:" !"})}catch{d({type:"error",message:"  "});return}}localStorage.setItem("owm_api_key",i),localStorage.setItem("use_geolocation",o.toString()),d({type:"success",message:"!"}),setTimeout(()=>{s(),t()},1e3)};return g.useEffect(()=>{const m=c=>{c.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow=""}},[e,t]),e?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:n.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md shadow-2xl border border-slate-700 animate-modal-open",onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(or,{className:"w-5 h-5 text-blue-400"}),n.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-slate-100",children:""})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors -mr-2","aria-label":"",children:n.jsx(pe,{className:"w-5 h-5 text-slate-400"})})]}),n.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 mb-2",children:[n.jsx(go,{className:"w-4 h-4"}),"API  OpenWeatherMap"]}),n.jsx("input",{type:"text",value:i,onChange:m=>r(m.target.value),placeholder:"  API ...",className:"w-full px-3 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm"}),n.jsxs("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:["   "," ",n.jsx("a",{href:"https://openweathermap.org/api",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"openweathermap.org"})]})]}),n.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[n.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"text-sm text-slate-300",children:""})]}),n.jsx("div",{className:`relative w-12 h-6 rounded-full transition-colors ${o?"bg-blue-500":"bg-slate-600"}`,onClick:()=>a(!o),role:"switch","aria-checked":o,tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a(!o))},children:n.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${o?"left-7":"left-1"}`})})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"  "})]}),l.message&&n.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${l.type==="error"?"bg-red-500/20 text-red-400":l.type==="success"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:[l.type==="error"?n.jsx(xe,{className:"w-4 h-4 flex-shrink-0"}):l.type==="success"?n.jsx(Is,{className:"w-4 h-4 flex-shrink-0"}):n.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:l.message})]})]}),n.jsxs("div",{className:"flex gap-3 p-4 border-t border-slate-700",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors font-medium text-sm active:scale-95",children:""}),n.jsx("button",{onClick:h,className:"flex-1 px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium text-sm active:scale-95",children:""})]})]})}):null},Ls=({type:e,size:t=80})=>{const s=[{left:15,top:20},{left:75,top:15},{left:30,top:65},{left:80,top:70},{left:50,top:35}],i=[10,14,9,12,11,15],r=[10,12,9,14,11,13,10,12],o=[{width:60,left:8,opacity:.5},{width:75,left:12,opacity:.6},{width:55,left:6,opacity:.4},{width:80,left:10,opacity:.7}],a={sunny:n.jsxs("div",{className:"relative",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute inset-1/4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 animate-pulse",style:{boxShadow:"0 0 30px rgba(251, 191, 36, 0.5)"}}),[...Array(8)].map((l,d)=>n.jsx("div",{className:"absolute bg-yellow-400 rounded-full animate-spin",style:{width:"4px",height:`${t*.2}px`,left:"50%",top:"10%",transformOrigin:`center ${t*.4}px`,transform:`translateX(-50%) rotate(${d*45}deg)`,animationDuration:"10s"}},d))]}),"clear-night":n.jsxs("div",{className:"relative",style:{width:t,height:t},children:[n.jsxs("div",{className:"absolute inset-[15%] rounded-full bg-gradient-to-br from-slate-200 to-slate-300",style:{boxShadow:"0 0 20px rgba(203, 213, 225, 0.4)"},children:[n.jsx("div",{className:"absolute w-3 h-3 bg-slate-400/30 rounded-full top-[20%] left-[30%]"}),n.jsx("div",{className:"absolute w-2 h-2 bg-slate-400/30 rounded-full top-[50%] left-[50%]"}),n.jsx("div",{className:"absolute w-4 h-4 bg-slate-400/20 rounded-full top-[60%] left-[20%]"})]}),[...Array(5)].map((l,d)=>n.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-pulse",style:{left:`${s[d].left}%`,top:`${s[d].top}%`,animationDelay:`${d*.3}s`}},d))]}),"partly-cloudy":n.jsxs("div",{className:"relative",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute w-1/2 h-1/2 top-[5%] left-[50%] rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 animate-pulse"}),n.jsx("div",{className:"absolute bottom-[10%] left-[5%] w-[90%]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-12 h-8 bg-slate-300 rounded-full -top-4 left-2 animate-float"}),n.jsx("div",{className:"absolute w-16 h-10 bg-slate-200 rounded-full -top-6 left-6 animate-float",style:{animationDelay:"0.5s"}}),n.jsx("div",{className:"w-full h-8 bg-slate-300 rounded-full animate-float",style:{animationDelay:"0.25s"}})]})})]}),cloudy:n.jsxs("div",{className:"relative",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute top-[15%] left-[10%] w-[70%] opacity-60",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-8 h-6 bg-slate-400 rounded-full -top-3 left-2 animate-float"}),n.jsx("div",{className:"w-full h-6 bg-slate-400 rounded-full animate-float",style:{animationDelay:"0.3s"}})]})}),n.jsx("div",{className:"absolute bottom-[15%] left-[5%] w-[90%]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-10 h-7 bg-slate-300 rounded-full -top-4 left-3 animate-float"}),n.jsx("div",{className:"absolute w-14 h-9 bg-slate-200 rounded-full -top-5 left-8 animate-float",style:{animationDelay:"0.5s"}}),n.jsx("div",{className:"w-full h-7 bg-slate-300 rounded-full animate-float",style:{animationDelay:"0.2s"}})]})})]}),rain:n.jsxs("div",{className:"relative overflow-hidden",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute top-[10%] left-[10%] w-[80%]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-8 h-6 bg-slate-500 rounded-full -top-3 left-2"}),n.jsx("div",{className:"absolute w-12 h-8 bg-slate-400 rounded-full -top-4 left-6"}),n.jsx("div",{className:"w-full h-6 bg-slate-500 rounded-full"})]})}),[...Array(6)].map((l,d)=>n.jsx("div",{className:"absolute w-0.5 bg-blue-400 rounded-full animate-rain",style:{height:`${i[d]}px`,left:`${15+d*14}%`,top:"50%",animationDelay:`${d*.2}s`}},d))]}),snow:n.jsxs("div",{className:"relative overflow-hidden",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute top-[10%] left-[10%] w-[80%]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-8 h-6 bg-slate-400 rounded-full -top-3 left-2"}),n.jsx("div",{className:"absolute w-12 h-8 bg-slate-300 rounded-full -top-4 left-6"}),n.jsx("div",{className:"w-full h-6 bg-slate-400 rounded-full"})]})}),[...Array(8)].map((l,d)=>n.jsx("div",{className:"absolute text-white animate-snow",style:{fontSize:`${r[d]}px`,left:`${10+d*11}%`,top:"45%",animationDelay:`${d*.3}s`},children:"*"},d))]}),thunderstorm:n.jsxs("div",{className:"relative overflow-hidden",style:{width:t,height:t},children:[n.jsx("div",{className:"absolute top-[5%] left-[5%] w-[90%]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute w-10 h-7 bg-slate-600 rounded-full -top-4 left-2"}),n.jsx("div",{className:"absolute w-14 h-9 bg-slate-700 rounded-full -top-5 left-7"}),n.jsx("div",{className:"w-full h-7 bg-slate-600 rounded-full"})]})}),n.jsx("svg",{className:"absolute top-[40%] left-[35%] w-[30%] h-[45%] animate-lightning",viewBox:"0 0 24 36",children:n.jsx("path",{d:"M13 0L4 14h6l-4 12 11-16h-6z",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"1"})}),[...Array(4)].map((l,d)=>n.jsx("div",{className:"absolute w-0.5 h-2 bg-blue-400 rounded-full animate-rain",style:{left:`${20+d*18}%`,top:"55%",animationDelay:`${d*.15}s`}},d))]}),fog:n.jsx("div",{className:"relative",style:{width:t,height:t},children:[...Array(4)].map((l,d)=>n.jsx("div",{className:"absolute h-2 bg-slate-400 rounded-full animate-fog",style:{width:`${o[d].width}%`,left:`${o[d].left}%`,top:`${20+d*20}%`,opacity:o[d].opacity,animationDelay:`${d*.5}s`}},d))})};return n.jsx("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:a[e]||a.cloudy})},sm=()=>{const[e,t]=g.useState(null),[s,i]=g.useState(!1),[r,o]=g.useState(!1),[a,l]=g.useState(!1),[d,h]=g.useState("default"),[m,c]=g.useState(!1);g.useEffect(()=>{const x=window.matchMedia("(display-mode: standalone)").matches,v=window.navigator.standalone===!0;o(x||v),c("Notification"in window),"Notification"in window&&h(Notification.permission);const y=b=>{b.preventDefault(),t(b),i(!0),setTimeout(()=>l(!0),2e3)};return window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",()=>{o(!0),i(!1),l(!1),t(null)}),()=>{window.removeEventListener("beforeinstallprompt",y)}},[]);const u=async()=>{if(e){try{e.prompt();const{outcome:x}=await e.userChoice;x==="accepted"&&console.log("User accepted the install prompt")}catch(x){console.error("Install error:",x)}t(null),l(!1)}},f=async()=>{if(!m){alert("    ");return}try{const x=await Notification.requestPermission();h(x),x==="granted"&&new Notification("",{body:" !      .",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",vibrate:[100,50,100]})}catch(x){console.error("Notification error:",x)}},p=()=>{if(Notification.permission==="granted")try{new Notification("",{body:"  .     !",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:"test-notification",requireInteraction:!0})}catch(x){console.error("Notification error:",x)}},j=()=>{l(!1)};return r?null:n.jsxs(n.Fragment,{children:[s&&!a&&n.jsx("button",{onClick:u,className:"p-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors",title:" ","aria-label":" ",children:n.jsx(os,{className:"w-5 h-5 text-slate-300"})}),a&&s&&n.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up",role:"dialog","aria-labelledby":"install-dialog-title",children:n.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg flex-shrink-0",children:n.jsx(os,{className:"w-5 h-5 text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{id:"install-dialog-title",className:"font-semibold text-slate-100 mb-1 text-sm",children:" "}),n.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"      "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:u,className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors",children:""}),n.jsx("button",{onClick:j,className:"px-3 py-2 bg-slate-700 text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-600 transition-colors",children:""})]})]}),n.jsx("button",{onClick:j,className:"p-1 text-slate-400 hover:text-slate-300 flex-shrink-0","aria-label":"",children:n.jsx(pe,{className:"w-4 h-4"})})]})})}),n.jsx("div",{className:"fixed bottom-20 right-4 z-40 md:bottom-4",children:m&&n.jsx("button",{onClick:f,className:"p-3 rounded-full border shadow-lg transition-all active:scale-95 bg-slate-800 border-slate-700 hover:bg-slate-700",title:d==="granted"?" ":" ","aria-label":d==="granted"?" ":" ",children:n.jsx(Ke,{className:`w-5 h-5 ${d==="granted"?"text-green-400":"text-slate-300"}`})})}),d==="granted"&&n.jsx("div",{className:"fixed bottom-4 right-4 z-40 hidden md:block",children:n.jsx("button",{onClick:p,className:"p-3 rounded-full bg-slate-800 border border-slate-700 hover:bg-slate-700 transition-colors shadow-lg active:scale-95",title:" ","aria-label":" ",children:n.jsx(Ke,{className:"w-5 h-5 text-green-400"})})})]})},nm=({onCitySelect:e})=>{const[t,s]=g.useState(""),[i,r]=g.useState([]),[o,a]=g.useState(!1),[l,d]=g.useState(!1),[h,m]=g.useState([]),[c,u]=g.useState([]);g.useEffect(()=>{const y=localStorage.getItem("favorite_cities"),b=localStorage.getItem("recent_searches");y&&m(JSON.parse(y)),b&&u(JSON.parse(b))},[]);const f=g.useCallback(async y=>{if(y.length<2){r([]);return}a(!0);try{const b=await Se.searchCity(y);r(b)}catch(b){console.error("Search error:",b),r([])}finally{a(!1)}},[]);g.useEffect(()=>{const y=setTimeout(()=>{t?f(t):r([])},300);return()=>clearTimeout(y)},[t,f]);const p=y=>{e(y),s(""),r([]),d(!1);const b=[{...y,searchedAt:Date.now()},...c.filter(S=>S.name!==y.name)].slice(0,5);u(b),localStorage.setItem("recent_searches",JSON.stringify(b))},j=(y,b)=>{b.stopPropagation();const S=h.find(C=>C.name===y.name);let N;S?N=h.filter(C=>C.name!==y.name):N=[...h,{...y,addedAt:Date.now()}],m(N),localStorage.setItem("favorite_cities",JSON.stringify(N))},x=(y,b)=>{b.stopPropagation();const S=c.filter(N=>N.name!==y);u(S),localStorage.setItem("recent_searches",JSON.stringify(S))},v=(y,b)=>{b.stopPropagation();const S=h.filter(N=>N.name!==y);m(S),localStorage.setItem("favorite_cities",JSON.stringify(S))};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:t,onChange:y=>{s(y.target.value),d(!0)},onFocus:()=>d(!0),placeholder:" ...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),t&&n.jsx("button",{onClick:()=>{s(""),r([])},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:n.jsx(pe,{className:"w-4 h-4"})})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl z-50 max-h-96 overflow-y-auto animate-fade-in-up",children:[!t&&h.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-2",children:" "}),h.map(y=>n.jsxs("button",{onClick:()=>p(y),className:"w-full flex items-center justify-between p-2 hover:bg-slate-700 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mn,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-medium text-slate-100",children:y.name}),n.jsx("div",{className:"text-xs text-slate-400",children:y.country})]})]}),n.jsx("button",{onClick:b=>v(y.name,b),className:"p-1 text-slate-400 hover:text-red-400",children:n.jsx(pe,{className:"w-4 h-4"})})]},`fav-${y.name}`))]}),!t&&c.length>0&&h.length>0&&n.jsx("div",{className:"border-t border-slate-700"}),!t&&c.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-2",children:[n.jsx(Ee,{className:"w-3 h-3 inline mr-1"}),""]}),c.map(y=>n.jsxs("button",{onClick:()=>p(y),className:"w-full flex items-center justify-between p-2 hover:bg-slate-700 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ee,{className:"w-4 h-4 text-slate-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-medium text-slate-100",children:y.name}),n.jsx("div",{className:"text-xs text-slate-400",children:y.country})]})]}),n.jsx("button",{onClick:b=>x(y.name,b),className:"p-1 text-slate-400 hover:text-red-400",children:n.jsx(pe,{className:"w-4 h-4"})})]},`recent-${y.name}`))]}),t&&o&&n.jsxs("div",{className:"p-4 text-center text-slate-400",children:[n.jsx("div",{className:"animate-spin-slow inline-block",children:n.jsx(Tn,{className:"w-6 h-6"})}),n.jsx("p",{className:"mt-2 text-sm",children:"..."})]}),t&&!o&&i.length===0&&n.jsxs("div",{className:"p-4 text-center text-slate-400",children:[n.jsx(yt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"  "})]}),t&&!o&&i.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-2",children:" "}),i.map((y,b)=>{const S=h.some(N=>N.name===y.name);return n.jsxs("button",{onClick:()=>p(y),className:"w-full flex items-center justify-between p-2 hover:bg-slate-700 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yt,{className:"w-4 h-4 text-blue-400"}),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"text-sm font-medium text-slate-100",children:[y.name,y.state&&`, ${y.state}`]}),n.jsx("div",{className:"text-xs text-slate-400",children:y.country})]})]}),n.jsx("button",{onClick:N=>j(y,N),className:`p-1 transition-colors ${S?"text-yellow-400":"text-slate-400 hover:text-yellow-400"}`,children:n.jsx(Mn,{className:`w-4 h-4 ${S?"fill-yellow-400":""}`})})]},`result-${y.name}-${b}`)})]}),n.jsx("div",{className:"p-2 border-t border-slate-700",children:n.jsx("button",{onClick:()=>d(!1),className:"w-full py-2 text-sm text-slate-400 hover:text-slate-300 hover:bg-slate-700 rounded-lg transition-colors",children:""})})]})]})]})},im=({isOpen:e,onClose:t,currentWeather:s,location:i})=>{const[r,o]=g.useState([]),[a,l]=g.useState("07:00"),[d,h]=g.useState("morning");g.useEffect(()=>{const x=localStorage.getItem("weather_alarms");x&&o(JSON.parse(x))},[]),g.useEffect(()=>{localStorage.setItem("weather_alarms",JSON.stringify(r))},[r]),g.useEffect(()=>{const x=setInterval(()=>{const v=new Date,y=`${String(v.getHours()).padStart(2,"0")}:${String(v.getMinutes()).padStart(2,"0")}`;r.forEach(b=>{b.enabled&&b.time===y&&!b.triggeredToday&&(m(b),j(b.id))}),v.getHours()===0&&v.getMinutes()===0&&p()},6e4);return()=>clearInterval(x)},[r]);const m=x=>{if(Notification.permission==="granted"){const v={morning:`  !   : ${Math.round(s?.temperature||0)}C`,evening:`  !  : ${Math.round(s?.temperature||0)}C`,custom:x.customMessage||"  !"};new Notification("",{body:v[x.messageType]||v.morning,icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",vibrate:[200,100,200],tag:`alarm-${x.id}`,requireInteraction:!0})}},c=()=>{const x={id:Date.now(),time:a,messageType:d,customMessage:d==="custom"?" !":"",enabled:!0,triggeredToday:!1,createdAt:new Date().toISOString()};o([...r,x])},u=x=>{o(r.filter(v=>v.id!==x))},f=x=>{o(r.map(v=>v.id===x?{...v,enabled:!v.enabled}:v))},p=()=>{o(r.map(x=>({...x,triggeredToday:!1})))},j=x=>{o(r.map(v=>v.id===x?{...v,triggeredToday:!0}:v))};return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:n.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md shadow-2xl border border-slate-700 animate-modal-open",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ke,{className:"w-5 h-5 text-blue-400"}),n.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:" "})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:n.jsx(pe,{className:"w-5 h-5 text-slate-400"})})]}),n.jsxs("div",{className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[n.jsx(Ee,{className:"w-4 h-4"}),n.jsx("span",{children:" "})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"time",value:a,onChange:x=>l(x.target.value),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 text-sm focus:outline-none focus:border-blue-500"}),n.jsxs("select",{value:d,onChange:x=>h(x.target.value),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 text-sm focus:outline-none focus:border-blue-500",children:[n.jsx("option",{value:"morning",children:" "}),n.jsx("option",{value:"evening",children:" "}),n.jsx("option",{value:"custom",children:" "})]})]}),n.jsxs("button",{onClick:c,className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[n.jsx(yo,{className:"w-4 h-4"}),""]})]}),r.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:" "}),r.map(x=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${x.enabled&&!x.triggeredToday?"bg-blue-500/10 border-blue-500/30":x.triggeredToday?"bg-slate-700/30 border-slate-600/30 opacity-50":"bg-slate-700/30 border-slate-600/30"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${x.enabled?"bg-blue-500/20":"bg-slate-600/20"}`,children:n.jsx(Ee,{className:`w-4 h-4 ${x.enabled?"text-blue-400":"text-slate-400"}`})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-100",children:x.time}),n.jsxs("div",{className:"text-xs text-slate-400",children:[x.messageType==="morning"&&"  ",x.messageType==="evening"&&"  ",x.messageType==="custom"&&" "]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>f(x.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${x.enabled?"bg-blue-500 text-white":"bg-slate-600 text-slate-300"}`,children:x.enabled?"":""}),n.jsx("button",{onClick:()=>u(x.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:n.jsx(bo,{className:"w-4 h-4"})})]})]},x.id))]}),r.length===0&&n.jsxs("div",{className:"text-center py-8 text-slate-400",children:[n.jsx(Ke,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"  "}),n.jsx("p",{className:"text-xs mt-1",children:"   "})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-xs text-slate-400",children:[n.jsx("p",{children:"      "}),n.jsx("p",{className:"mt-1",children:"     "})]})]})]})}):null},rs={ocean:{name:"",primary:"from-blue-500 to-cyan-500",bg:"bg-slate-900",accent:"text-cyan-400",gradient:"linear-gradient(135deg, #0c4a6e 0%, #0f172a 100%)",preview:"bg-gradient-to-br from-blue-600 to-cyan-500"},sunset:{name:"",primary:"from-orange-500 to-pink-500",bg:"bg-slate-900",accent:"text-orange-400",gradient:"linear-gradient(135deg, #7c2d12 0%, #0f172a 100%)",preview:"bg-gradient-to-br from-orange-600 to-pink-500"},forest:{name:"",primary:"from-green-500 to-emerald-500",bg:"bg-slate-900",accent:"text-green-400",gradient:"linear-gradient(135deg, #064e3b 0%, #0f172a 100%)",preview:"bg-gradient-to-br from-green-600 to-emerald-500"},midnight:{name:"",primary:"from-purple-500 to-indigo-500",bg:"bg-slate-900",accent:"text-purple-400",gradient:"linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%)",preview:"bg-gradient-to-br from-purple-600 to-indigo-500"},arctic:{name:"",primary:"from-cyan-400 to-blue-400",bg:"bg-slate-800",accent:"text-cyan-300",gradient:"linear-gradient(135deg, #164e63 0%, #1e293b 100%)",preview:"bg-gradient-to-br from-cyan-400 to-blue-300"},fire:{name:"",primary:"from-red-500 to-orange-500",bg:"bg-slate-900",accent:"text-red-400",gradient:"linear-gradient(135deg, #7f1d1d 0%, #0f172a 100%)",preview:"bg-gradient-to-br from-red-600 to-orange-500"}},rm=()=>{const[e,t]=g.useState("ocean"),[s,i]=g.useState(!1);g.useEffect(()=>{const a=localStorage.getItem("weather_theme");a&&rs[a]&&(t(a),r(a))},[]);const r=a=>{const l=rs[a],d=document.documentElement;d.style.setProperty("--theme-primary",l.primary),d.style.setProperty("--theme-bg",l.bg),d.style.setProperty("--theme-accent",l.accent),localStorage.setItem("weather_theme",a),t(a)},o=a=>{r(a),i(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>i(!s),className:"p-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors",title:" ",children:n.jsx(Cn,{className:"w-5 h-5 text-slate-300"})}),s&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),n.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl z-50 w-72 animate-fade-in-up",children:[n.jsx("div",{className:"p-4 border-b border-slate-700",children:n.jsxs("h3",{className:"font-semibold text-slate-100 flex items-center gap-2",children:[n.jsx(Cn,{className:"w-4 h-4"})," "]})}),n.jsx("div",{className:"p-3 grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:Object.entries(rs).map(([a,l])=>n.jsxs("button",{onClick:()=>o(a),className:`relative p-3 rounded-lg border transition-all card-hover ${e===a?"border-blue-500 bg-slate-700":"border-slate-600 bg-slate-700/50 hover:bg-slate-700"}`,children:[n.jsx("div",{className:`h-12 rounded-lg ${l.preview} mb-2`}),n.jsx("div",{className:"text-sm font-medium text-slate-100",children:l.name}),e===a&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Is,{className:"w-4 h-4 text-blue-400"})})]},a))}),n.jsx("div",{className:"p-3 border-t border-slate-700 text-xs text-slate-400 text-center",children:"  "})]})]})]})},am=({weatherType:e="clear"})=>{const[t,s]=g.useState([]);g.useEffect(()=>{const r=e==="snow"?50:e==="rain"?30:15,o=[];for(let a=0;a<r;a++)o.push({id:a,left:Math.random()*100,delay:Math.random()*20,duration:15+Math.random()*10,size:2+Math.random()*4,opacity:.1+Math.random()*.3});s(o)},[e]);const i=()=>{switch(e){case"snow":return"rgba(255, 255, 255, 0.8)";case"rain":return"rgba(96, 165, 250, 0.6)";case"sunny":return"rgba(251, 191, 36, 0.4)";default:return"rgba(148, 163, 184, 0.3)"}};return n.jsx("div",{className:"particles-container","aria-hidden":"true",children:t.map(r=>n.jsx("div",{className:"particle",style:{left:`${r.left}%`,bottom:"-10px",width:`${r.size}px`,height:`${r.size}px`,backgroundColor:i(),animationDelay:`${r.delay}s`,animationDuration:`${r.duration}s`,opacity:r.opacity}},r.id))})},om=()=>n.jsx("a",{href:"#main-content",className:"skip-link",children:"   "}),lm=({data:e})=>e?n.jsx("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:e&&n.jsxs(n.Fragment,{children:["  ",Math.round(e.temperature)," .",e.condition?.label,".   ",Math.round(e.feelsLike)," .  ",e.humidity," .  ",Math.round(e.windSpeed),"   .",e.windDirectionLabel&&`,  ${e.windDirectionLabel}`,".  ",Math.round(e.pressure*.75),"   .  ",Math.round(e.visibility)," ."]})}):null,Yi={CACHE_NAME:"weather-dashboard-v3",OFFLINE_DATA_KEY:"weather-offline-data",async cacheWeatherData(e){try{await(await caches.open(this.CACHE_NAME)).put("/api/weather",new Response(JSON.stringify(e))),localStorage.setItem(this.OFFLINE_DATA_KEY,JSON.stringify({data:e,timestamp:Date.now()}))}catch(t){console.error("Failed to cache data:",t)}},async getCachedData(){try{const e=localStorage.getItem(this.OFFLINE_DATA_KEY);if(!e)return null;const{data:t,timestamp:s}=JSON.parse(e),i=(Date.now()-s)/(1e3*60*60);return{data:t,isStale:i>6,hoursSinceCache:i.toFixed(1)}}catch(e){return console.error("Failed to get cached data:",e),null}},isOnline(){return navigator.onLine},onStatusChange(e){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",s),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}},cm=()=>{const[e,t]=g.useState(navigator.onLine),[s,i]=g.useState(null);return g.useEffect(()=>{const r=Yi.onStatusChange(t);return e||Yi.getCachedData().then(i),r},[e]),e?null:n.jsx($t,{children:n.jsx(w.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 safe-area-top px-4",role:"alert","aria-live":"assertive",children:n.jsx("div",{className:"mx-auto max-w-2xl mt-4 p-4 bg-amber-500/90 backdrop-blur-lg rounded-2xl shadow-xl border border-amber-400/30",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vo,{className:"w-5 h-5 text-white flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:"   "}),s&&n.jsxs("p",{className:"text-xs text-white/80 mt-1",children:["  ",s.hoursSinceCache," "]})]}),n.jsx(wo,{className:"w-5 h-5 text-white/80 flex-shrink-0"})]})})})})},k=({children:e,className:t="",title:s,icon:i,action:r,variant:o="glass",gradient:a=!1,size:l="md",hover:d=!0})=>{const h={sm:"p-3",md:"p-4",lg:"p-5 sm:p-6",full:"p-4 sm:p-6"},m={glass:"card-glass",default:"bg-slate-800/80 border border-slate-700/50 backdrop-blur-sm",gradient:"card-glass card-gradient-header",minimal:"bg-transparent border border-slate-700/30"},c=d?"card-hover":"",u=`${m[o]} ${a?"card-gradient-header":""} ${h[l]} ${c} ${t}`.trim(),f={hidden:{opacity:0,y:24,scale:.98},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.34,1.56,.64,1]}}};return n.jsxs(w.div,{className:u,variants:f,initial:"hidden",animate:"visible",whileHover:d?{y:-6,transition:{duration:.25,ease:"easeOut"}}:void 0,layout:!0,children:[(s||i||r)&&n.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[i&&n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"absolute inset-0 bg-blue-500/30 blur-lg rounded-full opacity-60"}),n.jsx(i,{className:"w-5 h-5 text-blue-400 relative z-10"})]}),s&&n.jsx("h3",{className:"text-sm font-semibold text-slate-200 truncate tracking-tight",children:s})]}),r&&n.jsx("div",{className:"flex-shrink-0 ml-2",children:r})]}),n.jsx("div",{className:"relative z-10",children:e})]})},dm=({alerts:e=[],current:t})=>{const[s,i]=g.useState([]),r=()=>{const m=[];return t&&(t.temperature<=-20?m.push({id:"extreme-cold",event:" ",description:` ${Math.round(t.temperature)}C.   .`,severity:"extreme",icon:se,expires:" "}):t.temperature<=-10?m.push({id:"very-cold",event:" ",description:` ${Math.round(t.temperature)}C.  .`,severity:"severe",icon:se,expires:" "}):t.temperature>=35&&m.push({id:"extreme-heat",event:" ",description:` ${Math.round(t.temperature)}C.  .`,severity:"extreme",icon:se,expires:" "}),t.windSpeed>=25?m.push({id:"storm-warning",event:" ",description:` ${Math.round(t.windSpeed)} /.  .`,severity:"extreme",icon:ye,expires:"  "}):t.windSpeed>=15&&m.push({id:"wind-warning",event:" ",description:` ${Math.round(t.windSpeed)} /.  .`,severity:"moderate",icon:ye,expires:"  "}),t.uvIndex>=8?m.push({id:"uv-extreme",event:" -",description:`- ${t.uvIndex}.   .`,severity:"extreme",icon:ne,expires:"  "}):t.uvIndex>=6&&m.push({id:"uv-high",event:" -",description:`- ${t.uvIndex}.  SPF .`,severity:"moderate",icon:ne,expires:"  "}),t.condition?.code==="thunderstorm"&&m.push({id:"thunderstorm",event:"",description:" .   .",severity:"severe",icon:ct,expires:"  "})),m},a=[...e||[],...r()].filter(m=>!s.includes(m.id)),l=(m,c)=>{if(c)return c;switch(m){case"extreme":return ct;case"severe":return xe;default:return ls}},d=m=>{const c={extreme:"from-red-500/30 to-orange-500/30 border-red-500/50 text-red-400",severe:"from-orange-500/30 to-amber-500/30 border-orange-500/50 text-orange-400",moderate:"from-yellow-500/30 border-yellow-500/50 text-yellow-400",minor:"from-blue-500/30 border-blue-500/50 text-blue-400"};return c[m]||c.minor},h=m=>{const c={extreme:"bg-red-500/20",severe:"bg-orange-500/20",moderate:"bg-yellow-500/20",minor:"bg-blue-500/20"};return c[m]||c.minor};return a.length===0?n.jsx(k,{title:"",icon:xe,children:n.jsx("div",{className:"flex items-center justify-center py-8 text-slate-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-green-500/20 flex items-center justify-center",children:n.jsx(ls,{className:"w-6 h-6 text-green-400"})}),n.jsx("p",{className:"text-sm",children:"  "}),n.jsx("p",{className:"text-xs mt-1",children:" "})]})})}):n.jsx(k,{title:" ",icon:ct,className:"col-span-full",children:n.jsx("div",{className:"space-y-3",children:n.jsx($t,{children:a.map(m=>{const c=l(m.severity,m.icon);return n.jsx(w.div,{className:`p-4 rounded-xl bg-gradient-to-r border ${d(m.severity)} ${h(m.severity)}`,initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:300,scale:.9},layout:!0,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(c,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-sm",children:m.event}),n.jsx("p",{className:"text-xs opacity-90 mt-1 line-clamp-2",children:m.description}),m.expires&&n.jsxs("p",{className:"text-xs opacity-75 mt-2 font-mono",children:[" ",m.expires]})]}),n.jsx("button",{onClick:()=>i([...s,m.id]),className:"p-1 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":" ",children:n.jsx(pe,{className:"w-4 h-4"})})]})},m.id)})})})})},Ae=(e,t=!0)=>{const s=Math.round(e);return t?`${s}C`:`${s}`},Ji=(e,t="/")=>`${Math.round(e)} ${t}`,um=(e,t=" ..")=>`${Math.round(e*.750062)} ${t}`,hm=e=>`${Math.round(e)} `,mm=e=>e<=2?{level:"",color:"text-green-400"}:e<=5?{level:"",color:"text-yellow-400"}:e<=7?{level:"",color:"text-orange-400"}:e<=10?{level:" ",color:"text-red-400"}:{level:"",color:"text-purple-400"},fm=e=>e<=50?{level:"",color:"bg-green-500"}:e<=100?{level:"",color:"bg-yellow-500"}:e<=150?{level:"  ",color:"bg-orange-500"}:e<=200?{level:"",color:"bg-red-500"}:{level:"",color:"bg-purple-500"},ve=({label:e,value:t,subValue:s,icon:i,delay:r=0,color:o="blue"})=>{const a={blue:"from-blue-500/20 to-cyan-500/20 border-blue-400/30 text-blue-400",purple:"from-purple-500/20 to-pink-500/20 border-purple-400/30 text-purple-400",orange:"from-orange-500/20 to-amber-500/20 border-orange-400/30 text-orange-400",green:"from-green-500/20 to-emerald-500/20 border-green-400/30 text-green-400"};return n.jsxs(w.div,{className:`flex flex-col items-center text-center p-3 rounded-xl bg-gradient-to-br ${a[o]} border backdrop-blur-sm min-w-0 card-glass`,whileHover:{scale:1.08,y:-4},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r,duration:.35,type:"spring"},children:[n.jsx(w.div,{className:"p-2 rounded-xl mb-2 bg-slate-800/50",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:n.jsx(i,{className:"w-5 h-5"})}),n.jsx("p",{className:"text-xs text-slate-400 truncate w-full font-medium",children:e}),n.jsx("p",{className:"text-sm font-bold text-slate-100 truncate w-full font-mono mt-0.5",children:t}),s&&n.jsx("p",{className:"text-xs text-slate-500 truncate w-full mt-0.5",children:s})]})},pm=({data:e,location:t})=>e?n.jsxs(k,{className:"col-span-full lg:col-span-2 card-gradient-header",variant:"gradient",size:"lg",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[n.jsxs(w.div,{className:"flex items-center gap-5 flex-1",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.1,duration:.5},children:[n.jsx(w.div,{className:"w-20 h-20 sm:w-24 sm:h-24 flex-shrink-0 flex items-center justify-center bg-gradient-to-br from-blue-500/25 to-purple-500/25 rounded-3xl overflow-hidden ring-2 ring-white/15 shadow-xl shadow-blue-500/20",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:400},children:n.jsx(Ls,{type:e.condition?.animation||"cloudy",size:64})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs(w.div,{className:"flex items-baseline gap-2",initial:{scale:.9},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:300},children:[n.jsx("span",{className:"text-5xl sm:text-6xl md:text-7xl font-bold bg-gradient-to-r from-orange-400 via-pink-400 to-orange-400 bg-clip-text text-transparent font-mono tracking-tighter",children:Ae(e.temperature,!1)}),n.jsx("span",{className:"text-2xl sm:text-3xl text-slate-400 font-light",children:"C"})]}),n.jsx(w.p,{className:"text-slate-300 mt-2 text-base sm:text-lg font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:e.condition?.label||"..."}),n.jsxs(w.div,{className:"flex items-center gap-2 mt-2 text-sm text-slate-400",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsx("div",{className:"p-1.5 bg-slate-800/50 rounded-lg",children:n.jsx(se,{className:"w-4 h-4"})}),n.jsxs("span",{children:["  ",n.jsx("span",{className:"font-mono text-slate-200 font-semibold",children:Ae(e.feelsLike)})]})]})]})]}),n.jsxs(w.div,{className:"flex flex-col justify-center lg:text-left border-t lg:border-t-0 lg:border-l border-slate-700/50 pt-4 lg:pt-0 lg:pl-6",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.15,duration:.5},children:[n.jsx(w.h2,{className:"text-xl sm:text-2xl font-bold text-slate-100 tracking-tight",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:t?.city||"..."}),n.jsx(w.p,{className:"text-sm text-slate-400 mt-1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:t?.country||""}),n.jsxs(w.div,{className:"flex items-center gap-2 mt-3 text-xs text-slate-500",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsx(w.span,{className:"w-2.5 h-2.5 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}}),n.jsxs("span",{children:[": ",e.lastUpdated]})]})]})]}),n.jsxs(w.div,{className:"grid grid-cols-3 sm:grid-cols-3 lg:grid-cols-6 gap-2.5 sm:gap-3 mt-6 lg:mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35,duration:.5},children:[n.jsx(ve,{icon:ee,label:"",value:`${e.humidity}%`,delay:.4,color:"blue"}),n.jsx(ve,{icon:ye,label:"",value:Ji(e.windSpeed),subValue:` ${Ji(e.windGust)}`,delay:.45,color:"purple"}),n.jsx(ve,{icon:jo,label:".",value:e.windDirectionLabel,subValue:`${e.windDirection}`,delay:.5,color:"orange"}),n.jsx(ve,{icon:lr,label:"",value:um(e.pressure),delay:.55,color:"green"}),n.jsx(ve,{icon:No,label:"",value:hm(e.visibility),delay:.6,color:"blue"}),n.jsx(ve,{icon:se,label:". ",value:Ae(e.dewPoint),delay:.65,color:"purple"})]})]}):null,xm=(e,t=6)=>{const s=`w-${t} h-${t}`;return e>.5?n.jsx(Os,{className:`${s} text-blue-400`}):n.jsx(ne,{className:`${s} text-amber-400`})},gm=({data:e,isNow:t,index:s})=>n.jsxs(w.div,{className:`flex flex-col items-center p-3 sm:p-3.5 rounded-2xl min-w-[72px] sm:min-w-[84px] transition-all backdrop-blur-sm ${t?"bg-gradient-to-br from-blue-500/40 to-cyan-500/40 border border-blue-400/50 shadow-xl shadow-blue-500/25":"bg-slate-700/30 hover:bg-slate-700/50 border border-slate-600/30 card-glass"}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:s*.03,duration:.35,type:"spring"},whileHover:{scale:1.08,y:-4},layout:!0,children:[n.jsx("span",{className:`text-xs font-medium ${t?"text-blue-300":"text-slate-400"}`,children:t?"":e.hour}),n.jsx(w.div,{className:"my-2",whileHover:{scale:1.15,rotate:10},transition:{type:"spring",stiffness:400},children:xm(e.precipitation)}),n.jsxs("span",{className:"text-base font-bold text-slate-100 font-mono",children:[Ae(e.temperature,!1),""]}),e.precipitationProbability>20&&n.jsxs(w.div,{className:"flex items-center gap-1 mt-1.5 px-2 py-0.5 bg-blue-500/20 rounded-full",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:s*.03+.2,type:"spring"},children:[n.jsx(ee,{className:"w-3 h-3 text-blue-400"}),n.jsxs("span",{className:"text-xs text-blue-300 font-mono font-semibold",children:[e.precipitationProbability,"%"]})]})]}),ym=({data:e,isToday:t,index:s})=>n.jsxs(w.div,{className:`flex items-center justify-between p-4 sm:p-4.5 rounded-2xl gap-4 transition-all backdrop-blur-sm ${t?"bg-gradient-to-r from-blue-500/30 to-cyan-500/30 border border-blue-400/50 shadow-xl shadow-blue-500/20":"bg-slate-700/30 hover:bg-slate-700/50 border border-slate-600/30 card-glass"}`,initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:s*.05,duration:.4},whileHover:{x:6,scale:1.01},layout:!0,children:[n.jsx("div",{className:"flex items-center gap-3 sm:gap-4 min-w-[90px] sm:min-w-[120px]",children:n.jsxs(w.div,{className:"text-left",whileHover:{scale:1.05},children:[n.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-100",children:e.dayName}),n.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[e.dayNumber," ",e.month]})]})}),n.jsx("div",{className:"flex items-center gap-2",children:e.precipitationProbability>20&&n.jsxs(w.div,{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-500/20 rounded-full",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:s*.05+.15,type:"spring"},children:[n.jsx(ee,{className:"w-4 h-4 text-blue-400"}),n.jsxs("span",{className:"text-sm text-blue-300 font-mono font-semibold",children:[e.precipitationProbability,"%"]})]})}),n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[n.jsxs("span",{className:"text-sm text-slate-400 w-10 text-right font-mono",children:[Ae(e.tempMin,!1),""]}),n.jsx("div",{className:"hidden sm:block w-24 md:w-32 h-3 bg-slate-700/60 rounded-full overflow-hidden shadow-inner",children:n.jsx(w.div,{className:"h-full bg-gradient-to-r from-blue-400 via-cyan-400 to-amber-400 rounded-full",initial:{width:0,opacity:0},animate:{width:"100%",opacity:1},transition:{delay:s*.05+.25,duration:.6,ease:"easeOut"}})}),n.jsxs("span",{className:"text-sm font-bold text-slate-100 w-10 font-mono",children:[Ae(e.tempMax,!1),""]})]})]}),bm=({hourlyData:e,dailyData:t})=>{const[s,i]=g.useState("hourly");if(!e||!t)return null;const r={inactive:{scale:1,backgroundColor:"rgba(51, 65, 85, 0.5)"},active:{scale:1.02,backgroundColor:"rgba(59, 130, 246, 0.9)",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.4)"}};return n.jsxs(k,{className:"col-span-full",variant:"gradient",size:"lg",children:[n.jsxs("div",{className:"flex gap-2 mb-5",children:[n.jsxs(w.button,{onClick:()=>i("hourly"),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-semibold transition-all backdrop-blur-sm border ${s==="hourly"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/30 border-blue-400/50":"bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 border-slate-600/30"}`,variants:r,animate:s==="hourly"?"active":"inactive",whileHover:{scale:1.05},whileTap:{scale:.97},children:[n.jsx(Ee,{className:"w-4 h-4"}),""]}),n.jsxs(w.button,{onClick:()=>i("daily"),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-semibold transition-all backdrop-blur-sm border ${s==="daily"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/30 border-blue-400/50":"bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 border-slate-600/30"}`,variants:r,animate:s==="daily"?"active":"inactive",whileHover:{scale:1.05},whileTap:{scale:.97},children:[n.jsx(Fs,{className:"w-4 h-4"})," "]})]}),n.jsx($t,{mode:"wait",children:s==="hourly"?n.jsx(w.div,{className:"flex gap-2.5 overflow-x-auto pb-3 scrollbar-thin",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.slice(0,24).map((o,a)=>n.jsx(gm,{data:o,isNow:a===0,index:a},a))},"hourly"):n.jsx(w.div,{className:"flex flex-col gap-2.5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:t.map((o,a)=>n.jsx(ym,{data:o,isToday:a===0,index:a},a))},"daily")})]})},vm=({active:e,payload:t,label:s})=>e&&t&&t.length?n.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800/95 backdrop-blur-xl border border-slate-600/50 rounded-xl p-3 shadow-2xl",children:[n.jsx("p",{className:"text-slate-300 text-sm font-medium mb-2",children:s}),t.map((i,r)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),n.jsxs("span",{className:"text-sm font-semibold",style:{color:i.color},children:[i.name,": ",i.value,"C"]})]},r))]}):null,wm=({data:e})=>{if(!e||e.length===0)return null;const t=e.slice(0,24).map(o=>({time:o.hour,temperature:o.temperature,feelsLike:o.feelsLike})),s=t.map(o=>o.temperature),i=Math.floor(Math.min(...s))-1,r=Math.ceil(Math.max(...s))+1;return n.jsxs(k,{title:"",icon:se,className:"col-span-full lg:col-span-2 card-gradient-header",variant:"gradient",children:[n.jsx("div",{className:"h-64",children:n.jsx(Ze,{width:"100%",height:"100%",children:n.jsxs(hr,{data:t,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"tempGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.4}),n.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"feelsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.4}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),n.jsx(kt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.5}),n.jsx(Dt,{dataKey:"time",stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:12},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"}}),n.jsx(At,{stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:12},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"},domain:[i,r],tickFormatter:o=>`${o}`,width:35}),n.jsx(Et,{content:n.jsx(vm,{})}),n.jsx(ds,{type:"monotone",dataKey:"temperature",stroke:"#f97316",strokeWidth:3,fill:"url(#tempGradient)",name:"",animationDuration:1500,activeDot:{r:6,strokeWidth:2,stroke:"#fff"}}),n.jsx(ds,{type:"monotone",dataKey:"feelsLike",stroke:"#3b82f6",strokeWidth:3,fill:"url(#feelsGradient)",name:" ",animationDuration:1500,activeDot:{r:6,strokeWidth:2,stroke:"#fff"}})]})})}),n.jsxs("div",{className:"flex gap-4 mt-3 justify-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-blue-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:" "})]})]})]})},jm=({active:e,payload:t,label:s})=>e&&t&&t.length?n.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800/95 backdrop-blur-xl border border-slate-600/50 rounded-xl p-3 shadow-2xl",children:[n.jsx("p",{className:"text-slate-300 text-sm font-medium mb-2",children:s}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ee,{className:"w-4 h-4 text-cyan-400"}),n.jsxs("p",{className:"text-sm font-semibold text-cyan-400",children:[t[0].value,"%"]})]})]}):null,Nm=({data:e})=>{if(!e||e.length===0)return null;const t=e.slice(0,24).map(s=>({time:s.hour,humidity:s.humidity}));return n.jsxs(k,{title:"",icon:ee,variant:"glass",className:"card-gradient-header",children:[n.jsx("div",{className:"h-48",children:n.jsx(Ze,{width:"100%",height:"100%",children:n.jsxs(hr,{data:t,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"humidityGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.5}),n.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),n.jsx(kt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.5}),n.jsx(Dt,{dataKey:"time",stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"}}),n.jsx(At,{stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"},domain:[0,100],tickFormatter:s=>`${s}%`,width:30}),n.jsx(Et,{content:n.jsx(jm,{})}),n.jsx(Bo,{y:60,stroke:"#22c55e",strokeDasharray:"5 5",label:{value:"",fill:"#22c55e",fontSize:10}}),n.jsx(ds,{type:"monotone",dataKey:"humidity",stroke:"#06b6d4",strokeWidth:3,fill:"url(#humidityGradient)",animationDuration:1500,activeDot:{r:6,strokeWidth:2,stroke:"#fff"}})]})})}),n.jsx(w.div,{className:"mt-2 text-xs text-slate-500 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"  : 40-60%"})]})},Sm=({active:e,payload:t,label:s})=>e&&t&&t.length?n.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800/95 backdrop-blur-xl border border-slate-600/50 rounded-xl p-3 shadow-2xl",children:[n.jsx("p",{className:"text-slate-300 text-sm font-medium mb-2",children:s}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Os,{className:"w-4 h-4 text-blue-400"}),n.jsxs("p",{className:"text-sm font-semibold text-blue-400",children:[t[0].value," "]})]}),t[1]&&n.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[": ",t[1].value,"%"]})]}):null,Tm=({data:e})=>{if(!e||e.length===0)return null;const t=e.slice(0,24).map(i=>({time:i.hour,precipitation:i.precipitation,probability:i.precipitationProbability})),s=i=>i>70?"#3b82f6":i>40?"#60a5fa":"#93c5fd";return n.jsxs(k,{title:"",icon:Os,variant:"glass",className:"card-gradient-header",children:[n.jsx("div",{className:"h-48",children:n.jsx(Ze,{width:"100%",height:"100%",children:n.jsxs(Wo,{data:t,children:[n.jsx(kt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.5}),n.jsx(Dt,{dataKey:"time",stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"}}),n.jsx(At,{stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"},tickFormatter:i=>`${i}`,width:25}),n.jsx(Et,{content:n.jsx(Sm,{})}),n.jsx(mr,{dataKey:"precipitation",radius:[6,6,0,0],animationDuration:1200,children:t.map((i,r)=>n.jsx(Uo,{fill:s(i.probability)},`cell-${r}`))})]})})}),n.jsxs(w.div,{className:"flex gap-4 mt-2 justify-center text-xs",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-blue-300"}),n.jsx("span",{className:"text-slate-400",children:"<40%"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-blue-400"}),n.jsx("span",{className:"text-slate-400",children:"40-70%"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),n.jsx("span",{className:"text-slate-400",children:">70%"})]})]})]})},Mm=({active:e,payload:t,label:s})=>e&&t&&t.length?n.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800/95 backdrop-blur-xl border border-slate-600/50 rounded-xl p-3 shadow-2xl",children:[n.jsx("p",{className:"text-slate-300 text-sm font-medium mb-2",children:s}),t.map((i,r)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),n.jsxs("p",{className:"text-sm",style:{color:i.color},children:[i.name,": ",i.value," /"]})]},r))]}):null,Cm=({data:e})=>{if(!e||e.length===0)return null;const t=e.slice(0,24).map(s=>({time:s.hour,windSpeed:s.windSpeed,windGust:s.windGust}));return n.jsxs(k,{title:"",icon:ye,variant:"glass",className:"card-gradient-header",children:[n.jsx("div",{className:"h-48",children:n.jsx(Ze,{width:"100%",height:"100%",children:n.jsxs(Ho,{data:t,children:[n.jsx(kt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.5}),n.jsx(Dt,{dataKey:"time",stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"}}),n.jsx(At,{stroke:"#64748b",tick:{fill:"#94a3b8",fontSize:10},tickLine:{stroke:"#475569"},axisLine:{stroke:"#334155"},tickFormatter:s=>`${s}`,width:30,label:{value:"/",angle:-90,position:"insideLeft",fill:"#64748b",fontSize:10}}),n.jsx(Et,{content:n.jsx(Mm,{})}),n.jsx(mr,{dataKey:"windSpeed",fill:"#10b981",name:"",radius:[4,4,0,0],opacity:.8,animationDuration:1200}),n.jsx(_o,{type:"monotone",dataKey:"windGust",stroke:"#f59e0b",strokeWidth:3,name:"",dot:!1,animationDuration:1200,activeDot:{r:6,strokeWidth:2,stroke:"#fff"}})]})})}),n.jsxs(w.div,{className:"flex gap-4 mt-2 justify-center text-xs",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-gradient-to-r from-emerald-500 to-green-400"}),n.jsx("span",{className:"text-slate-400",children:""})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-0.5 bg-gradient-to-r from-amber-500 to-orange-400"}),n.jsx("span",{className:"text-slate-400",children:""})]})]})]})},Pm=({data:e})=>!e||e.length===0?null:n.jsxs(k,{title:" ",icon:So,children:[n.jsx("div",{className:"h-48",children:n.jsx(Ze,{width:"100%",height:"100%",children:n.jsxs(zo,{data:e,cx:"50%",cy:"50%",outerRadius:"70%",children:[n.jsx(Ko,{stroke:"#475569"}),n.jsx(Go,{dataKey:"direction",tick:{fill:"#94a3b8",fontSize:12}}),n.jsx(Xo,{name:"",dataKey:"frequency",stroke:"#10b981",fill:"#10b981",fillOpacity:.4})]})})}),n.jsx("div",{className:"text-center mt-2",children:n.jsx("p",{className:"text-xs text-slate-500",children:"  "})})]}),km=({value:e})=>{const{level:t,color:s}=mm(e),r=Math.min(e/11*100,100),o=50,a=2*Math.PI*o,l=a-r/100*a;return n.jsx(k,{title:"-",icon:ne,variant:"glass",children:n.jsxs("div",{className:"flex flex-col items-center py-2",children:[n.jsxs("div",{className:"relative w-32 h-32",children:[n.jsxs(w.svg,{className:"w-full h-full transform -rotate-90",viewBox:"0 0 120 120",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("circle",{cx:"60",cy:"60",r:o,fill:"none",stroke:"rgba(148, 163, 184, 0.2)",strokeWidth:"12"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"uvGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),n.jsx("stop",{offset:"25%",stopColor:"#eab308"}),n.jsx("stop",{offset:"50%",stopColor:"#f97316"}),n.jsx("stop",{offset:"75%",stopColor:"#ef4444"}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]})}),n.jsx(w.circle,{cx:"60",cy:"60",r:o,fill:"none",stroke:"url(#uvGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:a,initial:{strokeDashoffset:a},animate:{strokeDashoffset:l},transition:{duration:1,ease:"easeOut"}})]}),n.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:n.jsx(w.span,{className:"text-4xl font-bold font-mono text-slate-100",initial:{scale:.5},animate:{scale:1},transition:{delay:.3,type:"spring"},children:e})})]}),n.jsx(w.div,{className:`mt-3 text-sm font-semibold ${s}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:t}),n.jsxs(w.div,{className:"mt-3 text-xs text-slate-400 text-center px-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[e<=2&&"   ",e>2&&e<=5&&"   SPF 30+",e>5&&e<=7&&"     ",e>7&&e<=10&&"    ",e>10&&"  !"]})]})})},Dm=({data:e})=>{if(!e)return null;const{level:t,color:s}=fm(e.aqi),r=Math.min(e.aqi/300*100,100),o=45,a=2*Math.PI*o,l=a-r/100*a;return n.jsx(k,{title:" ",icon:ye,variant:"glass",children:n.jsxs("div",{className:"flex flex-col items-center py-2",children:[n.jsxs("div",{className:"relative w-28 h-28",children:[n.jsxs(w.svg,{className:"w-full h-full transform -rotate-90",viewBox:"0 0 110 110",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("circle",{cx:"55",cy:"55",r:o,fill:"none",stroke:"rgba(148, 163, 184, 0.2)",strokeWidth:"10"}),n.jsx(w.circle,{cx:"55",cy:"55",r:o,fill:"none",stroke:"currentColor",strokeWidth:"10",strokeLinecap:"round",strokeDasharray:a,initial:{strokeDashoffset:a},animate:{strokeDashoffset:l},transition:{duration:1,ease:"easeOut"},className:s.replace("bg-","text-")})]}),n.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:n.jsx(w.span,{className:"text-3xl font-bold font-mono text-slate-100",initial:{scale:.5},animate:{scale:1},transition:{delay:.3,type:"spring"},children:e.aqi})})]}),n.jsx(w.div,{className:`mt-2 px-3 py-1 rounded-full text-xs font-medium text-white ${s}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:t}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full mt-4",children:[n.jsxs(w.div,{className:"bg-slate-700/40 backdrop-blur-sm rounded-lg p-2 text-center card-glass",whileHover:{scale:1.05},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[n.jsx("p",{className:"text-xs text-slate-400",children:"PM2.5"}),n.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.pm25})]}),n.jsxs(w.div,{className:"bg-slate-700/40 backdrop-blur-sm rounded-lg p-2 text-center card-glass",whileHover:{scale:1.05},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.55},children:[n.jsx("p",{className:"text-xs text-slate-400",children:"PM10"}),n.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.pm10})]}),n.jsxs(w.div,{className:"bg-slate-700/40 backdrop-blur-sm rounded-lg p-2 text-center card-glass",whileHover:{scale:1.05},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[n.jsx("p",{className:"text-xs text-slate-400",children:"O"}),n.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.o3})]}),n.jsxs(w.div,{className:"bg-slate-700/40 backdrop-blur-sm rounded-lg p-2 text-center card-glass",whileHover:{scale:1.05},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.65},children:[n.jsx("p",{className:"text-xs text-slate-400",children:"NO"}),n.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.no2})]})]})]})})},Am=({data:e})=>{if(!e)return null;const t=i=>{switch(i){case"":return"bg-green-500";case"":return"bg-yellow-500";case"":return"bg-orange-500";case" ":return"bg-red-500";default:return"bg-slate-500"}},s=i=>{switch(i){case"":return"text-green-400";case"":return"text-yellow-400";case"":return"text-orange-400";case" ":return"text-red-400";default:return"text-slate-400"}};return n.jsx(k,{title:"  ",icon:To,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400",children:" "}),n.jsx("p",{className:`text-lg font-bold ${s(e.overall)}`,children:e.overall})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-slate-100",children:e.overallIndex}),n.jsx("p",{className:"text-xs text-slate-500",children:" 100"})]})]}),n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-500 via-yellow-500 via-orange-500 to-red-500 relative",children:n.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full border-2 border-slate-800 shadow",style:{left:`${Math.min(e.overallIndex,100)}%`}})}),n.jsx("div",{className:"space-y-2",children:e.types.map((i,r)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-700/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${t(i.level)}`}),n.jsx("span",{className:"text-sm text-slate-300",children:i.name})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`text-xs ${s(i.level)}`,children:i.level}),n.jsx("span",{className:"text-sm font-medium text-slate-200 w-8 text-right",children:i.index})]})]},r))}),n.jsx("div",{className:"flex gap-2",children:e.forecast.map((i,r)=>n.jsxs("div",{className:"flex-1 p-2 bg-slate-700/30 rounded text-center",children:[n.jsx("p",{className:"text-xs text-slate-500",children:i.day}),n.jsx("div",{className:`w-2 h-2 rounded-full mx-auto mt-1 ${t(i.level)}`})]},r))}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[n.jsxs("p",{className:"text-xs text-slate-400 mb-2 flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"})," "]}),n.jsx("ul",{className:"space-y-1",children:e.recommendations.map((i,r)=>n.jsxs("li",{className:"text-xs text-slate-300 flex items-start gap-2",children:[n.jsx(Is,{className:"w-3 h-3 text-green-400 mt-0.5 flex-shrink-0"}),i]},r))})]})]})})},Em=({data:e})=>{if(!e)return null;const t=i=>{switch(i){case"green":return"text-green-400 bg-green-500/20";case"lime":return"text-lime-400 bg-lime-500/20";case"yellow":return"text-yellow-400 bg-yellow-500/20";case"orange":return"text-orange-400 bg-orange-500/20";case"red":return"text-red-400 bg-red-500/20";default:return"text-slate-400 bg-slate-500/20"}},s=i=>{switch(i){case"":return"text-green-400";case"":return"text-yellow-400";case"":return"text-red-400";default:return"text-slate-400"}};return n.jsx(k,{title:" ",icon:Mo,className:"col-span-full lg:col-span-2",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg ${t(e.conditions.color)}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"  "}),n.jsx(cr,{className:"w-5 h-5"})]}),n.jsx("p",{className:"text-2xl font-bold",children:e.conditions.status}),n.jsx("p",{className:"text-xs opacity-80 mt-1",children:e.conditions.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ee,{className:"w-4 h-4 text-blue-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:" "})]}),n.jsxs("p",{className:"text-lg font-bold text-slate-100",children:[e.soilMoisture,"%"]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(se,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:". "})]}),n.jsxs("p",{className:"text-lg font-bold text-slate-100",children:[e.soilTemperature,"C"]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Co,{className:"w-4 h-4 text-cyan-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:" "})]}),n.jsx("p",{className:`text-lg font-bold ${s(e.frostRisk)}`,children:e.frostRisk})]}),n.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ee,{className:"w-4 h-4 text-emerald-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:""})]}),n.jsxs("p",{className:"text-lg font-bold text-slate-100",children:[e.evapotranspiration," "]})]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:""}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-slate-400",children:":"}),n.jsx("span",{className:`text-sm font-medium ${e.irrigationNeed===""?"text-red-400":e.irrigationNeed===""?"text-yellow-400":"text-green-400"}`,children:e.irrigationNeed})]}),e.irrigationAmount>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-slate-400",children:" :"}),n.jsxs("span",{className:"text-sm text-slate-200",children:[e.irrigationAmount," /"]})]}),n.jsx("div",{className:"mt-2 h-2 bg-slate-600 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${e.soilMoisture>60?"bg-green-500":e.soilMoisture>40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${e.soilMoisture}%`}})})]}),n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:""}),n.jsxs("div",{className:`p-2 rounded ${e.sprayingConditions.suitable?"bg-green-500/20":"bg-red-500/20"}`,children:[n.jsx("p",{className:`text-sm font-medium ${e.sprayingConditions.suitable?"text-green-400":"text-red-400"}`,children:e.sprayingConditions.suitable?" ":" "}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:e.sprayingConditions.reason})]})]}),n.jsxs("div",{className:"col-span-full",children:[n.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:" "}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.crops.map((i,r)=>n.jsxs("div",{className:`p-2 rounded text-center ${i.status===""?"bg-green-500/20":"bg-orange-500/20"}`,children:[n.jsx("p",{className:"text-sm font-medium text-slate-200",children:i.name}),n.jsx("p",{className:`text-xs ${i.status===""?"text-green-400":"text-orange-400"}`,children:i.status})]},r))})]}),n.jsx("div",{className:"col-span-full p-3 bg-slate-700/30 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-slate-400",children:"-  (GDD)"}),n.jsxs("span",{className:"text-sm font-medium text-slate-200",children:[e.growingDegreeDays," D"]})]})})]})})},Rm=({trend:e})=>{const t={rising:{icon:Oe,color:"text-emerald-400",bg:"bg-emerald-500/20"},falling:{icon:ko,color:"text-red-400",bg:"bg-red-500/20"},stable:{icon:Po,color:"text-slate-400",bg:"bg-slate-500/20"}},{icon:s,color:i,bg:r}=t[e]||t.stable;return n.jsx(w.div,{className:`p-2 rounded-xl ${r}`,whileHover:{scale:1.1,rotate:e==="rising"?5:e==="falling"?-5:0},transition:{type:"spring",stiffness:400},children:n.jsx(s,{className:`w-5 h-5 ${i}`})})},Vm=({data:e,history:t=[]})=>{if(!e)return null;const i=(()=>{if(t.length<2)return"stable";const c=e-t[t.length-2];return c>1?"rising":c<-1?"falling":"stable"})(),r=760,o=Math.round(e-r),l=e<740?{label:"",color:"text-blue-400",bg:"bg-blue-500/20",border:"border-blue-500/30"}:e<760?{label:"",color:"text-cyan-400",bg:"bg-cyan-500/20",border:"border-cyan-500/30"}:e<770?{label:"",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30"}:e<780?{label:"",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30"}:{label:"",color:"text-red-400",bg:"bg-red-500/20",border:"border-red-500/30"},d=Math.round(e*.750062),h=Math.round(e*.02953*100)/100,m=Math.round(e);return n.jsx(k,{title:"",icon:lr,children:n.jsxs("div",{className:"space-y-5",children:[n.jsxs(w.div,{className:"text-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,type:"spring"},children:[n.jsxs(w.div,{className:"text-4xl font-bold text-slate-100 font-mono",initial:{y:20},animate:{y:0},transition:{delay:.15,type:"spring"},children:[d,n.jsx("span",{className:"text-base text-slate-500 ml-2 font-normal",children:" .."})]}),n.jsxs(w.div,{className:`inline-flex items-center gap-2 mt-3 px-4 py-1.5 rounded-full text-sm font-semibold ${l.bg} ${l.color} border ${l.border}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-60"}),l.label]})]}),n.jsxs(w.div,{className:"flex items-center justify-center gap-3",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.25},children:[n.jsx(Rm,{trend:i}),n.jsx("span",{className:`text-sm font-medium ${i==="rising"?"text-emerald-400":i==="falling"?"text-red-400":"text-slate-400"}`,children:i==="rising"?"":i==="falling"?"":""})]}),n.jsxs(w.div,{className:"grid grid-cols-4 gap-2 pt-4 border-t border-slate-700/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsxs("div",{className:"text-center p-2.5 bg-slate-700/30 rounded-xl border border-slate-600/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:""}),n.jsx("div",{className:"text-lg font-bold text-slate-200 font-mono",children:m})]}),n.jsxs("div",{className:"text-center p-2.5 bg-slate-700/30 rounded-xl border border-slate-600/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:"inHg"}),n.jsx("div",{className:"text-lg font-bold text-slate-200 font-mono",children:h})]}),n.jsxs("div",{className:"text-center p-2.5 bg-slate-700/30 rounded-xl border border-slate-600/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:""}),n.jsxs("div",{className:`text-lg font-bold font-mono ${o>=0?"text-emerald-400":"text-blue-400"}`,children:[o>=0?"+":"",o]})]}),n.jsxs("div",{className:"text-center p-2.5 bg-slate-700/30 rounded-xl border border-slate-600/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:""}),n.jsx("div",{className:"text-lg font-bold text-slate-200 font-mono",children:r})]})]}),n.jsxs(w.div,{className:`p-3 rounded-xl text-center text-sm ${Math.abs(o)>10?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400"}`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.35},whileHover:{scale:1.02},children:[Math.abs(o)>10&&"   ",Math.abs(o)<=10&&"    "]})]})})},Lm=({current:e})=>{if(!e)return null;const{temperature:t,windSpeed:s,condition:i,uvIndex:r}=e,o=()=>{const c=[];return t<=-10?c.push({icon:"",title:" ",description:"   ",priority:"critical"}):t<=0?c.push({icon:"",title:" ",description:"   ",priority:"high"}):t<=10?c.push({icon:"",title:" ",description:"   ",priority:"medium"}):t<=20?c.push({icon:"",title:" ",description:", , ",priority:"low"}):c.push({icon:"",title:" ",description:", , ",priority:"low"}),s>15?c.push({icon:"",title:"  ",description:", , ",priority:"high"}):s>8&&c.push({icon:"",title:" ",description:"   ",priority:"medium"}),(i?.code==="rain"||i?.code==="drizzle")&&c.push({icon:"",title:"  ",description:"    ",priority:"high"}),i?.code==="snow"&&c.push({icon:"",title:" ",description:" ",priority:"high"}),r>=6&&c.push({icon:"",title:"  ",description:" ,  SPF",priority:r>=8?"critical":"high"}),t<=5?c.push({icon:"",title:" ",description:"   ",priority:"high"}):r>=5&&c.push({icon:"",title:"/",description:"   ",priority:"medium"}),t<=0&&c.push({icon:"",title:"",description:"  ",priority:"high"}),(t<=5||s>10)&&c.push({icon:"",title:"",description:"     ",priority:"medium"}),c},a=()=>{const c=e.feelsLike||t;return c<=-15?{text:" !    .",color:"text-red-400",bg:"bg-red-500/20",border:"border-red-500/30",icon:""}:c<=-5?{text:" .   .",color:"text-blue-400",bg:"bg-blue-500/20",border:"border-blue-500/30",icon:""}:c<=5?{text:".   .",color:"text-cyan-400",bg:"bg-cyan-500/20",border:"border-cyan-500/30",icon:""}:c<=15?{text:".    .",color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30",icon:""}:c<=25?{text:" .   !",color:"text-lime-400",bg:"bg-lime-500/20",border:"border-lime-500/30",icon:""}:c<=32?{text:".      .",color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30",icon:""}:{text:"!    .",color:"text-orange-400",bg:"bg-orange-500/20",border:"border-orange-500/30",icon:""}},l=o(),d=a(),h={critical:0,high:1,medium:2,low:3};l.sort((c,u)=>h[c.priority]-h[u.priority]);const m=c=>{switch(c){case"critical":return"bg-red-500/15 border-red-500/40 hover:bg-red-500/25";case"high":return"bg-orange-500/15 border-orange-500/40 hover:bg-orange-500/25";case"medium":return"bg-amber-500/15 border-amber-500/40 hover:bg-amber-500/25";default:return"bg-slate-700/30 border-slate-600/30 hover:bg-slate-700/50"}};return n.jsx(k,{title:" ",icon:dr,className:"col-span-full lg:col-span-2",size:"lg",children:n.jsxs("div",{className:"space-y-5",children:[n.jsx(w.div,{className:`p-5 rounded-2xl ${d.bg} ${d.border} border ${d.color}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},whileHover:{scale:1.01},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(w.span,{className:"text-4xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:d.icon}),n.jsx("p",{className:"font-semibold text-base",children:d.text})]})}),n.jsxs("div",{children:[n.jsxs(w.h3,{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.15},children:[n.jsx("div",{className:"w-8 h-px bg-slate-600"}),""]}),n.jsx(w.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.map((c,u)=>n.jsx(w.div,{className:`p-4 rounded-xl border backdrop-blur-sm transition-all ${m(c.priority)}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.25+u*.05},whileHover:{scale:1.03,y:-2},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(w.span,{className:"text-2xl",whileHover:{scale:1.2,rotate:10},transition:{type:"spring",stiffness:400},children:c.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-100 text-sm",children:c.title}),n.jsx("div",{className:"text-xs text-slate-400 mt-1 leading-relaxed",children:c.description})]})]})},u))})]}),n.jsx(w.div,{className:"pt-4 border-t border-slate-700/50",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[t<=10&&n.jsxs(w.span,{className:"px-3 py-1.5 bg-blue-500/20 text-blue-400 text-xs font-semibold rounded-full border border-blue-500/30",whileHover:{scale:1.05},children:[" ",t,"C"]}),s>5&&n.jsxs(w.span,{className:"px-3 py-1.5 bg-cyan-500/20 text-cyan-400 text-xs font-semibold rounded-full border border-cyan-500/30",whileHover:{scale:1.05},children:[" ",s," /"]}),r>=5&&n.jsxs(w.span,{className:"px-3 py-1.5 bg-amber-500/20 text-amber-400 text-xs font-semibold rounded-full border border-amber-500/30",whileHover:{scale:1.05},children:["  ",r]}),i?.code==="rain"&&n.jsx(w.span,{className:"px-3 py-1.5 bg-blue-500/20 text-blue-400 text-xs font-semibold rounded-full border border-blue-500/30",whileHover:{scale:1.05},children:" "}),i?.code==="snow"&&n.jsx(w.span,{className:"px-3 py-1.5 bg-sky-500/20 text-sky-400 text-xs font-semibold rounded-full border border-sky-500/30",whileHover:{scale:1.05},children:" "})]})})]})})},$m=({current:e})=>{if(!e)return null;const{temperature:t,feelsLike:s,humidity:i,windSpeed:r}=e,o=()=>{let c=100;const u=[];t>=18&&t<=24?u.push({name:"",score:100,text:""}):t>=15&&t<=28?(c-=10,u.push({name:"",score:90,text:""})):t>=10&&t<=32?(c-=25,u.push({name:"",score:75,text:""})):t>=5&&t<=35?(c-=40,u.push({name:"",score:60,text:""})):(c-=60,u.push({name:"",score:40,text:""})),i>=40&&i<=60?u.push({name:"",score:100,text:""}):i>=30&&i<=70?(c-=10,u.push({name:"",score:90,text:""})):i>=20&&i<=80?(c-=25,u.push({name:"",score:75,text:"/"})):(c-=40,u.push({name:"",score:60,text:""})),r<=5?u.push({name:"",score:100,text:""}):r<=8?(c-=10,u.push({name:"",score:90,text:""})):r<=12?(c-=25,u.push({name:"",score:75,text:""})):r<=18?(c-=40,u.push({name:"",score:60,text:""})):(c-=60,u.push({name:"",score:40,text:""}));const f=Math.abs(s-t);return f<=2?u.push({name:"",score:100,text:" "}):f<=5?(c-=5,u.push({name:"",score:95,text:" "})):(c-=15,u.push({name:"",score:85,text:" "})),c=Math.max(0,Math.min(100,c)),{score:c,details:u}},{score:a,details:l}=o(),h=a>=80?{label:"",icon:We,color:"text-emerald-400",bg:"bg-emerald-500/20",border:"border-emerald-500/30",gradient:"from-emerald-500 to-green-400",description:"    !",emoji:""}:a>=60?{label:"",icon:We,color:"text-lime-400",bg:"bg-lime-500/20",border:"border-lime-500/30",gradient:"from-lime-500 to-green-400",description:"    .",emoji:""}:a>=40?{label:"",icon:Do,color:"text-amber-400",bg:"bg-amber-500/20",border:"border-amber-500/30",gradient:"from-amber-500 to-yellow-400",description:" ,   .",emoji:""}:a>=20?{label:"",icon:cs,color:"text-orange-400",bg:"bg-orange-500/20",border:"border-orange-500/30",gradient:"from-orange-500 to-amber-400",description:"     .",emoji:""}:{label:"",icon:cs,color:"text-red-400",bg:"bg-red-500/20",border:"border-red-500/30",gradient:"from-red-500 to-orange-400",description:" !  .",emoji:""},m=h.icon;return n.jsx(k,{title:" ",icon:We,children:n.jsxs("div",{className:"space-y-5",children:[n.jsxs(w.div,{className:"text-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,type:"spring"},children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[n.jsx(w.div,{className:`p-3 rounded-2xl ${h.bg} ${h.border} border`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:n.jsx(m,{className:`w-10 h-10 ${h.color}`})}),n.jsxs("div",{className:"text-left",children:[n.jsxs(w.div,{className:"text-4xl font-bold text-slate-100 font-mono",initial:{scale:.5},animate:{scale:1},transition:{delay:.2,type:"spring"},children:[a,n.jsx("span",{className:"text-lg text-slate-500 ml-1",children:"/100"})]}),n.jsxs(w.div,{className:`inline-block px-4 py-1.5 rounded-full ${h.bg} ${h.color} font-semibold text-sm mt-1`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:[h.emoji," ",h.label]})]})]}),n.jsx(w.p,{className:"text-sm text-slate-400 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:h.description})]}),n.jsxs(w.div,{className:"relative h-4 bg-slate-700/60 rounded-full overflow-hidden shadow-inner",initial:{opacity:0,scaleX:.9},animate:{opacity:1,scaleX:1},transition:{delay:.35},children:[n.jsx(w.div,{className:`absolute inset-y-0 left-0 bg-gradient-to-r ${h.gradient} transition-all duration-700 rounded-full shadow-lg`,initial:{width:0},animate:{width:`${a}%`},transition:{delay:.4,duration:1,ease:"easeOut"}}),n.jsx("div",{className:"absolute inset-0 flex justify-between px-3",children:[0,25,50,75,100].map(c=>n.jsx("div",{className:"w-px bg-slate-500/50 h-full"},c))})]}),n.jsx(w.div,{className:"grid grid-cols-2 gap-2.5 pt-4 border-t border-slate-700/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:l.map((c,u)=>n.jsx(w.div,{className:"p-2.5 bg-slate-700/30 rounded-xl border border-slate-600/30 backdrop-blur-sm",whileHover:{scale:1.03,backgroundColor:"rgba(71, 85, 99, 0.4)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+u*.05},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-slate-400 font-medium",children:c.name}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${c.score>=90?"bg-emerald-500/20 text-emerald-400":c.score>=75?"bg-lime-500/20 text-lime-400":c.score>=60?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:c.text})]})},u))}),n.jsxs(w.div,{className:`p-4 rounded-xl ${h.bg} ${h.border} border ${h.color} text-sm text-center font-medium`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},whileHover:{scale:1.02},children:[a>=80&&"    ,     !",a>=60&&"     .",a>=40&&"     .",a>=20&&"        .",a<20&&"  !    ."]})]})})},Im=({astronomy:e})=>{if(!e)return null;const{sunrise:t,sunset:s,solarNoon:i,dayLength:r}=e,o=()=>{const c=new Date,u=c.getHours()*60+c.getMinutes(),f=N=>{const[C,A]=N.split(":").map(Number);return C*60+A},p=f(t),j=f(s),x=j-p;let v=0,y="";u<p?(y="before-sunrise",v=0):u>j?(y="after-sunset",v=100):(v=(u-p)/x*100,y=u<f(i)?"morning":"afternoon");let b="",S="";if(y==="before-sunrise"){b="";const N=p-u;S=`${Math.floor(N/60)} ${N%60}`}else if(y==="after-sunset"){b=" ";const C=p+1440-u;S=`${Math.floor(C/60)} ${C%60}`}else if(y==="morning"){b="";const N=j-u;S=`${Math.floor(N/60)} ${N%60}`}else{b="";const N=j-u;S=`${Math.floor(N/60)} ${N%60}`}return{progress:v,status:y,nextEvent:b,timeUntil:S,isDay:y!=="before-sunrise"&&y!=="after-sunset"}},{progress:a,nextEvent:l,timeUntil:d,isDay:h}=o(),m={cx:20+a/100*160,cy:100-Math.sin(a/100*Math.PI)*80};return n.jsx(k,{title:" ",icon:ne,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"relative h-32 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-xl overflow-hidden",children:n.jsxs("svg",{viewBox:"0 0 200 120",className:"w-full h-full",children:[n.jsx("path",{d:"M 20 100 Q 100 0 180 100",fill:"none",stroke:"rgba(148, 163, 184, 0.3)",strokeWidth:"2",strokeDasharray:"4 4"}),n.jsx("line",{x1:"0",y1:"100",x2:"200",y2:"100",stroke:"rgba(148, 163, 184, 0.5)",strokeWidth:"1"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"skyGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:h?"#3b82f6":"#1e3a5f",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#0f172a",stopOpacity:"0"})]})}),n.jsx("rect",{x:"0",y:"0",width:"200",height:"100",fill:"url(#skyGradient)"}),n.jsx("circle",{cx:m.cx,cy:m.cy,r:"8",fill:"#fbbf24",className:"animate-pulse",children:n.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"2s",repeatCount:"indefinite"})}),n.jsx("circle",{cx:m.cx,cy:m.cy,r:"12",fill:"none",stroke:"#fbbf24",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:"20",cy:"100",r:"4",fill:"#f97316"}),n.jsx("circle",{cx:"180",cy:"100",r:"4",fill:"#f97316"}),n.jsx("text",{x:"20",y:"115",textAnchor:"middle",fill:"#94a3b8",fontSize:"8",children:t}),n.jsx("text",{x:"180",y:"115",textAnchor:"middle",fill:"#94a3b8",fontSize:"8",children:s}),n.jsx("text",{x:"100",y:"115",textAnchor:"middle",fill:"#94a3b8",fontSize:"8",children:i})]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[n.jsxs("span",{children:[": ",t]}),n.jsxs("span",{children:[": ",i]}),n.jsxs("span",{children:[": ",s]})]}),n.jsx("div",{className:"relative h-3 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-orange-400 via-yellow-400 to-orange-500 transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,a))}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(Ao,{className:"w-5 h-5 text-orange-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:""}),n.jsx("div",{className:"text-sm font-semibold text-slate-100",children:t})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(Eo,{className:"w-5 h-5 text-orange-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:""}),n.jsx("div",{className:"text-sm font-semibold text-slate-100",children:s})]})]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-center",children:[n.jsx("div",{className:"text-xs text-slate-400 mb-1",children:" "}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-lg",children:l===""?"":l===""?"":""}),n.jsx("span",{className:"text-sm font-semibold text-slate-100",children:l}),n.jsxs("span",{className:"text-xs text-slate-400",children:[" ",d]})]})]}),r&&n.jsxs("div",{className:"text-center text-xs text-slate-400 pt-2 border-t border-slate-700",children:[" : ",n.jsxs("span",{className:"text-slate-100 font-medium",children:[Math.floor(r/60)," ",r%60,""]})]})]})})},Fm=({astronomy:e})=>{if(!e)return null;const{moonPhase:t,moonIllumination:s}=e,r=(()=>{const a=[{name:"",icon:"",illumination:0},{name:" ",icon:"",illumination:25},{name:" ",icon:"",illumination:50},{name:"",icon:"",illumination:75},{name:"",icon:"",illumination:100},{name:"",icon:"",illumination:75},{name:" ",icon:"",illumination:50},{name:" ",icon:"",illumination:25}],l=Math.round(s/100*7)%8;return a[l]||a[0]})(),o=s||0;return n.jsx(k,{title:" ",icon:Bs,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-6",children:[n.jsxs("div",{className:"relative w-24 h-24",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-700"}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-slate-200 to-slate-300 overflow-hidden",style:{clipPath:`inset(0 ${100-o}% 0 0)`}}),n.jsxs("div",{className:"absolute inset-0 rounded-full opacity-30",children:[n.jsx("div",{className:"absolute w-3 h-3 bg-slate-400 rounded-full top-3 left-6"}),n.jsx("div",{className:"absolute w-2 h-2 bg-slate-400 rounded-full top-8 left-10"}),n.jsx("div",{className:"absolute w-4 h-4 bg-slate-400 rounded-full bottom-4 left-4"}),n.jsx("div",{className:"absolute w-2 h-2 bg-slate-400 rounded-full top-5 right-6"})]}),n.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:`0 0 ${20+o*.3}px rgba(226, 232, 240, ${.2+o*.005})`}})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-1",children:r.icon}),n.jsx("div",{className:"text-sm font-semibold text-slate-100",children:r.name}),n.jsx("div",{className:"text-xs text-slate-400",children:""}),n.jsxs("div",{className:"text-lg font-bold text-slate-100",children:[o,"%"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:""}),n.jsx("span",{children:"100%"})]}),n.jsx("div",{className:"relative h-3 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-slate-400 to-slate-200 transition-all duration-500",style:{width:`${o}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-slate-700",children:[n.jsxs("div",{className:`text-center p-2 rounded-lg ${r.name===""?"bg-slate-600":"bg-slate-700/30"}`,children:[n.jsx("div",{className:"text-xl",children:""}),n.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),n.jsxs("div",{className:`text-center p-2 rounded-lg ${[" "," ",""].includes(r.name)?"bg-slate-600":"bg-slate-700/30"}`,children:[n.jsx("div",{className:"text-xl",children:""}),n.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),n.jsxs("div",{className:`text-center p-2 rounded-lg ${r.name===""?"bg-slate-600":"bg-slate-700/30"}`,children:[n.jsx("div",{className:"text-xl",children:""}),n.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),n.jsxs("div",{className:`text-center p-2 rounded-lg ${[""," "," "].includes(r.name)?"bg-slate-600":"bg-slate-700/30"}`,children:[n.jsx("div",{className:"text-xl",children:""}),n.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[n.jsx("div",{className:"text-xs text-slate-400 mb-2",children:" "}),n.jsxs("div",{className:"space-y-1 text-sm",children:[o<10&&n.jsx("div",{className:"text-slate-300",children:"      "}),o>=10&&o<50&&n.jsx("div",{className:"text-slate-300",children:"   ,   "}),o>=50&&o<90&&n.jsx("div",{className:"text-slate-300",children:"  ,  "}),o>=90&&n.jsx("div",{className:"text-slate-300",children:"  ,   "})]})]}),t&&n.jsxs("div",{className:"text-center text-xs text-slate-400 pt-2 border-t border-slate-700",children:[": ",n.jsx("span",{className:"text-slate-100 font-medium",children:t})]})]})})};function Om(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const s=document.implementation.createHTMLDocument(),i=s.createElement("base"),r=s.createElement("a");return s.head.appendChild(i),s.body.appendChild(r),t&&(i.href=t),r.href=e,r.href}const Bm=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function oe(e){const t=[];for(let s=0,i=e.length;s<i;s++)t.push(e[s]);return t}let we=null;function io(e={}){return we||(e.includeStyleProperties?(we=e.includeStyleProperties,we):(we=oe(window.getComputedStyle(document.documentElement)),we))}function Ct(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Wm(e){const t=Ct(e,"border-left-width"),s=Ct(e,"border-right-width");return e.clientWidth+t+s}function Um(e){const t=Ct(e,"border-top-width"),s=Ct(e,"border-bottom-width");return e.clientHeight+t+s}function ro(e,t={}){const s=t.width||Wm(e),i=t.height||Um(e);return{width:s,height:i}}function Hm(){let e,t;try{t=process}catch{}const s=t&&t.env?t.env.devicePixelRatio:null;return s&&(e=parseInt(s,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const H=16384;function _m(e){(e.width>H||e.height>H)&&(e.width>H&&e.height>H?e.width>e.height?(e.height*=H/e.width,e.width=H):(e.width*=H/e.height,e.height=H):e.width>H?(e.height*=H/e.width,e.width=H):(e.width*=H/e.height,e.height=H))}function Pt(e){return new Promise((t,s)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=s,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function zm(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Km(e,t,s){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${s}`),r.setAttribute("viewBox",`0 0 ${t} ${s}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(e),zm(r)}const U=(e,t)=>{if(e instanceof t)return!0;const s=Object.getPrototypeOf(e);return s===null?!1:s.constructor.name===t.name||U(s,t)};function Gm(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Xm(e,t){return io(t).map(s=>{const i=e.getPropertyValue(s),r=e.getPropertyPriority(s);return`${s}: ${i}${r?" !important":""};`}).join(" ")}function qm(e,t,s,i){const r=`.${e}:${t}`,o=s.cssText?Gm(s):Xm(s,i);return document.createTextNode(`${r}{${o}}`)}function Zi(e,t,s,i){const r=window.getComputedStyle(e,s),o=r.getPropertyValue("content");if(o===""||o==="none")return;const a=Bm();try{t.className=`${t.className} ${a}`}catch{return}const l=document.createElement("style");l.appendChild(qm(a,s,r,i)),t.appendChild(l)}function Ym(e,t,s){Zi(e,t,":before",s),Zi(e,t,":after",s)}const Qi="application/font-woff",er="image/jpeg",Jm={woff:Qi,woff2:Qi,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:er,jpeg:er,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Zm(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function wn(e){const t=Zm(e).toLowerCase();return Jm[t]||""}function Qm(e){return e.split(/,/)[1]}function $s(e){return e.search(/^(data:)/)!==-1}function e0(e,t){return`data:${t};base64,${e}`}async function ao(e,t,s){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((o,a)=>{const l=new FileReader;l.onerror=a,l.onloadend=()=>{try{o(s({res:i,result:l.result}))}catch(d){a(d)}},l.readAsDataURL(r)})}const as={};function t0(e,t,s){let i=e.replace(/\?.*/,"");return s&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function jn(e,t,s){const i=t0(e,t,s.includeQueryParams);if(as[i]!=null)return as[i];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const o=await ao(e,s.fetchRequestInit,({res:a,result:l})=>(t||(t=a.headers.get("Content-Type")||""),Qm(l)));r=e0(o,t)}catch(o){r=s.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return as[i]=r,r}async function s0(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Pt(t)}async function n0(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a?.drawImage(e,0,0,o.width,o.height);const l=o.toDataURL();return Pt(l)}const s=e.poster,i=wn(s),r=await jn(s,i,t);return Pt(r)}async function i0(e,t){var s;try{if(!((s=e?.contentDocument)===null||s===void 0)&&s.body)return await Ft(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function r0(e,t){return U(e,HTMLCanvasElement)?s0(e):U(e,HTMLVideoElement)?n0(e,t):U(e,HTMLIFrameElement)?i0(e,t):e.cloneNode(oo(e))}const a0=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",oo=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function o0(e,t,s){var i,r;if(oo(t))return t;let o=[];return a0(e)&&e.assignedNodes?o=oe(e.assignedNodes()):U(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?o=oe(e.contentDocument.body.childNodes):o=oe(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),o.length===0||U(e,HTMLVideoElement)||await o.reduce((a,l)=>a.then(()=>Ft(l,s)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function l0(e,t,s){const i=t.style;if(!i)return;const r=window.getComputedStyle(e);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):io(s).forEach(o=>{let a=r.getPropertyValue(o);o==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),U(e,HTMLIFrameElement)&&o==="display"&&a==="inline"&&(a="block"),o==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(o,a,r.getPropertyPriority(o))})}function c0(e,t){U(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),U(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function d0(e,t){if(U(e,HTMLSelectElement)){const i=Array.from(t.children).find(r=>e.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function u0(e,t,s){return U(t,Element)&&(l0(e,t,s),Ym(e,t,s),c0(e,t),d0(e,t)),t}async function h0(e,t){const s=e.querySelectorAll?e.querySelectorAll("use"):[];if(s.length===0)return e;const i={};for(let o=0;o<s.length;o++){const l=s[o].getAttribute("xlink:href");if(l){const d=e.querySelector(l),h=document.querySelector(l);!d&&h&&!i[l]&&(i[l]=await Ft(h,t,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const l=document.createElementNS(o,"defs");a.appendChild(l);for(let d=0;d<r.length;d++)l.appendChild(r[d]);e.appendChild(a)}return e}async function Ft(e,t,s){return!s&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>r0(i,t)).then(i=>o0(e,i,t)).then(i=>u0(e,i,t)).then(i=>h0(i,t))}const lo=/url\((['"]?)([^'"]+?)\1\)/g,m0=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,f0=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function p0(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function x0(e){const t=[];return e.replace(lo,(s,i,r)=>(t.push(r),s)),t.filter(s=>!$s(s))}async function g0(e,t,s,i,r){try{const o=s?Om(t,s):t,a=wn(t);let l;return r||(l=await jn(o,a,i)),e.replace(p0(t),`$1${l}$3`)}catch{}return e}function y0(e,{preferredFontFormat:t}){return t?e.replace(f0,s=>{for(;;){const[i,,r]=m0.exec(s)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):e}function co(e){return e.search(lo)!==-1}async function uo(e,t,s){if(!co(e))return e;const i=y0(e,s);return x0(i).reduce((o,a)=>o.then(l=>g0(l,a,t,s)),Promise.resolve(i))}async function je(e,t,s){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(r){const o=await uo(r,null,s);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function b0(e,t){await je("background",e,t)||await je("background-image",e,t),await je("mask",e,t)||await je("-webkit-mask",e,t)||await je("mask-image",e,t)||await je("-webkit-mask-image",e,t)}async function v0(e,t){const s=U(e,HTMLImageElement);if(!(s&&!$s(e.src))&&!(U(e,SVGImageElement)&&!$s(e.href.baseVal)))return;const i=s?e.src:e.href.baseVal,r=await jn(i,wn(i),t);await new Promise((o,a)=>{e.onload=o,e.onerror=t.onImageErrorHandler?(...d)=>{try{o(t.onImageErrorHandler(...d))}catch(h){a(h)}}:a;const l=e;l.decode&&(l.decode=o),l.loading==="lazy"&&(l.loading="eager"),s?(e.srcset="",e.src=r):e.href.baseVal=r})}async function w0(e,t){const i=oe(e.childNodes).map(r=>ho(r,t));await Promise.all(i).then(()=>e)}async function ho(e,t){U(e,Element)&&(await b0(e,t),await v0(e,t),await w0(e,t))}function j0(e,t){const{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{s[r]=i[r]}),e}const tr={};async function sr(e){let t=tr[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},tr[e]=t,t}async function nr(e,t){let s=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(s.match(/url\([^)]+\)/g)||[]).map(async a=>{let l=a.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),ao(l,t.fetchRequestInit,({result:d})=>(s=s.replace(a,`url(${d})`),[a,d]))});return Promise.all(o).then(()=>s)}function ir(e){if(e==null)return[];const t=[],s=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(s,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=r.exec(i);if(d===null)break;t.push(d[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(a,"gi");for(;;){let d=o.exec(i);if(d===null){if(d=l.exec(i),d===null)break;o.lastIndex=l.lastIndex}else l.lastIndex=o.lastIndex;t.push(d[0])}return t}async function N0(e,t){const s=[],i=[];return e.forEach(r=>{if("cssRules"in r)try{oe(r.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let l=a+1;const d=o.href,h=sr(d).then(m=>nr(m,t)).then(m=>ir(m).forEach(c=>{try{r.insertRule(c,c.startsWith("@import")?l+=1:r.cssRules.length)}catch(u){console.error("Error inserting rule from remote css",{rule:c,error:u})}})).catch(m=>{console.error("Error loading remote css",m.toString())});i.push(h)}})}catch(o){const a=e.find(l=>l.href==null)||document.styleSheets[0];r.href!=null&&i.push(sr(r.href).then(l=>nr(l,t)).then(l=>ir(l).forEach(d=>{a.insertRule(d,a.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(e.forEach(r=>{if("cssRules"in r)try{oe(r.cssRules||[]).forEach(o=>{s.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),s))}function S0(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>co(t.style.getPropertyValue("src")))}async function T0(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=oe(e.ownerDocument.styleSheets),i=await N0(s,t);return S0(i)}function mo(e){return e.trim().replace(/["']/g,"")}function M0(e){const t=new Set;function s(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(o=>{t.add(mo(o))}),Array.from(i.children).forEach(o=>{o instanceof HTMLElement&&s(o)})}return s(e),t}async function C0(e,t){const s=await T0(e,t),i=M0(e);return(await Promise.all(s.filter(o=>i.has(mo(o.style.fontFamily))).map(o=>{const a=o.parentStyleSheet?o.parentStyleSheet.href:null;return uo(o.cssText,a,t)}))).join(`
`)}async function P0(e,t){const s=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await C0(e,t);if(s){const i=document.createElement("style"),r=document.createTextNode(s);i.appendChild(r),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function k0(e,t={}){const{width:s,height:i}=ro(e,t),r=await Ft(e,t,!0);return await P0(r,t),await ho(r,t),j0(r,t),await Km(r,s,i)}async function D0(e,t={}){const{width:s,height:i}=ro(e,t),r=await k0(e,t),o=await Pt(r),a=document.createElement("canvas"),l=a.getContext("2d"),d=t.pixelRatio||Hm(),h=t.canvasWidth||s,m=t.canvasHeight||i;return a.width=h*d,a.height=m*d,t.skipAutoScale||_m(a),a.style.width=`${h}`,a.style.height=`${m}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,a.width,a.height)),l.drawImage(o,0,0,a.width,a.height),a}async function rr(e,t={}){return(await D0(e,t)).toDataURL()}const A0=({weatherData:e,location:t})=>{const[s,i]=g.useState(!1),r=()=>{if(!e||!e.current)return null;const h=e.current,m=new Date().toLocaleDateString("ru-RU",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{id:"weather-export-card",className:"hidden",style:{width:"400px",padding:"24px",background:"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)",borderRadius:"16px",fontFamily:"system-ui, -apple-system, sans-serif",color:"#e2e8f0"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:t?.city||""}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"14px",opacity:.7},children:t?.country})]}),n.jsx("div",{style:{fontSize:"48px"},children:o(h.condition?.code)})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsxs("div",{style:{fontSize:"56px",fontWeight:"bold",lineHeight:1},children:[Math.round(h.temperature),"C"]}),n.jsxs("div",{style:{fontSize:"16px",opacity:.8,marginTop:"4px"},children:[h.condition?.label,"    ",Math.round(h.feelsLike),"C"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"20px"},children:[n.jsx(a,{label:"",value:`${h.humidity}%`,icon:""}),n.jsx(a,{label:"",value:`${Math.round(h.windSpeed)} /`,icon:""}),n.jsx(a,{label:"",value:`${Math.round(h.pressure*.75)} `,icon:""})]}),n.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"12px",fontSize:"12px",opacity:.6},children:[m,"  "]})]})},o=h=>({sunny:"","clear-night":"","partly-cloudy":"",cloudy:"",rain:"",snow:"",thunderstorm:"",mist:"",drizzle:""})[h]||"",a=({label:h,value:m,icon:c})=>n.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"16px",marginBottom:"4px"},children:c}),n.jsx("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"4px"},children:h}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:m})]}),l=async()=>{i(!0);try{const h=document.getElementById("weather-export-card");if(h){h.classList.remove("hidden");const m=await rr(h,{quality:.95,pixelRatio:2,backgroundColor:"#1e3a5f"}),c=document.createElement("a");c.download=`weather-${t?.city||"forecast"}-${Date.now()}.png`,c.href=m,c.click(),h.classList.add("hidden")}}catch(h){console.error("Export failed:",h),alert("   .  .")}finally{i(!1)}},d=async()=>{if(!navigator.share){l();return}try{const h=document.getElementById("weather-export-card");if(!h)return;h.classList.remove("hidden");const m=await rr(h,{quality:.9,pixelRatio:2}).then(c=>fetch(c)).then(c=>c.blob());h.classList.add("hidden"),await navigator.share({title:`  ${t?.city}`,text:` : ${Math.round(e.current.temperature)}C`,files:[new File([m],"weather.png",{type:"image/png"})]})}catch(h){h.name!=="AbortError"&&l()}};return n.jsxs(n.Fragment,{children:[r(),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:l,disabled:s||!e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed button-press",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(os,{className:"w-4 h-4"}),n.jsx("span",{children:" PNG"})]})}),navigator.share&&n.jsxs("button",{onClick:d,disabled:s||!e,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed button-press",children:[n.jsx(Ro,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})},E0=()=>{const[e,t]=g.useState([]);return g.useEffect(()=>{const o=localStorage.getItem("weather_history");if(o)try{t(JSON.parse(o))}catch(a){console.error("Failed to load history:",a)}},[]),{history:e,addToHistory:o=>{const a=[{...o,timestamp:Date.now()},...e].slice(0,100);t(a),localStorage.setItem("weather_history",JSON.stringify(a))},getHistory:(o=7)=>{const a=Date.now()-o*24*60*60*1e3;return e.filter(l=>l.timestamp>a)},clearHistory:()=>{t([]),localStorage.removeItem("weather_history")}}},R0=({location:e})=>{const{records:t,getStats:s,clearHistory:i}=E0(),[r,o]=g.useState(7),a=s(r);return!a&&!t?n.jsx(k,{title:" ",icon:Oe,children:n.jsxs("div",{className:"text-center py-8 text-slate-400",children:[n.jsx(Fs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"    "}),n.jsx("p",{className:"text-xs mt-2",children:"  "})]})}):n.jsxs(k,{title:"  ",icon:Oe,className:"col-span-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex gap-2",children:[7,14,30].map(l=>n.jsxs("button",{onClick:()=>o(l),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${r===l?"bg-blue-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[l," "]},l))}),n.jsx("button",{onClick:i,className:"px-3 py-1.5 text-xs text-slate-400 hover:text-red-400 transition-colors",children:""})]}),a&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-center",children:[n.jsx(se,{className:"w-5 h-5 mx-auto mb-2 text-orange-400"}),n.jsx("div",{className:"text-xs text-slate-400",children:" t"}),n.jsxs("div",{className:"text-lg font-bold text-slate-100",children:[a.avgTemp,"C"]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-center",children:[n.jsx(Oe,{className:"w-5 h-5 mx-auto mb-2 text-red-400"}),n.jsx("div",{className:"text-xs text-slate-400",children:". t"}),n.jsxs("div",{className:"text-lg font-bold text-slate-100",children:[a.maxTemp,"C"]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-center",children:[n.jsx(Oe,{className:"w-5 h-5 mx-auto mb-2 text-blue-400"}),n.jsx("div",{className:"text-xs text-slate-400",children:". t"}),n.jsxs("div",{className:"text-lg font-bold text-slate-100",children:[a.minTemp,"C"]})]}),n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-center",children:[n.jsx(ee,{className:"w-5 h-5 mx-auto mb-2 text-cyan-400"}),n.jsx("div",{className:"text-xs text-slate-400",children:" "}),n.jsxs("div",{className:"text-lg font-bold text-slate-100",children:[a.avgHumidity,"%"]})]})]})}),t&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[n.jsx(Vo,{className:"w-4 h-4 text-yellow-400"}),""]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-3 bg-gradient-to-br from-orange-500/20 to-red-500/20 border border-orange-500/30 rounded-lg",children:[n.jsx("div",{className:"text-xs text-orange-400 mb-1",children:". "}),n.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[t.maxTemp.value,"C"]}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:t.maxTemp.date?new Date(t.maxTemp.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}):""})]}),n.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-500/30 rounded-lg",children:[n.jsx("div",{className:"text-xs text-blue-400 mb-1",children:". "}),n.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[t.minTemp.value,"C"]}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:t.minTemp.date?new Date(t.minTemp.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}):""})]}),n.jsxs("div",{className:"p-3 bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30 rounded-lg",children:[n.jsx("div",{className:"text-xs text-purple-400 mb-1",children:". "}),n.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[t.maxWind.value," /"]}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:t.maxWind.date?new Date(t.maxWind.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}):""})]}),n.jsxs("div",{className:"p-3 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-lg",children:[n.jsx("div",{className:"text-xs text-yellow-400 mb-1",children:". -"}),n.jsx("div",{className:"text-xl font-bold text-slate-100",children:t.maxUV.value}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:t.maxUV.date?new Date(t.maxUV.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}):""})]})]})]}),a&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 text-xs text-slate-500 flex items-center justify-between",children:[n.jsxs("span",{children:["  : ",a.entries]}),n.jsxs("span",{children:[":  ",r," "]})]})]})},V0=({location:e,coordinates:t})=>{const[s,i]=g.useState("precipitation"),[r,o]=g.useState(!0),a=t?.lat||55.7558,l=t?.lon||37.6173,d=()=>`https://embed.windy.com/embed2.html?lat=${a}&lon=${l}&zoom=6&level=surface&overlay=${s}&product=ecmwf&menu=true&message=true&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&detailLat=${a}&detailLon=${l}&metric=standard&regions=undefined&placename=undefined&dateType=now&lonLat=${l},${a}&iframeNum=0`,h=[{id:"precipitation",label:"",icon:null},{id:"clouds",label:"",icon:ar},{id:"temperature",label:"",icon:null},{id:"wind",label:"",icon:ye}];return n.jsxs(k,{title:"  ",icon:Lo,className:"col-span-full",children:[n.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:h.map(m=>{const c=m.icon;return n.jsxs("button",{onClick:()=>{i(m.id),o(!0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${s===m.id?"bg-blue-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[c?n.jsx(c,{className:"w-4 h-4"}):n.jsx("span",{children:m.id==="precipitation"?"":m.id==="temperature"?"":null}),m.label]},m.id)})}),n.jsxs("div",{className:"relative aspect-video bg-slate-800 rounded-xl overflow-hidden",children:[r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-slate-400 text-sm",children:" ..."})]})}),n.jsx("iframe",{src:d(),className:"w-full h-full",frameBorder:"0",onLoad:()=>o(!1),allowFullScreen:!0,title:"Weather Map"})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-500",children:[n.jsxs("span",{children:[" ",e?.city||"",": ",a.toFixed(2),", ",l.toFixed(2)]}),n.jsx("a",{href:`https://www.windy.com/${a},${l}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"  Windy.com "})]}),n.jsxs("div",{className:"mt-3 p-3 bg-slate-700/30 rounded-lg",children:[n.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[s==="precipitation"&&"    .   ,   .",s==="clouds"&&"      .",s==="temperature"&&"     .",s==="wind"&&"        ."]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{className:"px-2 py-0.5 bg-slate-600 rounded text-slate-300",children:"ECMWF"}),n.jsx("span",{className:"px-2 py-0.5 bg-slate-600 rounded text-slate-300",children:"Windy"})]})]})]})},L0=({current:e})=>{if(!e)return null;const{temperature:t,windSpeed:s,humidity:i,uvIndex:r,condition:o}=e,a=c=>{let u=50;switch(c){case"running":{t>=10&&t<=20?u+=30:t>=5&&t<=25?u+=15:u-=20,s<=5?u+=15:s<=10?u+=5:u-=15,(o?.code==="rain"||o?.code==="snow")&&(u-=30),r>=6&&(u-=15),i>80&&(u-=10);break}case"cycling":{t>=15&&t<=25?u+=30:t>=10&&t<=30?u+=15:u-=20,s<=5?u+=20:s<=10?u+=10:s<=15?u-=10:u-=25,(o?.code==="rain"||o?.code==="snow")&&(u-=35),r>=7&&(u-=15);break}case"hiking":{t>=10&&t<=25?u+=30:t>=5&&t<=30?u+=15:u-=20,s<=10?u+=15:s<=20?u-=10:u-=25,o?.code==="thunderstorm"&&(u-=50),o?.code==="rain"&&(u-=25),r>=8&&(u-=20);break}case"beach":{t>=25&&t<=35?u+=35:t>=20&&t<=38?u+=20:u-=25,s<=5?u+=15:s<=10?u+=5:u-=10,(o?.code==="sunny"||o?.code==="partly-cloudy")&&(u+=20),o?.code==="rain"&&(u-=40),r>=5&&r<=8?u+=10:r<3&&(u-=15);break}case"fishing":{t>=15&&t<=25?u+=25:t>=10&&t<=30&&(u+=10),s>=3&&s<=10?u+=20:s<=15?u+=5:u-=15,(o?.code==="cloudy"||o?.code==="partly-cloudy")&&(u+=15),o?.code==="thunderstorm"&&(u-=40);break}case"photography":{o?.code==="partly-cloudy"&&(u+=30),o?.code==="cloudy"&&(u+=20),o?.code==="sunny"&&(u+=10),o?.code==="rain"&&(u-=20),o?.code==="fog"&&(u+=25);const f=new Date().getHours();(f>=6&&f<=8||f>=18&&f<=20)&&(u+=15);break}default:u=50}return Math.max(0,Math.min(100,u))},l=[{id:"running",label:"",icon:ur,color:"text-red-400"},{id:"cycling",label:"",icon:$o,color:"text-green-400"},{id:"hiking",label:"",icon:Pn,color:"text-orange-400"},{id:"beach",label:"",icon:ne,color:"text-yellow-400"},{id:"fishing",label:"",icon:Io,color:"text-blue-400"},{id:"photography",label:"",icon:null,color:"text-purple-400"}],d=c=>c>=80?"text-green-400":c>=60?"text-lime-400":c>=40?"text-yellow-400":c>=20?"text-orange-400":"text-red-400",h=c=>c>=80?"bg-green-500/20 border-green-500/30":c>=60?"bg-lime-500/20 border-lime-500/30":c>=40?"bg-yellow-500/20 border-yellow-500/30":c>=20?"bg-orange-500/20 border-orange-500/30":"bg-red-500/20 border-red-500/30",m=c=>c>=80?"!":c>=60?"":c>=40?"":c>=20?" ":"";return n.jsxs(k,{title:" ",icon:Pn,className:"col-span-full lg:col-span-2",children:[n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:l.map(c=>{const u=a(c.id),f=c.icon;return n.jsxs("div",{className:`p-3 rounded-lg border ${h(u)} transition-all card-hover`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f?n.jsx(f,{className:`w-5 h-5 ${c.color}`}):n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{className:"text-sm font-medium text-slate-100",children:c.label})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:`text-2xl font-bold ${d(u)}`,children:u}),n.jsx("div",{className:"text-xs text-slate-400",children:m(u)})]}),n.jsx("div",{className:"mt-2 h-1.5 bg-slate-700/50 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all ${u>=80?"bg-green-500":u>=60?"bg-lime-500":u>=40?"bg-yellow-500":u>=20?"bg-orange-500":"bg-red-500"}`,style:{width:`${u}%`}})})]},c.id)})}),n.jsx("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:a("running")>=60?"":""}),n.jsx("div",{className:"text-sm text-slate-300",children:a("running")>=60&&a("cycling")>=60?"       !":a("hiking")>=40?"     .":"       ."})]})})]})},$0=({current:e})=>{if(!e)return null;const{temperature:t,feelsLike:s,windSpeed:i,humidity:r}=e,o=()=>{let u=0;const f=[];t<-10?(u+=35,f.push({name:"",text:" ",color:"red"})):t<0?(u+=25,f.push({name:"",text:" ",color:"orange"})):t<10?(u+=15,f.push({name:"",text:"",color:"yellow"})):t<20?(u+=5,f.push({name:"",text:"",color:"green"})):f.push({name:"",text:"",color:"green"});const p=t-s;return p>5?(u+=20,f.push({name:"",text:` ${p} `,color:"orange"})):p>2?(u+=10,f.push({name:"",text:` ${p} `,color:"yellow"})):f.push({name:"",text:"",color:"green"}),i>15?(u+=20,f.push({name:"",text:" ",color:"red"})):i>8?(u+=10,f.push({name:"",text:"",color:"yellow"})):f.push({name:"",text:"",color:"green"}),r>80?(u+=15,f.push({name:"",text:" ",color:"orange"})):r<30?(u+=10,f.push({name:"",text:" ",color:"yellow"})):f.push({name:"",text:"",color:"green"}),Math.abs(p)>8&&(u+=10),{risk:Math.min(100,u),details:f}},{risk:a,details:l}=o(),h=a>=75?{label:" ",color:"text-red-400",bg:"bg-red-500/20 border-red-500/30",icon:xe,recommendations:["  ","   ","    "," "]}:a>=50?{label:" ",color:"text-orange-400",bg:"bg-orange-500/20 border-orange-500/30",icon:xe,recommendations:["  ","  ","  "]}:a>=25?{label:" ",color:"text-yellow-400",bg:"bg-yellow-500/20 border-yellow-500/30",icon:Bt,recommendations:["   "," "]}:{label:" ",color:"text-green-400",bg:"bg-green-500/20 border-green-500/30",icon:Bt,recommendations:[" !","  "]},m=h.icon,c=()=>a>=75?"from-red-500 to-orange-500":a>=50?"from-orange-500 to-yellow-500":a>=25?"from-yellow-500 to-lime-500":"from-lime-500 to-green-500";return n.jsx(k,{title:"  ",icon:se,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(m,{className:`w-8 h-8 ${h.color}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:`text-xl font-bold ${h.color}`,children:h.label})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-slate-100",children:a}),n.jsx("p",{className:"text-xs text-slate-500",children:" 100"})]})]}),n.jsx("div",{className:"relative h-3 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`absolute inset-y-0 left-0 bg-gradient-to-r ${c()} transition-all duration-500 rounded-full`,style:{width:`${a}%`}})}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map((u,f)=>n.jsxs("div",{className:`p-2 rounded-lg ${u.color==="red"?"bg-red-500/10":u.color==="orange"?"bg-orange-500/10":u.color==="yellow"?"bg-yellow-500/10":"bg-green-500/10"}`,children:[n.jsx("p",{className:"text-xs text-slate-400",children:u.name}),n.jsx("p",{className:`text-sm font-semibold ${u.color==="red"?"text-red-400":u.color==="orange"?"text-orange-400":u.color==="yellow"?"text-yellow-400":"text-green-400"}`,children:u.text})]},f))}),n.jsxs("div",{className:`p-3 rounded-lg ${h.bg}`,children:[n.jsxs("p",{className:"text-xs text-slate-400 mb-2 flex items-center gap-1",children:[n.jsx(xe,{className:"w-3 h-3"})," "]}),n.jsx("ul",{className:"space-y-1",children:h.recommendations.map((u,f)=>n.jsxs("li",{className:"text-xs text-slate-300 flex items-start gap-2",children:[n.jsx(Bt,{className:"w-3 h-3 text-green-400 mt-0.5 flex-shrink-0"}),u]},f))})]})]})})},I0=({current:e})=>{if(!e)return null;const{temperature:t,humidity:s,windSpeed:i,condition:r}=e,o=()=>{let c=4;t>=30?c-=1:t>=20?c-=.5:t>=15?c+=0:t>=10?c+=1:t>=5?c+=2:c+=3,s<=30?c-=1.5:s<=50?c-=1:s<=60?c-=.5:s<=70?c+=0:s<=80?c+=1:c+=2,i>=10?c-=1.5:i>=5?c-=1:i>=3?c-=.5:i<=1&&(c+=1),r?.code==="rain"?c+=4:r?.code==="snow"?c+=3:r?.code==="fog"?c+=2:r?.code==="cloudy"?c+=.5:r?.code==="sunny"&&(c-=.5);const u=new Date().getHours();return(u<6||u>20)&&(c+=2),Math.max(1,Math.round(c*2)/2)},a=()=>{const c=o();return c<=3?{label:"",color:"text-green-400",bg:"bg-green-500/20",icon:"",description:"   "}:c<=5?{label:"",color:"text-lime-400",bg:"bg-lime-500/20",icon:"",description:"    "}:c<=8?{label:"",color:"text-yellow-400",bg:"bg-yellow-500/20",icon:"",description:"  "}:{label:"",color:"text-red-400",bg:"bg-red-500/20",icon:"",description:"  "}},l=o(),d=a(),h=c=>{const u=Math.floor(c),f=Math.round((c-u)*60);return u>=10?`${u} `:f===0?`${u} `:`${u}  ${f} `},m=()=>{const c=[];return l<=3?(c.push("      "),c.push("    ")):l<=5?(c.push("  "),c.push("    ")):l<=8?(c.push("    "),c.push("   ")):(c.push("     "),c.push("    ")),i>10&&c.push("     "),s>80&&c.push("    "),c};return n.jsx(k,{title:"  ",icon:dr,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-4xl",children:d.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:""}),n.jsx("p",{className:`text-lg font-bold ${d.color}`,children:d.label})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-slate-100",children:h(l)}),n.jsx("p",{className:"text-xs text-slate-500",children:" "})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(ne,{className:"w-4 h-4 text-orange-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-slate-400",children:""}),n.jsxs("p",{className:"text-sm font-semibold text-slate-200",children:[Math.round(t),"C"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(ee,{className:"w-4 h-4 text-blue-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-slate-400",children:""}),n.jsxs("p",{className:"text-sm font-semibold text-slate-200",children:[s,"%"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(ye,{className:"w-4 h-4 text-cyan-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-slate-400",children:""}),n.jsxs("p",{className:"text-sm font-semibold text-slate-200",children:[Math.round(i)," /"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/30 rounded-lg",children:[n.jsx(Ee,{className:"w-4 h-4 text-purple-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-slate-400",children:" "}),n.jsx("p",{className:"text-sm font-semibold text-slate-200",children:new Date().getHours()>=6&&new Date().getHours()<=20?"":""})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[n.jsx("span",{children:""}),n.jsx("span",{children:""})]}),n.jsx("div",{className:"relative h-3 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`absolute inset-y-0 left-0 bg-gradient-to-r ${l<=3?"from-green-500 to-lime-500":l<=5?"from-lime-500 to-yellow-500":l<=8?"from-yellow-500 to-orange-500":"from-orange-500 to-red-500"} transition-all duration-500`,style:{width:`${Math.min(100,(12-l)/12*100)}%`}})})]}),n.jsxs("div",{className:`p-3 rounded-lg ${d.bg}`,children:[n.jsx("p",{className:"text-xs text-slate-400 mb-2",children:d.description}),n.jsx("ul",{className:"space-y-1",children:m().map((c,u)=>n.jsx("li",{className:"text-xs text-slate-300",children:c},u))})]})]})})},F0=({current:e})=>{if(!e)return null;const{temperature:t,feelsLike:s,windSpeed:i,humidity:r,condition:o,uvIndex:a}=e,l=()=>{let f=50;const p=[];t>=18&&t<=25?(f+=25,p.push({name:"",text:"",color:"green"})):t>=15&&t<=28?(f+=15,p.push({name:"",text:"",color:"lime"})):t>=10&&t<=30?(f+=5,p.push({name:"",text:"",color:"yellow"})):t>=5&&t<=35?(f-=10,p.push({name:"",text:"",color:"orange"})):(f-=25,p.push({name:"",text:"",color:"red"}));const j=Math.abs(s-t);return j<=2?p.push({name:"",text:" ",color:"green"}):j<=5?p.push({name:"",text:" ",color:"yellow"}):(f-=5,p.push({name:"",text:" ",color:"orange"})),i<=5?(f+=15,p.push({name:"",text:"",color:"green"})):i<=10?(f+=5,p.push({name:"",text:"",color:"lime"})):i<=15?(f-=10,p.push({name:"",text:"",color:"yellow"})):(f-=20,p.push({name:"",text:"",color:"red"})),o?.code==="rain"||o?.code==="drizzle"?(f-=30,p.push({name:"",text:"",color:"red"})):o?.code==="snow"?(f-=25,p.push({name:"",text:"",color:"red"})):o?.code==="thunderstorm"?(f-=40,p.push({name:"",text:"",color:"red"})):o?.code==="fog"?(f-=15,p.push({name:"",text:"",color:"orange"})):o?.code==="sunny"||o?.code==="partly-cloudy"?(f+=15,p.push({name:"",text:"",color:"green"})):p.push({name:"",text:"",color:"yellow"}),r>=40&&r<=60?(f+=10,p.push({name:"",text:"",color:"green"})):r>=30&&r<=70?(f+=5,p.push({name:"",text:"",color:"lime"})):r>=20&&r<=80?p.push({name:"",text:"",color:"yellow"}):(f-=10,p.push({name:"",text:"",color:"orange"})),a>=3&&a<=6?(f+=5,p.push({name:"-",text:"",color:"green"})):a<3?p.push({name:"-",text:"",color:"lime"}):a<=8?(f-=5,p.push({name:"-",text:"",color:"yellow"})):(f-=15,p.push({name:"-",text:"",color:"red"})),{score:Math.max(0,Math.min(100,f)),factors:p}},{score:d,factors:h}=l(),c=d>=80?{label:"  !",color:"text-green-400",bg:"bg-green-500/20",icon:We,description:"     !",tips:["    ","     ","    "]}:d>=60?{label:"",color:"text-lime-400",bg:"bg-lime-500/20",icon:We,description:"    .",tips:["   ","       ","   "]}:d>=40?{label:"",color:"text-yellow-400",bg:"bg-yellow-500/20",icon:null,description:" ,   .",tips:["   ","     ","    "]}:{label:"  ",color:"text-red-400",bg:"bg-red-500/20",icon:cs,description:"    .",tips:["   ","    ","      "]},u=c.icon;return n.jsx(k,{title:"  ",icon:ne,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[u&&n.jsx(u,{className:`w-8 h-8 ${c.color}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:`text-lg font-bold ${c.color}`,children:c.label})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-bold text-slate-100",children:d}),n.jsx("p",{className:"text-xs text-slate-500",children:" 100"})]})]}),n.jsx("div",{className:"relative h-3 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`absolute inset-y-0 left-0 bg-gradient-to-r ${d>=80?"from-green-500 to-lime-500":d>=60?"from-lime-500 to-yellow-500":d>=40?"from-yellow-500 to-orange-500":"from-orange-500 to-red-500"} transition-all duration-500`,style:{width:`${d}%`}})}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map((f,p)=>n.jsxs("div",{className:`p-2 rounded-lg ${f.color==="red"?"bg-red-500/10":f.color==="orange"?"bg-orange-500/10":f.color==="yellow"?"bg-yellow-500/10":f.color==="lime"?"bg-lime-500/10":"bg-green-500/10"}`,children:[n.jsx("p",{className:"text-xs text-slate-400",children:f.name}),n.jsx("p",{className:`text-sm font-semibold ${f.color==="red"?"text-red-400":f.color==="orange"?"text-orange-400":f.color==="yellow"?"text-yellow-400":f.color==="lime"?"text-lime-400":"text-green-400"}`,children:f.text})]},p))}),n.jsxs("div",{className:`p-3 rounded-lg ${c.bg}`,children:[n.jsx("p",{className:"text-xs text-slate-400 mb-2",children:c.description}),n.jsx("ul",{className:"space-y-1",children:c.tips.map((f,p)=>n.jsx("li",{className:"text-xs text-slate-300",children:f},p))})]})]})})},O0=({current:e})=>{if(!e)return null;const{temperature:t,feelsLike:s,humidity:i,windSpeed:r,uvIndex:o,condition:a}=e,l=()=>{let u=50;const f=[];return t>=10&&t<=18?(u+=30,f.push({name:"",value:`${Math.round(t)}C`,text:"",color:"green"})):t>=5&&t<=22?(u+=20,f.push({name:"",value:`${Math.round(t)}C`,text:"",color:"lime"})):t>=0&&t<=25?(u+=5,f.push({name:"",value:`${Math.round(t)}C`,text:"",color:"yellow"})):(u-=15,f.push({name:"",value:`${Math.round(t)}C`,text:"",color:"red"})),i>=40&&i<=60?(u+=20,f.push({name:"",value:`${i}%`,text:"",color:"green"})):i>=30&&i<=70?(u+=10,f.push({name:"",value:`${i}%`,text:"",color:"lime"})):i>80?(u-=20,f.push({name:"",value:`${i}%`,text:"!",color:"red"})):(u-=10,f.push({name:"",value:`${i}%`,text:"",color:"orange"})),r<=3?(u+=15,f.push({name:"",value:`${Math.round(r)} /`,text:"",color:"green"})):r<=7?(u+=5,f.push({name:"",value:`${Math.round(r)} /`,text:"",color:"lime"})):r>12?(u-=15,f.push({name:"",value:`${Math.round(r)} /`,text:"",color:"red"})):f.push({name:"",value:`${Math.round(r)} /`,text:"",color:"yellow"}),a?.code==="rain"?(u-=25,f.push({name:"",value:"",text:"",color:"red"})):a?.code==="snow"?(u-=20,f.push({name:"",value:"",text:"",color:"orange"})):a?.code==="thunderstorm"?(u-=40,f.push({name:"",value:"",text:"!",color:"red"})):a?.code==="sunny"?(u+=10,f.push({name:"",value:"",text:"",color:"green"})):f.push({name:"",value:"",text:"",color:"yellow"}),o>=6?(u-=15,f.push({name:"",value:o.toString(),text:"",color:"red"})):o>=3?(u-=5,f.push({name:"",value:o.toString(),text:"",color:"yellow"})):f.push({name:"",value:o.toString(),text:"",color:"green"}),{score:Math.max(0,Math.min(100,u)),factors:f}},{score:d,factors:h}=l(),c=d>=80?{label:"",color:"text-green-400",bg:"bg-green-500/20"}:d>=60?{label:"",color:"text-lime-400",bg:"bg-lime-500/20"}:d>=40?{label:"",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{label:"",color:"text-red-400",bg:"bg-red-500/20"};return n.jsx(k,{title:"  ",icon:ur,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:`text-xl font-bold ${c.color}`,children:c.label})]}),n.jsx("p",{className:"text-4xl font-bold text-slate-100",children:d})]}),n.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full bg-gradient-to-r ${d>=60?"from-green-500 to-lime-500":d>=40?"from-yellow-500 to-orange-500":"from-orange-500 to-red-500"}`,style:{width:`${d}%`}})}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map((u,f)=>n.jsxs("div",{className:`p-2 rounded-lg ${u.color==="red"?"bg-red-500/10":u.color==="orange"?"bg-orange-500/10":u.color==="yellow"?"bg-yellow-500/10":u.color==="lime"?"bg-lime-500/10":"bg-green-500/10"}`,children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-slate-400",children:u.name}),n.jsx("span",{className:"text-xs font-mono text-slate-500",children:u.value})]}),n.jsx("p",{className:`text-sm font-semibold ${u.color==="red"?"text-red-400":u.color==="orange"?"text-orange-400":u.color==="yellow"?"text-yellow-400":u.color==="lime"?"text-lime-400":"text-green-400"}`,children:u.text})]},f))}),d<40&&n.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-500/10 rounded-lg",children:[n.jsx(xe,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-xs text-red-300",children:" !       ."})]})]})})},B0=({astronomy:e})=>{const[t,s]=g.useState(null);if(!e)return null;const{moonPhase:i,moonIllumination:r}=e,o=[{name:"",icon:"",illumination:0,influence:"   .    ."},{name:" ",icon:"",illumination:25,influence:"  .  ."},{name:" ",icon:"",illumination:50,influence:"  .  ."},{name:"",icon:"",illumination:75,influence:" .  ."},{name:"",icon:"",illumination:100,influence:" .  ."},{name:"",icon:"",illumination:75,influence:" .   ."},{name:" ",icon:"",illumination:50,influence:" .  ."},{name:" ",icon:"",illumination:25,influence:" .   ."}],a=o.find(h=>Math.abs(h.illumination-r)<=12.5)||o[0],d=r<10?{type:"rest",text:" ",color:"blue"}:r<40?{type:"growth",text:" ",color:"green"}:r<60?{type:"action",text:" ",color:"yellow"}:r<90?{type:"peak",text:" ",color:"orange"}:{type:"maximum",text:" ",color:"red"};return n.jsx(k,{title:"  ",icon:Bs,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-4xl",children:a.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:"text-lg font-bold text-slate-100",children:a.name})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-slate-100",children:[r,"%"]}),n.jsx("p",{className:"text-xs text-slate-500",children:""})]})]}),n.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-slate-600 to-slate-200",style:{width:`${r}%`}})}),n.jsxs("div",{className:`p-3 rounded-lg bg-${d.color}-500/10 border border-${d.color}-500/30`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ls,{className:`w-4 h-4 text-${d.color}-400`}),n.jsx("span",{className:`text-sm font-semibold text-${d.color}-400`,children:d.text})]}),n.jsx("p",{className:"text-xs text-slate-300",children:a.influence})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:o.slice(0,8).map((h,m)=>n.jsxs("button",{onClick:()=>s(h),className:`p-2 rounded-lg text-center transition-all ${t?.name===h.name?"bg-slate-600":"bg-slate-700/30 hover:bg-slate-700/50"}`,children:[n.jsx("span",{className:"text-xl",children:h.icon}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:h.name})]},m))}),t&&n.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[n.jsx("p",{className:"text-xs text-slate-400 mb-1",children:":"}),n.jsx("p",{className:"text-sm text-slate-200",children:t.influence})]})]})})},W0=({location:e})=>{const t={high:[{time:"06:23",height:1.8},{time:"18:45",height:1.9}],low:[{time:"00:15",height:.3},{time:"12:34",height:.4}],nextHigh:"18:45"};return e?.coordinates&&Math.abs(e.coordinates.lat)<60?n.jsx(k,{title:"   ",icon:Wt,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:"text-lg font-bold text-blue-400",children:" "})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-slate-400",children:" "}),n.jsx("p",{className:"text-xl font-bold text-slate-100",children:t.nextHigh})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[n.jsx("p",{className:"text-xs text-blue-400 mb-2",children:" "}),t.high.map((i,r)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-slate-300",children:i.time}),n.jsxs("span",{className:"text-slate-400",children:[i.height," "]})]},r))]}),n.jsxs("div",{className:"p-3 bg-cyan-500/10 rounded-lg",children:[n.jsx("p",{className:"text-xs text-cyan-400 mb-2",children:" "}),t.low.map((i,r)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-slate-300",children:i.time}),n.jsxs("span",{className:"text-slate-400",children:[i.height," "]})]},r))]})]}),n.jsx("div",{className:"text-xs text-slate-500 text-center",children:"  .     ."})]})}):n.jsx(k,{title:" ",icon:Wt,children:n.jsxs("div",{className:"text-center py-8 text-slate-400",children:[n.jsx(Wt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"    "})]})})},U0=({agriculture:e,current:t})=>{if(!e||!t)return null;const{conditions:s,soilMoisture:i,frostRisk:r,irrigationNeed:o}=e,{temperature:a}=t,l=()=>{const c=[];return(s.status===""||s.status==="")&&c.push({icon:"",text:"   ",priority:"high"}),o===""?c.push({icon:"",text:" ",priority:"high"}):o===""&&c.push({icon:"",text:"  ",priority:"medium"}),r===""&&c.push({icon:"",text:"   ",priority:"critical"}),i>80&&c.push({icon:"",text:"  ()",priority:"medium"}),a>30&&c.push({icon:"",text:" ",priority:"medium"}),c.length===0&&c.push({icon:"",text:"  ",priority:"low"}),c},d=()=>{const c=new Date().getMonth();return c>=2&&c<=4?["","",""]:c>=5&&c<=7?["","",""]:c>=8&&c<=10?["","",""]:["","",""]},h=l(),m=d();return n.jsx(k,{title:"  ",icon:cr,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`p-3 rounded-lg ${s.color==="green"?"bg-green-500/20":s.color==="yellow"?"bg-yellow-500/20":"bg-red-500/20"}`,children:[n.jsx("p",{className:"text-sm text-slate-400",children:"  "}),n.jsx("p",{className:`text-lg font-bold ${s.color==="green"?"text-green-400":s.color==="yellow"?"text-yellow-400":"text-red-400"}`,children:s.status}),n.jsx("p",{className:"text-xs text-slate-300 mt-1",children:s.description})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-slate-400 mb-2 flex items-center gap-2",children:[n.jsx(Fs,{className:"w-4 h-4"}),"   "]}),n.jsx("div",{className:"space-y-2",children:h.map((c,u)=>n.jsxs("div",{className:`p-2 rounded-lg flex items-center gap-2 ${c.priority==="critical"?"bg-red-500/20":c.priority==="high"?"bg-orange-500/20":"bg-slate-700/30"}`,children:[n.jsx("span",{className:"text-lg",children:c.icon}),n.jsx("span",{className:"text-sm text-slate-200 flex-1",children:c.text})]},u))})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-slate-400 mb-2 flex items-center gap-2",children:[n.jsx(ee,{className:"w-4 h-4"}),"  "]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((c,u)=>n.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-sm rounded-full",children:c},u))})]})]})})},H0=()=>{const[e,t]=g.useState([]);return g.useEffect(()=>{const o=localStorage.getItem("favorite_cities");if(o)try{t(JSON.parse(o))}catch(a){console.error("Failed to load favorites:",a)}},[]),{favorites:e,addFavorite:o=>{const a=[...e,{...o,addedAt:Date.now()}];t(a),localStorage.setItem("favorite_cities",JSON.stringify(a))},removeFavorite:o=>{const a=e.filter(l=>l.name!==o);t(a),localStorage.setItem("favorite_cities",JSON.stringify(a))},isFavorite:o=>e.some(a=>a.name===o)}},_0=()=>{const[e,t]=g.useState(null),[s,i]=g.useState(null),[r,o]=g.useState(!1),a=()=>{if(!navigator.geolocation){i("  ");return}o(!0),navigator.geolocation.getCurrentPosition(l=>{t({lat:l.coords.latitude,lon:l.coords.longitude,accuracy:l.coords.accuracy}),i(null),o(!1)},l=>{i(l.message),o(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return g.useEffect(()=>{a()},[]),{location:e,error:s,loading:r,refetch:a}},z0=({isDark:e,toggleTheme:t})=>{const{data:s,loading:i,error:r,refresh:o,location:a,hasApiKey:l}=em(),{loading:d,refetch:h}=_0();H0();const[m,c]=g.useState(!1),[u,f]=g.useState(!1),[p,j]=g.useState(!1);g.useEffect(()=>{const b=document.body,S=s?.current?.condition?.animation;if(b.classList.remove("weather-sunny","weather-cloudy","weather-rainy","weather-snowy","weather-thunderstorm","weather-fog"),S){const N=`weather-${S}`;b.classList.add(N)}},[s]);const x=async()=>{j(!0),await o(),setTimeout(()=>j(!1),500)},v=()=>{o()},y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.04,delayChildren:.15}}};return i?n.jsx(tm,{}):r&&!s?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-6 p-6",children:[n.jsx(w.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsx(Ls,{type:"cloudy",size:120})}),n.jsx(w.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-red-400 text-center max-w-md",children:r}),n.jsxs(w.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex gap-3",children:[n.jsx("button",{onClick:()=>c(!0),className:"px-5 py-2.5 bg-slate-700/80 backdrop-blur-sm text-white rounded-xl hover:bg-slate-600/80 transition-all card-glass button-press",children:""}),n.jsx("button",{onClick:x,className:"px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all button-press shadow-lg shadow-blue-500/30",children:""})]}),n.jsx(qi,{isOpen:m,onClose:()=>c(!1),onSave:v})]}):n.jsxs(n.Fragment,{children:[n.jsx(om,{}),n.jsx(cm,{}),n.jsx(lm,{data:s?.current}),n.jsx(am,{weatherType:s?.current?.condition?.animation||"clear"}),n.jsx("div",{className:"min-h-screen p-4 md:p-6 lg:p-8 relative z-10",children:n.jsxs("main",{id:"main-content",tabIndex:"-1",className:"max-w-[1800px] mx-auto",children:[n.jsxs(w.header,{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 lg:mb-8 gap-4 safe-top",initial:{opacity:0,y:-24},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[n.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[n.jsx(w.div,{className:"w-14 h-14 sm:w-16 sm:h-16 flex-shrink-0 flex items-center justify-center bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl ring-2 ring-white/10 shadow-lg shadow-blue-500/20",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:400},children:n.jsx(Ls,{type:s?.current?.condition?.animation||"cloudy",size:56})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx(w.h1,{className:"text-2xl sm:text-3xl font-bold text-slate-100 tracking-tight",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:""}),n.jsxs(w.div,{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},children:[n.jsx(yt,{className:"w-4 h-4 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:[a?.city,", ",a?.country]}),!l&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full font-medium border border-amber-500/30",children:"Demo"})]})]})]}),n.jsxs(w.div,{className:"flex items-center gap-2 w-full lg:w-auto overflow-x-auto pb-2 lg:pb-0 scrollbar-thin",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[n.jsx(w.button,{onClick:h,disabled:d,className:"p-2.5 rounded-xl bg-blue-600/50 backdrop-blur-sm hover:bg-blue-600/70 transition-all flex-shrink-0 card-glass button-press disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},title:" ","aria-label":" ",children:n.jsx(Navigation,{className:`w-5 h-5 text-blue-300 ${d?"animate-spin":""}`})}),n.jsx("div",{className:"flex-1 lg:flex-none min-w-[180px] lg:min-w-[200px] lg:w-52",children:n.jsx(nm,{onCitySelect:b=>o({lat:b.lat,lon:b.lon})})}),n.jsx(rm,{}),n.jsx(w.button,{onClick:()=>c(!0),className:"p-2.5 rounded-xl bg-slate-700/50 backdrop-blur-sm hover:bg-slate-600/50 transition-all flex-shrink-0 card-glass button-press",whileHover:{scale:1.05},whileTap:{scale:.95},title:"","aria-label":"",children:n.jsx(or,{className:"w-5 h-5 text-slate-300"})}),n.jsx(w.button,{onClick:()=>f(!0),className:"p-2.5 rounded-xl bg-slate-700/50 backdrop-blur-sm hover:bg-slate-600/50 transition-all flex-shrink-0 card-glass button-press relative",whileHover:{scale:1.05},whileTap:{scale:.95},title:" ","aria-label":" ",children:n.jsx(Ke,{className:"w-5 h-5 text-slate-300"})}),n.jsx(w.button,{onClick:t,className:"p-2.5 rounded-xl bg-slate-700/50 backdrop-blur-sm hover:bg-slate-600/50 transition-all flex-shrink-0 card-glass button-press",whileHover:{scale:1.05,rotate:15},whileTap:{scale:.95},title:e?" ":" ","aria-label":e?" ":" ",children:n.jsx($t,{mode:"wait",initial:!1,children:e?n.jsx(w.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},exit:{scale:0,rotate:90},transition:{type:"spring",stiffness:500},children:n.jsx(ne,{className:"w-5 h-5 text-yellow-400"})},"sun"):n.jsx(w.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},exit:{scale:0,rotate:90},transition:{type:"spring",stiffness:500},children:n.jsx(Bs,{className:"w-5 h-5 text-slate-300"})},"moon")})}),n.jsx(w.button,{onClick:x,disabled:p,className:"p-2.5 rounded-xl bg-slate-700/50 backdrop-blur-sm hover:bg-slate-600/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 card-glass button-press",whileHover:{scale:1.05},whileTap:{scale:.95},title:" ","aria-label":" ",children:n.jsx(Fo,{className:`w-5 h-5 text-slate-300 ${p?"animate-spin":""}`})})]})]}),n.jsxs(w.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",variants:y,initial:"hidden",animate:"visible",children:[n.jsx(dm,{alerts:[],current:s?.current}),n.jsx(pm,{data:s?.current,location:a}),n.jsx($m,{current:s?.current}),n.jsx(Vm,{data:s?.current?.pressure}),n.jsx(Lm,{current:s?.current,astronomy:s?.astronomy}),n.jsx(bm,{hourlyData:s?.hourly,dailyData:s?.daily}),n.jsx(Im,{astronomy:s?.astronomy}),n.jsx(Fm,{astronomy:s?.astronomy}),n.jsx(wm,{data:s?.hourly}),n.jsx(Nm,{data:s?.hourly}),n.jsx(Pm,{data:s?.windRose}),n.jsx(km,{value:s?.current?.uvIndex||0}),n.jsx(Dm,{data:s?.airQuality}),n.jsx(Tm,{data:s?.hourly}),n.jsx(Cm,{data:s?.hourly}),n.jsx(Am,{data:s?.pollen}),n.jsx(Em,{data:s?.agriculture}),n.jsx(L0,{current:s?.current,astronomy:s?.astronomy}),n.jsx($0,{current:s?.current}),n.jsx(I0,{current:s?.current}),n.jsx(F0,{current:s?.current}),n.jsx(O0,{current:s?.current}),n.jsx(B0,{astronomy:s?.astronomy}),n.jsx(U0,{agriculture:s?.agriculture,current:s?.current}),n.jsx(W0,{location:a}),n.jsx(V0,{location:a,coordinates:a?.coordinates}),n.jsx(R0,{location:a}),n.jsx("div",{className:"col-span-full",children:n.jsx(A0,{weatherData:s,location:a})})]}),n.jsxs(w.footer,{className:"mt-10 lg:mt-12 text-center text-sm text-slate-500 pb-24 md:pb-8 safe-bottom",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{children:"  v2.0"}),n.jsx("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),n.jsx("span",{className:"text-slate-600",children:l?" OpenWeatherMap":"- ( )"})]}),n.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-blue-400 hover:text-blue-300 transition-colors text-xs underline underline-offset-4",children:" API"})]})]})}),n.jsx(qi,{isOpen:m,onClose:()=>c(!1),onSave:v}),n.jsx(im,{isOpen:u,onClose:()=>f(!1),currentWeather:s?.current,location:a}),n.jsx(sm,{})]})};function K0(){const[e,t]=g.useState(!0);g.useEffect(()=>{e?document.body.classList.remove("light"):document.body.classList.add("light")},[e]);const s=()=>{t(!e)};return n.jsx(z0,{isDark:e,toggleTheme:s})}const G0=g.createContext(null),X0={temperature:"celsius",windSpeed:"ms",pressure:"mmhg",visibility:"km",precipitation:"mm"},q0=({children:e})=>{const[t,s]=g.useState(X0);g.useEffect(()=>{const c=localStorage.getItem("weather_units");if(c)try{s(JSON.parse(c))}catch(u){console.error("Failed to load units:",u)}},[]);const m={units:t,updateUnits:c=>{const u={...t,...c};s(u),localStorage.setItem("weather_units",JSON.stringify(u))},convertTemperature:c=>t.temperature==="fahrenheit"?Math.round((c*9/5+32)*10)/10:Math.round(c*10)/10,convertWindSpeed:c=>{switch(t.windSpeed){case"kmh":return Math.round(c*3.6);case"mph":return Math.round(c*2.237);case"knots":return Math.round(c*1.944);default:return Math.round(c*10)/10}},convertPressure:c=>{switch(t.pressure){case"hpa":return Math.round(c);case"inHg":return Math.round(c*.02953*100)/100;default:return Math.round(c*.750062)}},convertVisibility:c=>t.visibility==="miles"?Math.round(c*.621371*100)/100:Math.round(c*100)/100,convertPrecipitation:c=>t.precipitation==="inches"?Math.round(c*.0393701*100)/100:Math.round(c*10)/10,getUnitLabels:()=>({temperature:t.temperature==="celsius"?"C":"F",windSpeed:{ms:"/",kmh:"/",mph:"mph",knots:""}[t.windSpeed],pressure:{mmhg:" ..",hpa:"",inHg:"inHg"}[t.pressure],visibility:t.visibility==="km"?"":"",precipitation:t.precipitation==="mm"?"":""})};return n.jsx(G0.Provider,{value:m,children:e})};po.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(q0,{children:n.jsx(K0,{})})}));
